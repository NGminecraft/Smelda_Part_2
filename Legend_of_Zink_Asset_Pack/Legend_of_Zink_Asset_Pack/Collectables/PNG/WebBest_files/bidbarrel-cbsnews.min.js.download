/*! 
 
 CBSi Ad Library v3.16.0
 Prebid v8.20.0
 Property cbsnews
 Variant us
 
 Compiled At: Wed Dec 06 2023 16:42:50 GMT+0000 (Coordinated Universal Time)
  */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=265)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setEventEmitter=function(e){e},t.getPrebidInternal=function(){return C},t.getUniqueIdentifierStr=R,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return(null==t?void 0:t[e])||""},t.parseQueryStringParameters=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,"")},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&"):""},t.parseSizesInput=function(e){if("string"==typeof e)return e.split(",").filter((function(e){return e.match(/^(\d)+x(\d)+$/i)}));if("object"===(0,a.default)(e))return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[D(e)]:e.map(D);return[]},t.parseGPTSingleSizeArray=D,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(k(e))return{w:e[0],h:e[1]}},t.getWindowTop=j,t.getWindowSelf=N,t.getWindowLocation=M,t.prefixLog=function(e){function t(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(void 0,[e].concat(n))}}return{logError:t(O),logWarn:t(w),logMessage:t(A),logInfo:t(_)}},t.hasConsoleLogger=function(){return I},t.debugTurnedOn=function(){return!!s.config.getConfig("debug")},t.createInvisibleIframe=B,t.getParameterByName=function(e){return Z(M().search)[e]||""},t.isA=U,t.isFn=L,t.isStr=V,t.isNumber=function(e){return U(e,"Number")},t.isPlainObject=q,t.isBoolean=function(e){return U(e,"Boolean")},t.isEmpty=function(e){if(!e)return!0;if(z(e)||V(e))return!(e.length>0);return Object.keys(e).length<=0},t.isEmptyStr=function(e){return V(e)&&(!e||0===e.length)},t._each=function(e,t){var r=this;if(L(null==e?void 0:e.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((function(e){var n=(0,o.default)(e,2),i=n[0],a=n[1];return t.call(r,a,i)}))},t.contains=function(e,t){return L(null==e?void 0:e.includes)&&e.includes(t)},t._map=function(e,t){return L(null==e?void 0:e.map)?e.map(t):Object.entries(e||{}).map((function(r){var n=(0,o.default)(r,2),i=n[0],a=n[1];return t(a,i,e)}))},t.insertElement=F,t.waitForElementToLoad=G,t.triggerPixel=W,t.callBurl=function(e){var t=e.source,r=e.burl;t===u.default.S2S.SRC&&r&&T.triggerPixel(r)},t.insertHtmlIntoIframe=function(e){if(!e)return;var t=B();T.insertElement(t,document,"body"),r=t.contentWindow.document,r.open(),r.write(e),r.close();var r},t.insertUserSyncIframe=H,t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e),r='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return r+='<img src="'+t+'"></div>'},t.createTrackPixelIframeHtml=Y,t.uniques=X,t.flatten=J,t.getBidRequest=function(e,t){if(!e)return;return t.flatMap((function(e){return e.bids})).find((function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}))},t.getValue=function(e,t){return e[t]},t.getBidderCodes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(J,[])})).reduce(J,[]).filter((function(e){return void 0!==e})).filter(X)},t.isGptPubadsDefined=function(){if(window.googletag&&L(window.googletag.pubads)&&L(window.googletag.pubads().getSlots))return!0},t.isApnGetTagDefined=function(){if(window.apntag&&L(window.apntag.getTag))return!0},t.shuffle=function(e){var t=e.length;for(;t>0;){var r=Math.floor(Math.random()*t);t--;var n=e[t];e[t]=e[r],e[r]=n}return e},t.deepClone=function(e){return(0,d.default)(e)},t.inIframe=function(){try{return T.getWindowSelf()!==T.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(!e)return;return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(!e||!t||"string"!=typeof t)return;return e.replace(/\${CLICKTHROUGH}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.hasDeviceAccess=function(){return!1!==s.config.getConfig("deviceAccess")},t.checkCookieSupport=K,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}},t.groupBy=function(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})},t.getDefinedParams=function(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){return b(t,(0,i.default)({},r,e[r]))}),{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];if(!Object.keys(e).every((function(e){return(0,c.includes)(t,e)})))return!1;if(e.video&&e.video.context)return(0,c.includes)(["instream","outstream","adpod"],e.video.context);return!0},t.getUserConfiguredParams=function(e,t,r){return e.filter((function(e){return e.code===t})).flatMap((function(e){return e.bids})).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(e){return function(t){return Q(e,t)}},t.unsupportedBidderMessage=function(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.cleanObj=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,o.default)(e,2);t[0];return void 0!==t[1]})))},t.pick=function(e,t){if("object"!==(0,a.default)(e))return{};return t.reduce((function(r,n,i){if("function"==typeof n)return r;var o=n,a=n.match(/^(.+?)\sas\s(.+?)$/i);a&&(n=a[1],o=a[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[o]=s),r}),{})},t.isArrayOfNums=function(e,t){return z(e)&&(!t||e.length===t)&&e.every((function(e){return $(e)}))},t.parseQS=Z,t.formatQS=ee,t.parseUrl=function(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:T.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(T.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=te,t.mergeDeep=function e(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(!o.length)return t;var s=o.shift();if(q(t)&&q(s)){var d=function(r){q(s[r])?(t[r]||b(t,(0,i.default)({},r,{})),e(t[r],s[r])):z(s[r])?t[r]?z(t[r])&&s[r].forEach((function(e){for(var n=1,i=0;i<t[r].length;i++)if(te(t[r][i],e)){n=0;break}n&&t[r].push(e)})):b(t,(0,i.default)({},r,(0,n.default)(s[r]))):b(t,(0,i.default)({},r,s[r]))};for(var c in s)d(c)}return e.apply(void 0,[t].concat(o))},t.cyrb53Hash=function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(L(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},i=3735928559^r,o=1103547991^r,a=0;a<e.length;a++)t=e.charCodeAt(a),i=n(i^t,2654435761),o=n(o^t,1597334677);return i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909),(4294967296*(2097151&(o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()},t.safeJSONParse=function(e){try{return JSON.parse(e)}catch(e){}},t.memoize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=new Map,n=function(){var n=t.apply(this,arguments);return r.has(n)||r.set(n,e.apply(this,arguments)),r.get(n)};return n.clear=r.clear.bind(r),n},t.setScriptAttributes=function(e,t){Object.entries(t).forEach((function(t){var r=(0,o.default)(t,2),n=r[0],i=r[1];return e.setAttribute(n,i)}))},t.binarySearch=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=0,i=e.length&&e.length-1,o=r(t);for(;i-n>1;){var a=n+Math.round((i-n)/2);o>r(e[a])?n=a:i=a}for(;e.length>n&&o>r(e[n]);)n++;return n},Object.defineProperty(t,"deepAccess",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"deepSetValue",{enumerable:!0,get:function(){return g.dset}}),t.isInteger=t.compareCodeAndSlot=t.isArray=t.internal=t.logError=t.logWarn=t.logInfo=t.logMessage=void 0,r(17),r(165),r(166),r(167),r(168),r(169),r(170),r(9),r(64),r(1);var n=v(r(23)),i=v(r(11)),o=v(r(6)),a=v(r(18)),s=r(4),d=v(r(408)),c=r(15),u=v(r(20)),l=r(42),f=r(8),p=v(r(409)),g=r(410),m=r(3);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}var y=Object.prototype.toString,h=Boolean(window.console),I=Boolean(h&&window.console.log),S=(Boolean(h&&window.console.info),Boolean(h&&window.console.warn),Boolean(h&&window.console.error),(0,f.getGlobal)());var E=(0,m.logger)({name:"Prebid",bgColor:"#3b88c3",textColor:"#FFF"}).atVerbosity(3),A=E.logMessage;t.logMessage=A;var _=E.logInfo;t.logInfo=_;var w=E.logWarn;t.logWarn=w;var O=E.logError;t.logError=O;var T={checkCookieSupport:K,createTrackPixelIframeHtml:Y,getWindowSelf:N,getWindowTop:j,getWindowLocation:M,insertUserSyncIframe:H,insertElement:F,isFn:L,triggerPixel:W,parseQS:Z,formatQS:ee,deepEqual:te};t.internal=T;var C={};var x,P=(x=0,function(){return++x});function R(){return P()+Math.random().toString(16).substr(2)}function D(e){if(k(e))return e[0]+"x"+e[1]}function k(e){return z(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function j(){return window.top}function N(){return window.self}function M(){return window.location}function B(){var e=document.createElement("iframe");return e.id=R(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e.style.height="0px",e.style.width="0px",e.allowtransparency="true",e}function U(e,t){return y.call(e)==="[object "+t+"]"}function L(e){return U(e,"Function")}function V(e){return U(e,"String")}var z=Array.isArray.bind(Array);function q(e){return U(e,"Object")}function F(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=n?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function G(e,t){var r=null;return new l.GreedyPromise((function(n){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))}))}function W(e,t,r){var n=new Image;t&&T.isFn(t)&&G(n,r).then(t),n.src=e}function H(e,t,r){var n=T.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;var o=i.firstChild;t&&T.isFn(t)&&G(o,r).then(t),T.insertElement(o,document,"html",!0)}function Y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'.concat(r,'"')),"<iframe ".concat(r,' id="').concat(R(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function X(e,t,r){return r.indexOf(e)===t}function J(e,t){return e.concat(t)}function K(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}t.isArray=z;var Q=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};t.compareCodeAndSlot=Q;var $=Number.isInteger.bind(Number);function Z(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=t.split("="),n=(0,o.default)(r,2),i=n[0],a=n[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(a)):e[i]=a||"",e}),{}):{}}function ee(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function te(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.checkTypes,i=void 0!==n&&n;if(e===t)return!0;if("object"!==(0,a.default)(e)||null===e||"object"!==(0,a.default)(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!te(e[o],t[o],{checkTypes:i}))return!1}return!0}t.isInteger=$},function(e,t,r){var n=r(2),i=r(266),o=r(267),a=r(179),s=r(55),d=r(22),c=d("iterator"),u=d("toStringTag"),l=a.values,f=function(e,t){if(e){if(e[c]!==l)try{s(e,c,l)}catch(t){e[c]=l}if(e[u]||s(e,u,t),i[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var p in i)f(n[p]&&n[p].prototype,p);f(o,"DOMTokenList")},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(85))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogStack=function(){return p},t.getVerbosityLevel=function(){return parseInt(g[c]||3)},t.setDefaultConfig=function(e){b=(0,i.default)({},e,b)},t.turnOnDebug=function(){v=!0,function(){for(const e in f)f.hasOwnProperty(e)&&f[e].reset()}()},t.debugOn=A,t.bbLogger=t.logger=void 0,r(1),r(17);var n=r(61),i=d(r(26)),o=r(316),a=r(5),s=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}const{LOG_VERBOSITY:c,PBJS_DEBUG:u}=s.default.QUERY_PARAMS,{BIDBARREL:l}=s.default.LOGS,f={},p=[],g=(0,n.urlQueryAsObject)(),m=g[u];let v=!!m&&["true","trace","time"].indexOf(m.toLowerCase())>=0,b={name:l.LABEL,bgColor:l.COLOR,textColor:"#FFF"};const y={logMessage:{consoleMethod:"log"},logInfo:{consoleMethod:"info"},logWarn:{consoleMethod:"warn"},logError:{consoleMethod:"error"}},h=(e,t)=>(0,a.dom)().window.document.documentMode||/Edge/.test((0,a.dom)().window.navigator.userAgent)?{label:"".concat(t.name),descriptor:"".concat(e.toUpperCase(),":"),style:""}:{label:"%c".concat(t.name),descriptor:"".concat(e.toUpperCase(),":"),style:"display: inline-block; color: ".concat(t.textColor,"; background: ").concat(t.bgColor,"; padding: 1px 4px; border-radius: 3px;")};let I=0;const S=function(e){let{name:t,textColor:r,bgColor:n}=e;const i={},s={};function d(e){return i["@".concat(e)]||(i["@".concat(e)]=Object.keys(y).reduce(((i,d)=>{const{consoleMethod:u}=y[d],l=function(e){let{consoleMethod:t,level:r}=e;const n=s.allow||{};if(n.consoleMethods&&n.consoleMethods[t]||n.verbosity&&n.verbosity["@".concat(r)])return!0;return!!A()&&parseInt(g[c]||3)>=parseInt(r)}({level:e,consoleMethod:u}),f=m?m.toLowerCase():"";if("trace"!==f&&"time"!==f||!l)if(l){const{label:e,style:o,descriptor:a}=h(u,{name:t,textColor:r,bgColor:n});i[d]=void 0===console[u].bind?Function.prototype.bind.call(console[u],console,e,o,a):console[u].bind(console,e,o,a)}else i[d]=function(){return!1};else{const{label:s,style:c,descriptor:l}=h(u,{name:t,textColor:r,bgColor:n});i[d]=function(){const t=(0,a.dom)().window.performance.now(),r=parseInt(t),n=void 0===console[u].bind?Function.prototype.bind.call(console[u],console,s,c,"( ".concat(r," | +").concat(r-I," )"),l):console[u].bind(console,s,c,"( ".concat(r," | +").concat(r-I," )"),l);I=r;for(var i=arguments.length,g=new Array(i),m=0;m<i;m++)g[m]=arguments[m];p.push({type:d,input:g,stack:"trace"===f?(0,o.getStackTrace)():"omitted",verbosity:e,time:t}),n(...g)}}return i}),{atVerbosity:d,reset:u,setLoggerConfig:e=>{s.allow=e,u()}})),i["@".concat(e)]}function u(){for(const e in i)i.hasOwnProperty(e)&&(i[e]=d(e.replace("@","")))}return f[t]=f[t]||d(3),f[t]};t.logger=S;const E=S({name:l.LABEL,bgColor:l.COLOR,textColor:"#FFF"});function A(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&v?m.toLowerCase()===e.toLowerCase():v}t.bbLogger=E},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.newConfig=y,t.config=t.RANDOM=void 0,r(1);var n=u(r(11)),i=u(r(18)),o=u(r(6)),a=r(241),s=r(15),d=r(0),c=u(r(20));function u(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var p="TRUE"===(0,d.getParameterByName)(c.default.DEBUG_MODE).toUpperCase(),g="random";t.RANDOM=g;var m={random:!0,fixed:!0},v={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},b="*";function y(){var e,t,r,c=[],u=null;function g(){function n(e){return c[e].val}function i(e,t){c[e].val=t}e={};var c={publisherDomain:{set:function(e){null!=e&&(0,d.logWarn)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),i("publisherDomain",e)}},priceGranularity:{val:v.MEDIUM,set:function(e){g(e)&&("string"==typeof e?i("priceGranularity",f(e)?e:v.MEDIUM):(0,d.isPlainObject)(e)&&(i("customPriceBucket",e),i("priceGranularity",v.CUSTOM),(0,d.logMessage)("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&i("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,r){return g(e[r])?"string"==typeof e?t[r]=f(e[r])?e[r]:n("priceGranularity"):(0,d.isPlainObject)(e)&&(t[r]=e[r],(0,d.logMessage)("Using custom price granularity for ".concat(r))):(0,d.logWarn)("Invalid price granularity for media type: ".concat(r)),t}),{}))}},bidderSequence:{val:"random",set:function(e){m[e]?i("bidderSequence",e):(0,d.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!(0,d.isPlainObject)(e))return(0,d.logWarn)("Auction Options must be an object"),!1;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("secondaryBidders"!==n&&"suppressStaleRender"!==n)return(0,d.logWarn)("Auction Options given an incorrect param: ".concat(n)),!1;if("secondaryBidders"===n){if(!(0,d.isArray)(e[n]))return(0,d.logWarn)("Auction Options ".concat(n," must be of type Array")),!1;if(!e[n].every(d.isStr))return(0,d.logWarn)("Auction Options ".concat(n," must be only string")),!1}else if("suppressStaleRender"===n&&!(0,d.isBoolean)(e[n]))return(0,d.logWarn)("Auction Options ".concat(n," must be of type boolean")),!1}return!0})(e)&&i("auctionOptions",e)}}},u={debug:p,bidderTimeout:3e3,enableSendAllBids:true,useBidCache:false,deviceAccess:true,timeoutBuffer:400,disableAjaxTimeout:false,maxNestedIframes:10};function f(e){return(0,s.find)(Object.keys(v),(function(t){return e===v[t]}))}function g(e){if(!e)return(0,d.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)f(e)||(0,d.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,d.isPlainObject)(e)&&!(0,a.isValidPriceConfig)(e))return(0,d.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(u,Object.fromEntries(Object.entries(c).map((function(e){var t=(0,o.default)(e,2),r=t[0],a=t[1];return[r,l({get:n.bind(null,r),set:i.bind(null,r),enumerable:!0},a)]})))),t&&x(Object.keys(t).reduce((function(e,r){return t[r]!==u[r]&&(e[r]=u[r]||{}),e}),{})),t=u,r={}}function y(){if(u&&r&&(0,d.isPlainObject)(r[u])){var e=r[u],n=new Set(Object.keys(t).concat(Object.keys(e)));return(0,s.arrayFrom)(n).reduce((function(r,n){return void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:(0,d.isPlainObject)(e[n])?r[n]=(0,d.mergeDeep)({},t[n],e[n]):r[n]=e[n],r}),{})}return l({},t)}var h=[y,function(){var e=y();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?(0,d.deepAccess)(e(),t):y()}return C.apply(void 0,arguments)}})),I=(0,o.default)(h,2),S=I[0],E=I[1],A=[E,S].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"===(0,i.default)(t)&&(t=(0,d.deepClone)(t)),t}})),_=(0,o.default)(A,2),w=_[0],O=_[1];function T(r){if((0,d.isPlainObject)(r)){var n=Object.keys(r),i={};n.forEach((function(n){var o=r[n];(0,d.isPlainObject)(e[n])&&(0,d.isPlainObject)(o)&&(o=l({},e[n],o));try{i[n]=t[n]=o}catch(e){(0,d.logWarn)("Cannot set config for property ".concat(n," : "),e)}})),x(i)}else(0,d.logError)("setConfig options must be an object")}function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=b,r=t||{}),"function"==typeof i){var o={topic:e,callback:i};return c.push(o),r.init&&i(e===b?E():(0,n.default)({},e,E(e))),function(){c.splice(c.indexOf(o),1)}}(0,d.logError)("listener must be a function")}function x(e){var t=Object.keys(e);c.filter((function(e){return(0,s.includes)(t,e.topic)})).forEach((function(t){t.callback((0,n.default)({},t.topic,e[t.topic]))})),c.filter((function(e){return e.topic===b})).forEach((function(t){return t.callback(e)}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{n(e),e.bidders.forEach((function(n){r[n]||(r[n]={}),Object.keys(e.config).forEach((function(i){var o=e.config[i];if((0,d.isPlainObject)(o)){var a=t?d.mergeDeep:Object.assign;r[n][i]=a({},r[n][i]||{},o)}else r[n][i]=o}))}))}catch(e){(0,d.logError)(e)}function n(e){if(!(0,d.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,d.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function R(e,t){u=e;try{return t()}finally{D()}}function D(){u=null}return g(),{getCurrentBidder:function(){return u},resetBidder:D,getConfig:E,getAnyConfig:S,readConfig:w,readAnyConfig:O,setConfig:T,mergeConfig:function(e){if((0,d.isPlainObject)(e)){var t=(0,d.mergeDeep)(y(),e);return T(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t)),t}(0,d.logError)("mergeConfig input must be an object")},setDefaults:function(r){(0,d.isPlainObject)(e)?(l(e,r),l(t,r)):(0,d.logError)("defaults must be an object")},resetConfig:g,runWithBidder:R,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return R(e,t.bind.apply(t,[this].concat(n)))}(0,d.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:P,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return P(e,!0)}}}var h=y();t.config=h},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.dom=s,t.getGlobal=function(){(0,i.default)(s(),"window.BidBarrel")||(s().window.BidBarrel={},s().window.BidBarrel.queue=[]);return s().window.BidBarrel};var n=o(r(45)),i=o(r(31));function o(e){return e&&e.__esModule?e:{default:e}}let a="undefined"==typeof window?{window:e}:{window:window};function s(e){return(0,n.default)(e)||(a={...a,...e}),a}}).call(this,r(85))},function(e,t,r){var n=r(405),i=r(406),o=r(240),a=r(407);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()}},function(e){e.exports=JSON.parse('{"STAGE_ENVIRONMENTS":["stage","staging","dev"],"QUERY_PARAMS":{"LOG_VERBOSITY":"bb_logVerbosity","PERF_MEASURE":"bb_perfMeasure","FORCE_RUN":"bb_forceRun","ANALYTICS":"bb_analytics","PBJS_DEBUG":"pbjs_debug","AD_SUPPRESS":"adSuppress","SIZE_SUPPRESS":"sizeSuppress","BID_SUPPRESS":"bidSuppress","MOD_SUPPRESS":"modSuppress","AD_SESSION":"adSession","AD_SUBSESSION":"adSubses","AD_REGION":"bb_regionCode","AD_COUNTRY":"bb_countryCode","SESSION":"session","SUBSESSION":"subsession","FTAG":"ftag","TTAG":"ttag","TARGETING_PREFIX":"adTargeting_"},"LOGS":{"BIDBARREL":{"LABEL":"BidBarrel","COLOR":"#6B5CA5"},"REQUEST_MANAGER":{"LABEL":"requestManager","COLOR":"#777"}},"CONFIG_RESTRICTED_KEYS":["analyticsTimings","consent","timeouts","cookie","prebid","adjustSlotDefinition","refreshOrder","api"],"UNIT_CONFIG_ALLOWED_MODIFIERS":["cache","collapseEmptyDiv","sizeMappings","outOfPage","lazyLoad"],"ANALYTICS_RECORD_TYPES":{"NO_BID":"noBid","BID_USED":"usedBid","BID":"bid","TIMING":"timing"},"ANALYTICS_RECORD_DEFAULTS":{"FIRST_INTERACTION":{"SLUG":"ttfi","NAME":"Time to First Interaction"},"FIRST_PAINT":{"SLUG":"ttfp","NAME":"Time to First Paint"},"INTERACTIVE":{"SLUG":"tti","NAME":"Time to Interactive"},"FIRST_CONTENTFUL_PAINT":{"SLUG":"ttfcp","NAME":"Time to First Contentful Paint"},"PAGE_LOAD":{"SLUG":"ttpl","NAME":"Time to Page Load"},"FIRST_BYTE":{"SLUG":"ttfb","NAME":"Time to First Byte"},"VISUALLY_READY":{"SLUG":"ttvr","NAME":"Time to Visually Ready"}},"VIDEO":{"PROTOCOL":{"VAST1":1,"VAST2":2,"VAST3":3,"VAST1_WRAPPER":4,"VAST2_WRAPPER":5,"VAST3_WRAPPER":6,"VAST4":7,"VAST4_WRAPPER":8,"DAAST1":9,"DAAST1_WRAPPER":10},"START_DELAY":{"PREROLL":0,"MIDROLL":-1,"POSTROLL":-2},"PLACEMENT":{"STREAM":1,"BANNER":2,"ARTICLE":3,"FEED":4,"INTERSTITIAL":5},"LINEARITY":{"LINEAR_INSTREAM":1,"NONLINEAR_OVERLAY":2},"BLOCK_ATTRIBUTE":{"AUTOPLAY_AUDIO":1,"MANUAL_AUDIO":2,"AUTO_EXPAND":3,"CLICK_EXPAND":4,"ROLLOVER_EXPAND":5,"AUTOPLAY_INBANNER_VIDEO":6,"MANUAL_INBANNER_VIDEO":7,"POP":8,"SUGGESTIVE":9,"FLICKERING":10,"SURVEYS":11,"TEXT_ONLY":12,"USER_INTERACTIVE":13,"ALERT":14,"AUDIO_ONOFF_UI":15,"PROVIDE_SKIP":16,"FLASH":17},"DELIVERY":{"STREAMING":1,"PROGRESSIVE":2,"DOWNLOAD":3},"API":{"VPAID1":1,"VPAID2":2,"MRAID1":3,"ORMMA":4,"MRAID2":5,"MRAID3":6},"POS":{"UNKNOWN":0,"ATF":1,"ABOVE_THE_FOLD":1,"BTF":3,"BELOW_THE_FOLD":3,"HEADER":4,"FOOTER":5,"SIDEBAR":6,"FULL_SCREEN":7},"COMPANION_TYPE":{"STATIC":1,"HTML":2,"IFRAME":3},"PLAYBACK_METHOD":{"PAGELOAD_SOUND_ON":1,"PAGELOAD_SOUND_OFF":2,"CLICK_SOUND_ON":3,"MOUSEOVER_SOUND_ON":4,"SCROLLIN_SOUND_ON":5,"SCROLLIN_SOUND_OFF":6},"PLAYBACK_END":{"ON_COMPLETE":1,"ON_VP_LEAVE":2,"ON_COMPLETE_WITH_FLOAT":3}},"MODULES":{"PREBID_HEADER_BIDDING":"prebid","PREBID_ANALYTICS":"prebidAnalytics","BIDBARREL_ANALYTICS":"adLibAnalytics","ANALYTICS_TIMINGS":"adLibAnalyticsTimings","ANALYTICS_TIMINGS_MANUAL":"adLibAnalyticsTimingsManual","ANALYTICS_TIMINGS_BOOMR":"adLibAnalyticsTimingsBoomr","ANALYTICS_PREBID":"adLibAnalyticsPrebid","ANALYTICS_AMAZON":"adLibAnalyticsAmazon","DYNAMIC_BIDDERS":"dynamicBidders","DYNAMIC_TARGETING":"dynamicTargeting","GEOLOCATION":"geo","STRING_SIZES_FILTER":"stringSizesFilter","IX_HEADER_BIDDING":"ixUniversal","IX_IDENTITY":"ixIdentity","AMAZON_HEADER_BIDDING":"amazon","CONFIANT_PREBID":"confiantPrebid","CONFIANT_GOOGLETAG":"confiantGoogletag","CONFIANT":"confiant","STACKS":"stacks","MYI":"myi","IAS":"ias","BIDBARREL_FEATURES":"enforceHeaderBiddingFeatures","AUTO_PRIORITY":"autoPriority","OPTANON":"cbsoptanon","GOOGLE_PUBLISHER_TAG":"gpt","PREBID_S2S":"prebidS2S","SHARED_ID":"sharedId","VIDEO":"video","IDENTITYLINK_ID":"identityLinkId","PREBID_USER_ID":"prebidUserId","LIVEINTENT_ID":"liveIntentId","FMS_API":"fms","CRITEO_ID":"criteoId","UID2_ID":"uid2Id"},"EVENTS":{"ANALYTICS_RECORD_CREATED":"analyticsRecordCreated","ANALYTICS_REPORTED":"analyticsReported","ANALYTICS_CANCELLED":"analyticsCancelled","ERROR_REPORT":"errorReported","BAD_BID":"badBid","BAD_AD":"badAd","BID_USED":"bidUsed","BID_RECYCLED":"bidRecycled","DISPLAY_CALLED":"displayCalled","LOAD":"load","INITIALIZE":"initialize","HEADER_BIDDING_REQUEST":"headerBiddingRequest","HEADER_BIDDING_RESPONSE":"headerBiddingResponse","MODULE_INITIALIZED":"moduleInitialized","IDENTIFIED":"identified","MODULE_REGISTERED":"moduleRegistered","MODULE_DEREGISTERED":"moduleDeregistered","INSTANTIATED":"instantiated","REFRESH":"refresh","AUCTION":"auction","BIDS_RETURNED":"bidsReturned","BIDS_REQUESTED":"bidsRequested","SLOT_DEFINED":"slotDefined","BATCH_SLOTS_DEFINED":"batchSlotsDefined","AD_VIEWABLE":"viewable","AD_RENDERED":"rendered","AD_LOADED":"loaded","AD_REQUESTED":"requested","AD_RECEIVED":"responseReceived","AD_VISIBILITY_CHANGED":"visibilityChanged","DFP_EVENTS":{"AD_VIEWABLE":"impressionViewable","AD_RENDERED":"slotRenderEnded","AD_LOADED":"slotOnload","AD_REQUESTED":"slotRequested","AD_RECEIVED":"slotResponseReceived","AD_VISIBILITY_CHANGED":"slotVisibilityChanged"}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return i},t.registerModule=function(e){i.installedModules.push(e)};var n=window,i=n.pbjs=n.pbjs||{};i.cmd=i.cmd||[],i.que=i.que||[],n===window&&(n._pbjsGlobals=n._pbjsGlobals||[],n._pbjsGlobals.push("pbjs"))},function(e,t,r){"use strict";var n=r(56),i=r(187).includes,o=r(13),a=r(87);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setConfigPublic=t.setConfig=t.getConfig=t.config=void 0;var n=r(94),i=r(3),o=r(32),a=r(348),s=p(r(51)),d=p(r(350)),c=r(19),u=p(r(45)),l=r(14),f=p(r(7));function p(e){return e&&e.__esModule?e:{default:e}}const g={versionControl:!1},{ERROR_REPORT:m}=f.default.EVENTS,v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;const r=(0,n.richObject)(e,t);function p(e){return e=(0,a.concatConfigArrays)(e,r.getValue()),r.setValue(e),r.getValue()}function v(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=(0,d.default)(f.default.CONFIG_RESTRICTED_KEYS,e);let o=!0;return 0!==n.length&&(i.bbLogger.atVerbosity(2).logWarn("DEPRECATED: The following keys you provided are not available via implementation in BidBarrel.",n),i.bbLogger.atVerbosity(2).logWarn("Please make the appropriate changes to your site config in the BidBarrel repo(via PR). The full list of config restrictions:",f.default.CONFIG_RESTRICTED_KEYS),o=!1),r?t=(0,s.default)(t,f.default.CONFIG_RESTRICTED_KEYS):o}function b(e,t){if("object"==typeof e){if((0,u.default)(e)){i.bbLogger.logError("Attempted to set config with empty object");const e=new Error("Attempted to set config with empty object.");return void l.eventEmitter.emit(m,e)}e=v(Object.keys(e),e)}else if("*"===e){if((0,u.default)(t)){i.bbLogger.logError("Attempted to set config with empty object");const e=new Error("Attempted to set config with empty object.");return void l.eventEmitter.emit(m,e)}t=v(Object.keys(t),t)}else if(!v([e.split(".")[0]],t,!1))return;return y(e,t)}const y=(0,o.hookedFn)("sync",((e,t)=>{if("object"==typeof e)return p(e);if("*"===e)return p(t);const n=r.setValue(e,t),i=r.getValue();return r.options.versionControl&&(i._revision=n),i}));function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.getValue(e,t)}return r.options.versionControl&&c.exposureApi.expose({configVersioning:{undo:r.undo,revertTo:r.revertTo,getVersion:r.getVersion,getValueAtVersion:r.getValueAtVersion}}),{setConfig:y,setConfigPublic:b,getConfig:h,...r}}();t.config=v;const b=v.getConfig;t.getConfig=b;const y=v.setConfig;t.setConfig=y;const h=v.setConfigPublic;t.setConfigPublic=h,c.exposureApi.rootScope({getConfig:b,setConfig:y}),c.exposureApi.rootScopeGetters({config:()=>b()}),b("debug",(e=>{"boolean"==typeof e&&e?(0,i.turnOnDebug)():((0,i.setDefaultConfig)(e),i.bbLogger.setLoggerConfig(e))}))},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(106),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=void 0,r(1);var n=r(3),i=r(61),o=r(32),a=r(19),s=r(5),d=u(r(50)),c=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}const{ERROR_REPORT:l}=c.default.EVENTS,f=(0,n.logger)({name:"eventEmitter",bgColor:"#F5F1ED",textColor:"#252323"}),p=function(){var e=this;const t=(0,i.urlQueryAsObject)(),r={once:{}};function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("once"!==e)if(e.constructor!==Array)i?(r.once[e]||(r.once[e]=[]),r.once[e].push(t)):(r[e]||(r[e]=[]),r[e].push(t));else for(let r=0;r<e.length;r++){n(e[r],t,i)}}const c=(0,o.hookedFn)("sync",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(t.constructor===Array)for(let r=0;r<t.length;r++){const i=t[r];u.apply(e,[i,...n])}else u.apply(e,[t,...n])}));function u(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if("true"===t.bb_dom_dispatch&&(0,s.dom)().window.document.dispatchEvent(new CustomEvent("__bb.".concat(e),{detail:i})),f.atVerbosity(5).logInfo("Emitting Event",e,"with arguments",i),r[e]&&r[e].length||r.once[e]&&r.once[e].length){if(r[e])for(let t=0;t<r[e].length;t++){const n=r[e][t];try{f.atVerbosity(4).logInfo(e,"emitting callback",n),n.apply(null,i)}catch(t){f.atVerbosity(1).logError("Callback for event",e,"with args",i,"returned an error",t);const r=new Error("Callback for event ".concat(e," with args ").concat(i," returned an error. ").concat(JSON.stringify(t,d.default)));c(l,r)}}if(r.once[e]){for(let t=0;t<r.once[e].length;t++){const n=r.once[e][t];try{f.atVerbosity(4).logInfo(e,"emitting callback",n),n.apply(null,i)}catch(t){f.atVerbosity(1).logError("Run once callback for event",e,"returned an error",t);const r=new Error("Run once callback for event ".concat(e," returned an error. ").concat(JSON.stringify(t,d.default)));c(l,r)}}r.once[e]=[]}}}const p=n,g=n;return a.exposureApi.rootScope({on:n}),{emit:c,on:n,addEventListener:p,subscribe:g}}();t.eventEmitter=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.includes=function(e,t,r){return e&&e.includes(t,r)||!1},t.arrayFrom=function(){return Array.from.apply(Array,arguments)},t.find=function(e,t,r){return e&&e.find(t,r)},t.findIndex=function(e,t,r){return e&&e.findIndex(t,r)},r(9)},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n=r(278),i=r(28),o=r(12),a=r(279),s=r(13),d=r(30),c=r(16),u=r(54),l=r(89),f=r(77),p=r(108),g=r(286),m=r(112),v=r(287),b=r(288),y=r(22)("replace"),h=Math.max,I=Math.min,S=o([].concat),E=o([].push),A=o("".indexOf),_=o("".slice),w="$0"==="a".replace(/./,"$0"),O=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,r){var o=O?"$":"$0";return[function(e,r){var n=p(this),o=null==e?void 0:m(e,y);return o?i(o,e,n,r):i(t,f(n),e,r)},function(e,i){var a=d(this),s=f(e);if("string"==typeof i&&-1===A(i,o)&&-1===A(i,"$<")){var p=r(t,a,s,i);if(p.done)return p.value}var m=c(i);m||(i=f(i));var y=a.global;if(y){var w=a.unicode;a.lastIndex=0}for(var O=[];;){var T=b(a,s);if(null===T)break;if(E(O,T),!y)break;""===f(T[0])&&(a.lastIndex=g(s,l(a.lastIndex),w))}for(var C,x="",P=0,R=0;R<O.length;R++){for(var D=f((T=O[R])[0]),k=h(I(u(T.index),s.length),0),j=[],N=1;N<T.length;N++)E(j,void 0===(C=T[N])?C:String(C));var M=T.groups;if(m){var B=S([D],j,k,s);void 0!==M&&E(B,M);var U=f(n(i,void 0,B))}else U=v(D,s,k,j,M,i);k>=P&&(x+=_(s,P,k)+U,P=k+D.length)}return x+_(s,P)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!w||O)},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expose=function(e){f.expose(e)},t.exposureApi=void 0;var n,i=(n=r(26))&&n.__esModule?n:{default:n},o=r(39),a=r(3),s=r(5),d=r(210);const c=(0,a.logger)({name:"ExposureApi",bgColor:"#F4B835"}),u={},l={},f=function(){let e={};const t=[];let r={};function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t?l[r]=e[r]:u[r]=e[r])}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&p(r,e[r],t)}function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?(0,d.readOnlyGetter)(l,e,t,"Cannot set read-only property viacbs_at.".concat(e,".")):(0,d.readOnlyGetter)(u,e,t,"Cannot set read-only property BidBarrel.".concat(e,"."))}function g(){return e}return n({exposedApi:g}),f({deprecatedMethods:()=>t}),{api:g,expose:function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof t||n?n?r=(0,i.default)({},t,r):e=(0,i.default)({},t,e):(0,o.makeSafe)((()=>{n?r=t(r):e=t(e)}),c.logError),n)for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(l[e]=r[e]);else for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(u[t]=e[t])},rootScope:n,rootScopeGetters:f,rootScopeGetter:p,bindToWindow:function(){(0,s.dom)().window.BidBarrel=u,(0,s.dom)().window.viacbs_at=l},deprecateMethods:function(e,r){for(let n=0;n<e.length;n++){const i=e[n];t.push(i),u[i]=()=>a.bbLogger.logWarn("BidBarrel.".concat(i," is deprecated. Please remove all references before version ").concat(r," is released. To see all deprecated methods please check BidBarrel.deprecatedMethods"))}}}}();t.exposureApi=f},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],"FLOOR_VALUES":{"NO_DATA":"noData","AD_UNIT":"adUnit","SET_CONFIG":"setConfig","FETCH":"fetch","SUCCESS":"success"}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleManager=void 0;var n=r(14),i=r(3),o=r(39),a=g(r(51)),s=g(r(211)),d=r(33),c=r(157),u=r(19),l=r(69),f=r(46),p=g(r(7));function g(e){return e&&e.__esModule?e:{default:e}}const m=(0,i.logger)({name:"moduleManager",bgColor:"#FF9E1A",textColor:"#FFF"}),{EVENTS:{MODULE_DEREGISTERED:v,LOAD:b,MODULE_REGISTERED:y,MODULE_INITIALIZED:h,INITIALIZE:I},QUERY_PARAMS:{MOD_SUPPRESS:S}}=p.default,E=function(){const e=(0,c.gateway)("moduleManager"),t=[];let r={};function i(s){let d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(c.queue){return(c.queue.push||c.queue)((e=>{i(s,d,(0,a.default)(c,["queue"])),"function"==typeof e&&e()})),s}if(c.gate&&!e.isOpen(c.gate))return e.onOpen((()=>{i(s,d,(0,a.default)(c,["gate"]))}),c.gate),m.logInfo("Delaying registration of module ".concat(s.name," for gateway ").concat(c.gate)),s;const u=s.name;if(d)return s.dependencies=d,_(d,s);if(l.features.get(["".concat(S,".").concat(u),"".concat(S,".all")]))return m.atVerbosity(2).logInfo("Module Supressed",u,s),s;if(r[u]&&r[u].isRegistered)r[u]&&(s=r[u]);else{r[u]=s,r[u].isRegistered=!0,r[u].index=r[u].index||Object.keys(r).length-1,r[u].register&&(0,o.makeSafe)((()=>r[u].register()),m.atVerbosity(1).logError),m.atVerbosity(2).logInfo("Registering Module",u,r[u]),n.eventEmitter.emit([y,"".concat(s.name,".").concat(y)],u,r[u]);for(let e=0;e<t.length;e++){(0,t[e])(r[u],u)}}return r[u]}function p(e,n){const i=(0,s.default)(Object.values(r),["index"],["asc"]);for(let t=0;t<i.length;t++){const n=r[i[t].name];n&&e(n,n.name)}n&&t.push(((t,r)=>!!t&&e(t,r)))}function g(e,t){t=function(e){let t=e;return p((e=>{if(e.bidRequest){const r=(0,d.cloneDeep)(t);(0,o.makeSafe)((()=>{t=e.bidRequest(t)}),m.atVerbosity(1).logError,(()=>{t=r}))}})),t}((0,d.cloneDeep)(t)),e(t)}function E(e){const t=r[e];t.deregister&&(0,o.makeSafe)((()=>t.deregister()),m.atVerbosity(1).logError),n.eventEmitter.emit([v,"".concat(e,".").concat(v)],e,t),r=(0,a.default)(r,[e])}function A(e){return void 0!==r[e]}function _(e,t){e=e.constructor===Array?e:[e];const r=()=>e.reduce(((e,t)=>e&&A(t)),!0);return n.eventEmitter.on(v,(()=>{r()||E(t.name)})),r()?i(t):(n.eventEmitter.on(y,(()=>{r()&&i(t)})),t)}return n.eventEmitter.on(I,(function(){p((e=>{e.initialize&&(0,o.makeSafe)((()=>e.initialize()),m.atVerbosity(1).logError),e.isInitialized=!0,n.eventEmitter.emit([h,"".concat(e.name,".").concat(h)],e.name,e)}),!0)})),n.eventEmitter.on(b,(function(e){f.headerBidderRequest.before(g)})),u.exposureApi.expose({getRegisteredModules:function(){return Object.keys(r)}}),{register:i,deregister:E,isEnabled:A,viaModule:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];A(e)?t({...r[e],isEnabled:!0}):n&&t({isEnabled:!1})},gateways:e,apiReady:!0}}();t.moduleManager=E},function(e,t,r){var n=r(2),i=r(136),o=r(35),a=r(139),s=r(180),d=r(182),c=i("wks"),u=n.Symbol,l=u&&u.for,f=d?u:u&&u.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(u,e)?c[e]=u[e]:c[e]=d&&l?l(t):f(t)}return c[e]}},function(e,t,r){var n=r(402),i=r(403),o=r(240),a=r(404);e.exports=function(e){return n(e)||i(e)||o(e)||a()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupBeforeHookFnOnce=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,n=e.getHooks({hook:t});0===n.length&&e.before(t,r)},t.module=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.postInstallAllowed,o=void 0!==i&&i;s("async",(function(r){r.forEach((function(e){return t.apply(void 0,(0,n.default)(e))})),o&&(l[e]=t)}),e)([])},t.submodule=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=l[e];if(i)return i.apply(void 0,r);u(e).before((function(e,t){t.push(r),e(t)}))},t.wrapHook=function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t},t.getHook=t.ready=t.hook=void 0;var n=a(r(23)),i=a(r(418)),o=r(42);function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)({ready:i.default.SYNC|i.default.ASYNC|i.default.QUEUE});t.hook=s;var d=(0,o.defer)();s.ready=function(){var e=s.ready;return function(){try{return e.apply(s,arguments)}finally{d.resolve()}}}();var c=d.promise;t.ready=c;var u=s.get;t.getHook=u;var l={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADPOD=t.BANNER=t.VIDEO=t.NATIVE=void 0;t.NATIVE="native";t.VIDEO="video";t.BANNER="banner";t.ADPOD="adpod"},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(194))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){var n=r(13);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(106),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s2sActivityParams=L,t._filterBidsForAdUnit=z,t.getS2SBidderSet=H,t._partitionBidders=Y,Object.defineProperty(t,"gdprDataHandler",{enumerable:!0,get:function(){return m.gdprDataHandler}}),Object.defineProperty(t,"gppDataHandler",{enumerable:!0,get:function(){return m.gppDataHandler}}),Object.defineProperty(t,"uspDataHandler",{enumerable:!0,get:function(){return m.uspDataHandler}}),Object.defineProperty(t,"coppaDataHandler",{enumerable:!0,get:function(){return m.coppaDataHandler}}),t.default=t.partitionBidders=t.setupAdUnitMediaTypes=t.filterBidsForAdUnit=t.dep=t.PARTITIONS=t.PBS_ADAPTER_NAME=void 0,r(1),r(64),r(9);var n=O(r(23)),i=O(r(6)),o=O(r(11)),a=r(0),s=r(83),d=r(36),c=r(72),u=r(4),l=r(24),f=r(15),p=r(247),g=r(129),m=r(130),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),b=O(r(20)),y=r(48),h=r(43),I=r(47),S=r(65),E=r(66),A=r(84),_=r(250);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P="pbsBidAdapter";t.PBS_ADAPTER_NAME=P;var R={CLIENT:"client",SERVER:"server"};t.PARTITIONS=R;var D={isAllowed:S.isActivityAllowed,redact:_.redactor};t.dep=D;var k={},j=k.bidderRegistry={},N=k.aliasRegistry={},M=[];u.config.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(M=(0,a.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var B={},U=(0,A.activityParamsBuilder)((function(e){return k.resolveAlias(e)}));function L(e){return U(I.MODULE_TYPE_PREBID,P,(0,o.default)({},A.ACTIVITY_PARAM_S2S_NAME,e.configName))}var V=(0,l.hook)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,n=e.bidderRequestId,i=e.adUnits,o=e.src,s=e.metrics;return i.reduce((function(e,i){var d=i.bids.filter((function(e){return e.bidder===t}));return null==t&&0===d.length&&null!=i.s2sBid&&d.push({bidder:null}),e.push(d.reduce((function(e,t){var d=null==(t=T({},t,{ortb2Imp:(0,a.mergeDeep)({},i.ortb2Imp,t.ortb2Imp)},(0,a.getDefinedParams)(i,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?i.mediaTypes:t.mediaTypes;return(0,a.isValidMediaTypes)(d)?t=T({},t,{mediaTypes:d}):(0,a.logError)("mediaTypes is not correctly configured for adunit ".concat(i.code)),e.push(T({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:(0,a.deepAccess)(d,"banner.sizes")||(0,a.deepAccess)(d,"video.playerSize")||[],bidId:t.bid_id||(0,a.getUniqueIdentifierStr)(),bidderRequestId:n,auctionId:r,src:o,metrics:s,bidRequestsCount:p.adunitCounter.getRequestsCounter(i.code),bidderRequestsCount:p.adunitCounter.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:p.adunitCounter.getBidderWinsCounter(i.code,t.bidder)})),e}),[])),e}),[]).reduce(a.flatten,[]).filter((function(e){return""!==e}))}),"getBids");function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.getS2SBidders,i=void 0===n?H:n;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}var q=(0,l.hook)("sync",z,"filterBidsForAdUnit");function F(e,t){var r=(0,a.deepClone)(e),n=!1;return r.forEach((function(e){var r=e.bids.filter((function(e){var r;return e.module===P&&(null===(r=e.params)||void 0===r?void 0:r.configName)===t.configName}));1===r.length?(e.s2sBid=r[0],n=!0,e.ortb2Imp=(0,a.mergeDeep)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):r.length>1&&(0,a.logWarn)('Multiple "module" bids for the same s2s configuration; all will be ignored',r),e.bids=q(e.bids,t).map((function(e){return e.bid_id=(0,a.getUniqueIdentifierStr)(),e}))})),{adUnits:r=r.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:n}}function G(e){var t=(0,a.deepClone)(e);return t.forEach((function(e){e.bids=q(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}t.filterBidsForAdUnit=q;var W=(0,l.hook)("sync",(function(e,t){return e}),"setupAdUnitMediaTypes");function H(e){(0,a.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}function Y(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.getS2SBidders,s=void 0===i?H:i,d=s(t);return(0,a.getBidderCodes)(e).reduce((function(e,t){return e[d.has(t)?R.SERVER:R.CLIENT].push(t),e}),(r={},(0,o.default)(r,R.CLIENT,[]),(0,o.default)(r,R.SERVER,[]),r))}t.setupAdUnitMediaTypes=W;var X=(0,l.hook)("sync",Y,"partitionBidders");function J(e,t){var r=j[e],n=(null==r?void 0:r.getSpec)&&r.getSpec();if(n&&n[t]&&"function"==typeof n[t])return[n,n[t]]}function K(e,t,r,n){try{(0,a.logInfo)("Invoking ".concat(e,".").concat(t));for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];u.config.runWithBidder(e,n.bind.apply(n,[r].concat(o)))}catch(r){(0,a.logWarn)("Error calling ".concat(t," of ").concat(e))}}function Q(e,t,r){if((null==r?void 0:r.src)!==b.default.S2S.SRC){var i=J(e,t);null!=i&&K.apply(void 0,[e,t].concat((0,n.default)(i),[r]))}}function $(e){for(var t=new Set;N.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=N[e];return e}t.partitionBidders=X,k.makeBidRequests=(0,l.hook)("sync",(function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=arguments.length>6?arguments[6]:void 0;d=(0,y.useMetrics)(d),v.emit(b.default.EVENTS.BEFORE_REQUEST_BIDS,e),(0,s.decorateAdUnitsWithNativeParams)(e),e.forEach((function(e){(0,a.isPlainObject)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((function(e){return!e.bidder||D.isAllowed(E.ACTIVITY_FETCH_BIDS,U(I.MODULE_TYPE_BIDDER,e.bidder))}))})),e=W(e,i);var c=X(e,M),l=c[R.CLIENT],p=c[R.SERVER];u.config.getConfig("bidderSequence")===u.RANDOM&&(l=(0,a.shuffle)(l));var h=(0,g.getRefererInfo)(),S=[],A=o.global||{},_=o.bidder||{};function w(e,t){var n=D.redact(null!=t?t:U(I.MODULE_TYPE_BIDDER,e.bidderCode)),i=Object.freeze(n.ortb2((0,a.mergeDeep)({source:{tid:r}},A,_[e.bidderCode])));return e.ortb2=i,e.bids=e.bids.map((function(e){return e.ortb2=i,n.bidRequest(e)})),e}M.forEach((function(n){var i=L(n);if(n&&n.enabled&&D.isAllowed(E.ACTIVITY_FETCH_BIDS,i)){var o=F(e,n),s=o.adUnits,c=o.hasModuleBids,u=(0,a.generateUUID)();(0===p.length&&c?[null]:p).forEach((function(e){var o=(0,a.getUniqueIdentifierStr)(),c=d.fork(),l=w({bidderCode:e,auctionId:r,bidderRequestId:o,uniquePbsTid:u,bids:V({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:(0,a.deepClone)(s),src:b.default.S2S.SRC,metrics:c}),auctionStart:t,timeout:n.timeout,src:b.default.S2S.SRC,refererInfo:h,metrics:c},i);0!==l.bids.length&&S.push(l)})),s.forEach((function(e){var t=e.bids.filter((function(e){return(0,f.find)(S,(function(t){return(0,f.find)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),S.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=s.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var O=G(e);return l.forEach((function(e){var o=(0,a.getUniqueIdentifierStr)(),s=d.fork(),c=w({bidderCode:e,auctionId:r,bidderRequestId:o,bids:V({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:(0,a.deepClone)(O),labels:i,src:"client",metrics:s}),auctionStart:t,timeout:n,refererInfo:h,metrics:s}),u=j[e];u||(0,a.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),u&&c.bids&&0!==c.bids.length&&S.push(c)})),S.forEach((function(e){m.gdprDataHandler.getConsentData()&&(e.gdprConsent=m.gdprDataHandler.getConsentData()),m.uspDataHandler.getConsentData()&&(e.uspConsent=m.uspDataHandler.getConsentData()),m.gppDataHandler.getConsentData()&&(e.gppConsent=m.gppDataHandler.getConsentData())})),S}),"makeBidRequests"),k.callBids=function(e,t,r,n,o,s,d){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var f=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===b.default.S2S.SRC)].push(t),e}),[[],[]]),p=(0,i.default)(f,2),g=p[0],m=p[1],y=[];m.forEach((function(e){for(var t=-1,r=0;r<y.length;++r)if(e.uniquePbsTid===y[r].uniquePbsTid){t=r;break}t<=-1&&y.push(e)}));var h=0;M.forEach((function(e){if(e&&y[h]&&H(e).has(y[h].bidderCode)){var t=(0,c.ajaxBuilder)(s,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),i=e.bidders,u=j[e.adapter],f=y[h].uniquePbsTid,p=y[h].adUnitsS2SCopy,g=m.filter((function(e){return e.uniquePbsTid===f}));if(u){var I={ad_units:p,s2sConfig:e,ortb2Fragments:l};if(I.ad_units.length){var S=g.map((function(e){return e.start=(0,a.timestamp)(),function(){d(e.bidderRequestId),n.apply(e,arguments)}})),E=(0,a.getBidderCodes)(I.ad_units).filter((function(e){return i.includes(e)}));(0,a.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(E.length>0?E.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),g.forEach((function(e){v.emit(b.default.EVENTS.BID_REQUESTED,x(x({},e),{},{tid:e.auctionId}))})),u.callBids(I,m,r,(function(){return S.forEach((function(e){return e()}))}),t)}}else(0,a.logError)("missing "+e.adapter);h++}})),g.forEach((function(e){e.start=(0,a.timestamp)();var t=j[e.bidderCode];u.config.runWithBidder(e.bidderCode,(function(){(0,a.logMessage)("CALLING BIDDER"),v.emit(b.default.EVENTS.BID_REQUESTED,e)}));var i=(0,c.ajaxBuilder)(s,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),l=n.bind(e);try{u.config.runWithBidder(e.bidderCode,t.callBids.bind(t,e,r,l,i,(function(){return d(e.bidderRequestId)}),u.config.callbackWithBidder(e.bidderCode)))}catch(t){(0,a.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else(0,a.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},k.videoAdapters=[],k.registerBidAdapter=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.supportedMediaTypes,o=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(j[t]=e,m.GDPR_GVLIDS.register(I.MODULE_TYPE_BIDDER,t,null===(r=e.getSpec)||void 0===r?void 0:r.call(e).gvlid),(0,f.includes)(o,"video")&&k.videoAdapters.push(t),(0,f.includes)(o,"native")&&s.nativeAdapters.push(t)):(0,a.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,a.logError)("bidAdapter or bidderCode not specified")},k.aliasBidAdapter=function(e,t,r){if(void 0===j[t]){var n=j[e];if(void 0===n){var i=[];M.forEach((function(r){if(r.bidders&&r.bidders.length){var n=r&&r.bidders;r&&(0,f.includes)(n,t)?N[t]=e:i.push(e)}})),i.forEach((function(e){(0,a.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var o,c=function(e){var t=[];return(0,f.includes)(k.videoAdapters,e)&&t.push("video"),(0,f.includes)(s.nativeAdapters,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(o=new n.constructor).setBidderCode(t);else{var u=n.getSpec(),l=r&&r.gvlid;null!=u.gvlid&&null==l&&(0,a.logWarn)("Alias '".concat(t,"' will NOT re-use the GVL ID of the original adapter ('").concat(u.code,"', gvlid: ").concat(u.gvlid,"). Functionality that requires TCF consent may not work as expected."));var p=r&&r.skipPbsAliasing;o=(0,d.newBidder)(T({},u,{code:t,gvlid:l,skipPbsAliasing:p})),N[t]=e}k.registerBidAdapter(o,t,{supportedMediaTypes:c})}catch(t){(0,a.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,a.logMessage)('alias name "'+t+'" has been already specified.')},k.resolveAlias=function(e){for(var t,r=e;N[r]&&(!t||!t.has(r));)r=N[r],(t=t||new Set).add(r);return r},k.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,B[r]={adapter:t,gvlid:n},m.GDPR_GVLIDS.register(I.MODULE_TYPE_ANALYTICS,r,n)):(0,a.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,a.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},k.enableAnalytics=function(e){(0,a.isArray)(e)||(e=[e]),e.forEach((function(e){var t=B[e.provider];t&&t.adapter?D.isAllowed(E.ACTIVITY_REPORT_ANALYTICS,U(I.MODULE_TYPE_ANALYTICS,e.provider,(0,o.default)({},A.ACTIVITY_PARAM_ANL_CONFIG,e)))&&t.adapter.enableAnalytics(e):(0,a.logError)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},k.getBidAdapter=function(e){return j[e]},k.getAnalyticsAdapter=function(e){return B[e]},k.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=(0,a.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=(0,a.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){Q(e,"onTimeout",t[e])}))},k.callBidWonBidder=function(e,t,r){t.params=(0,a.getUserConfiguredParams)(r,t.adUnitCode,t.bidder),p.adunitCounter.incrementBidderWinsCounter(t.adUnitCode,t.bidder),Q(e,"onBidWon",t)},k.callBidBillableBidder=function(e){Q(e.bidder,"onBidBillable",e)},k.callSetTargetingBidder=function(e,t){Q(e,"onSetTargeting",t)},k.callBidViewableBidder=function(e,t){Q(e,"onBidViewable",t)},k.callBidderError=function(e,t,r){Q(e,"onBidderError",{error:t,bidderRequest:r})},k.callDataDeletionRequest=(0,l.hook)("sync",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o="onDataDeletionRequest";Object.keys(j).filter((function(e){return!N.hasOwnProperty(e)})).forEach((function(e){var r=J(e,o);if(null!=r){var i=h.auctionManager.getBidsRequested().filter((function(t){return $(t.bidderCode)===e}));K.apply(void 0,[e,o].concat((0,n.default)(r),[i],t))}})),Object.entries(B).forEach((function(e){var r,n=(0,i.default)(e,2),s=n[0],d=n[1],c=null==d||null===(r=d.adapter)||void 0===r?void 0:r[o];if("function"==typeof c)try{c.apply(d.adapter,t)}catch(e){(0,a.logError)("error calling ".concat(o," of ").concat(s),e)}}))}));var Z=k;t.default=Z},function(e,t,r){var n=r(2),i=r(37),o=n.String,a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,i.default)(e,t,r)};var n,i=(n=r(289))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookedFn=void 0;var n,i=(n=r(317))&&n.__esModule?n:{default:n},o=r(5);const a=(0,i.default)({useProxy:void 0!==(0,o.dom)().window.Proxy});t.hookedFn=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDeepProto=t.cloneDeep=t.cloneDeepCirc=void 0;var n,i=(n=r(319))&&n.__esModule?n:{default:n};const o=i.default;t.cloneDeepCirc=o;const a=i.default;t.cloneDeep=a;const s=i.default;t.cloneDeepProto=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newStorageManager=b,t.getStorageManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleType,r=e.moduleName,n=e.bidderCode;function i(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}n?((t&&t!==a.MODULE_TYPE_BIDDER||r)&&i(),t=a.MODULE_TYPE_BIDDER,r=n):r&&t||i();return b({moduleType:t,moduleName:r})},t.getCoreStorageManager=function(e){return b({moduleName:e,moduleType:a.MODULE_TYPE_PREBID})},t.deviceAccessRule=y,t.storageAllowedRule=h,t.resetData=function(){t.storageCallbacks=v=[]},t.storageCallbacks=t.STORAGE_TYPE_COOKIES=t.STORAGE_TYPE_LOCALSTORAGE=void 0,r(17);var n=p(r(11)),i=r(0),o=r(58),a=r(47),s=r(65),d=r(84),c=r(66),u=r(4),l=p(r(29)),f=r(102);function p(e){return e&&e.__esModule?e:{default:e}}var g="html5";t.STORAGE_TYPE_LOCALSTORAGE=g;var m="cookie";t.STORAGE_TYPE_COOKIES=m;var v=[];function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleName,r=e.moduleType,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=o.isAllowed,b=void 0===p?s.isActivityAllowed:p;function y(e,i){var o=t,s=u.config.getCurrentBidder();return s&&r===a.MODULE_TYPE_BIDDER&&l.default.aliasRegistry[s]===t&&(o=s),e({valid:b(c.ACTIVITY_ACCESS_DEVICE,(0,f.activityParams)(r,o,(0,n.default)({},d.ACTIVITY_PARAM_STORAGE_TYPE,i)))})}function h(e,t,r){if(!r||"function"!=typeof r)return y(e,t);v.push((function(){var n=y(e,t);r(n)}))}var I=function(e,t,r,n,i,o){return h((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=r&&""!==r?" ;expires=".concat(r):"",d=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(n?"; SameSite=".concat(n):"").concat(d)}}),m,o)},S=function(e,t){return h((function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null}),m,t)},E=function(e){return h((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),g,e)},A=function(e){return h((function(e){return!(!e||!e.valid)&&(0,i.checkCookieSupport)()}),m,e)},_=function(e,t,r){return h((function(r){r&&r.valid&&T()&&window.localStorage.setItem(e,t)}),g,r)},w=function(e,t){return h((function(t){return t&&t.valid&&T()?window.localStorage.getItem(e):null}),g,t)},O=function(e,t){return h((function(t){t&&t.valid&&T()&&window.localStorage.removeItem(e)}),g,t)},T=function(e){return h((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1}),g,e)},C=function(e,t){return h((function(t){if(t&&t.valid){var r=[];if((0,i.hasDeviceAccess)())for(var n=document.cookie.split(";");n.length;){var o=n.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(o.slice(a+1)))}return r}}),m,t)};return{setCookie:I,getCookie:S,localStorageIsEnabled:E,cookiesAreEnabled:A,setDataInLocalStorage:_,getDataFromLocalStorage:w,removeDataFromLocalStorage:O,hasLocalStorage:T,findSimilarCookies:C}}function y(){if(!(0,i.hasDeviceAccess)())return{allow:!1}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.bidderSettings;if(e[d.ACTIVITY_PARAM_COMPONENT_TYPE]===a.MODULE_TYPE_BIDDER){var r=t.get(e[d.ACTIVITY_PARAM_ADAPTER_CODE],"storageAllowed");if(r&&!0!==r){var n=e[d.ACTIVITY_PARAM_STORAGE_TYPE];r=Array.isArray(r)?r.some((function(e){return e===n})):r===n}else r=!!r;return r?void 0:{allow:r}}}t.storageCallbacks=v,(0,s.registerActivityControl)(c.ACTIVITY_ACCESS_DEVICE,"deviceAccess config",y),(0,s.registerActivityControl)(c.ACTIVITY_ACCESS_DEVICE,"bidderSettings.*.storageAllowed",h)},function(e,t,r){var n=r(12),i=r(44),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=P(e);a.default.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var n,i,o=t;(0,m.isPlainObject)(t)&&(o=t.code,n=t.gvlid,i=t.skipPbsAliasing),a.default.aliasRegistry[o]=e.code,r(O({},e,{code:o,gvlid:n,skipPbsAliasing:i}))}))},t.guardTids=x,t.newBidder=P,t.isValid=N,t.addComponentAuction=t.registerSyncInner=t.processBidderRequests=void 0,r(9),r(172);var n=w(r(18)),i=w(r(6)),o=w(r(233)),a=w(r(29)),s=r(4),d=r(128),c=r(127),u=r(83),l=r(103),f=w(r(20)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),g=r(15),m=r(0),v=r(24),b=r(43),y=r(58),h=r(48),I=r(65),S=r(102),E=r(47),A=r(66);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}var T=["cpm","ttl","creativeId","netRevenue","currency"],C=["auctionId","transactionId"];function x(e){if((0,I.isActivityAllowed)(A.ACTIVITY_TRANSMIT_TID,(0,S.activityParams)(E.MODULE_TYPE_BIDDER,e)))return{bidRequest:function(e){return e},bidderRequest:function(e){return e}};function t(e,t,r){return C.includes(t)?null:Reflect.get(e,t,r)}function r(e,t){var r=new Proxy(e,t);return Object.entries(e).filter((function(e){var t=(0,i.default)(e,2);t[0];return"function"==typeof t[1]})).forEach((function(t){var n=(0,i.default)(t,2),o=n[0],a=n[1];return r[o]=a.bind(e)})),r}var n=(0,m.memoize)((function(e){return r(e,{get:t})}),(function(e){return e.bidId}));return{bidRequest:n,bidderRequest:function(e){return r(e,{get:function(r,i,o){return"bids"===i?e.bids.map(n):t(r,i,o)}})}}}function P(e){return O(new o.default(e.code),{getSpec:function(){return Object.freeze(O({},e))},registerSyncs:t,callBids:function(r,n,i,o,c,u){if(Array.isArray(r.bids)){var l=x(r.bidderCode),g={},v=[],b=M(r).measureTime("validate",(function(){return r.bids.filter((function(t){return function(t){if(!e.isBidRequestValid(t))return(0,m.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1;return!0}(l.bidRequest(t))}))}));if(0!==b.length){var I={};b.forEach((function(e){I[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),R(e,b.map(l.bidRequest),l.bidderRequest(r),o,u,{onRequest:function(e){return p.emit(f.default.EVENTS.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){c(e.code),v.push(t)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var t=I[e.bidId];t?k(t.auctionId,t.adUnitCode,e.config):(0,m.logWarn)("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(t,n){c(e.code),a.default.callBidderError(e.code,n,r),p.emit(f.default.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),(0,m.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var r=I[t.requestId];if(r){if(t.adapterCode=r.bidder,function(e,t){var r=y.bidderSettings.get(t,"allowAlternateBidderCodes")||!1,n=y.bidderSettings.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(n=(0,m.isArray)(n)?n.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(m.uniques):n,!r||(0,m.isArray)(n)&&"*"!==n[0]&&!n.includes(e)))return!0;return!1}(t.bidderCode,r.bidder))return(0,m.logWarn)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(r.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void n.reject(r.adUnitCode,t,f.default.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||O({},t[r.bidder]);var i=O((0,d.createBid)(f.default.STATUS.GOOD,r),t,(0,m.pick)(r,C));!function(e,t){var r=(0,h.useMetrics)(t.metrics);r.checkpoint("addBidResponse"),g[e]=!0,r.measureTime("addBidResponse.validate",(function(){return N(e,t)}))?n(e,t):n.reject(e,t,f.default.REJECTION_REASON.INVALID)}(r.adUnitCode,i)}else(0,m.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),n.reject(null,t,f.default.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:S})}else S()}function S(){i(),s.config.runWithBidder(e.code,(function(){p.emit(f.default.EVENTS.BIDDER_DONE,r),t(v,r.gdprConsent,r.uspConsent,r.gppConsent)}))}}});function t(t,r,n,i){D(e,t,r,n,i)}}var R=(0,v.hook)("sync",(function(e,t,r,i,o,a){var s=a.onRequest,d=a.onResponse,c=a.onFledgeAuctionConfigs,u=a.onError,l=a.onBid,f=a.onCompletion,p=M(r);f=p.startTiming("total").stopBefore(f);var g=p.measureTime("buildRequests",(function(){return e.buildRequests(t,r)}));if(g&&0!==g.length){Array.isArray(g)||(g=[g]);var v=(0,m.delayExecution)(f,g.length);g.forEach((function(t){var r=p.fork();function a(e){null!=e&&(e.metrics=r.fork().renameWith()),l(e)}var f=o((function(n,i){b();try{n=JSON.parse(n)}catch(e){}n={body:n,headers:{get:i.getResponseHeader.bind(i)}},d(n);try{n=r.measureTime("interpretResponse",(function(){return e.interpretResponse(n,t)}))}catch(t){return(0,m.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void v()}var o;n&&(0,m.isArray)(n.fledgeAuctionConfigs)?(c(n.fledgeAuctionConfigs),o=n.bids):o=n,o&&((0,m.isArray)(o)?o.forEach(a):a(o)),v()})),g=o((function(e,t){b(),u(e,t),v()}));s(t);var b=r.startTiming("net");function y(r){var n=t.options;return O(r,n,{browsingTopics:!(null!=n&&n.hasOwnProperty("browsingTopics")&&!n.browsingTopics)&&(0,I.isActivityAllowed)(A.ACTIVITY_TRANSMIT_UFPD,(0,S.activityParams)(E.MODULE_TYPE_BIDDER,e.code))})}switch(t.method){case"GET":i("".concat(t.url).concat(function(e){if(e)return"?".concat("object"===(0,n.default)(e)?(0,m.parseQueryStringParameters)(e):e);return""}(t.data)),{success:f,error:g},void 0,y({method:"GET",withCredentials:!0}));break;case"POST":i(t.url,{success:f,error:g},"string"==typeof t.data?t.data:JSON.stringify(t.data),y({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,m.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),v()}}))}else f()}),"processBidderRequests");t.processBidderRequests=R;var D=(0,v.hook)("async",(function(e,t,r,n,i){var o=s.config.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!a.default.aliasRegistry[e.code])){var d=s.config.getConfig("userSync.filterSettings"),u=e.getUserSyncs({iframeEnabled:!(!d||!d.iframe&&!d.all),pixelEnabled:!(!d||!d.image&&!d.all)},t,r,n,i);u&&(Array.isArray(u)||(u=[u]),u.forEach((function(t){c.userSync.registerSync(t.type,e.code,t.url)})),c.userSync.bidderDone(e.code))}}),"registerSyncs");t.registerSyncInner=D;var k=(0,v.hook)("sync",(function(e,t){}),"addComponentAuction");function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,o=void 0===n?b.auctionManager.index:n;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var a=o.getBidRequest(t),s=o.getMediaTypes(t),d=a&&a.sizes||s&&s.banner&&s.banner.sizes,c=(0,m.parseSizesInput)(d);if(1===c.length){var u=c[0].split("x"),l=(0,i.default)(u,2),f=l[0],p=l[1];return t.width=parseInt(f,10),t.height=parseInt(p,10),!0}return!1}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,i=void 0===n?b.auctionManager.index:n;function o(){var e=Object.keys(t);return T.every((function(r){return(0,g.includes)(e,r)&&!(0,g.includes)([void 0,null],t[r])}))}function a(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?o()?"native"!==t.mediaType||(0,u.nativeBidIsValid)(t,{index:i})?"video"!==t.mediaType||(0,l.isValidVideoBid)(t,{index:i})?!("banner"===t.mediaType&&!j(e,t,{index:i}))||((0,m.logError)(a("Banner bids require a width and height")),!1):((0,m.logError)(a("Video bid does not have required vastUrl or renderer property")),!1):((0,m.logError)(a("Native bid missing some required properties.")),!1):((0,m.logError)(a("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,m.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,m.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}function M(e){return(0,h.useMetrics)(e.metrics).renameWith((function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]}))}t.addComponentAuction=k},function(e,t,r){var n=r(16);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},function(e,t,r){var n=r(2),i=r(27),o=r(184),a=r(183),s=r(30),d=r(110),c=n.TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",g="writable";t.f=i?a?function(e,t,r){if(s(e),t=d(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&g in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:p in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=d(t),s(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSafe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.bbLogger.logError,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{return e()}catch(e){return t(e),r()}};var n=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorReporting=void 0;var n=r(14),i=r(33),o=r(19),a=r(69),s=r(215),d=r(10),c=r(122),u=r(222),l=b(r(7)),f=b(r(50)),p=r(3),g=b(r(123)),m=r(81),v=r(5);function b(e){return e&&e.__esModule?e:{default:e}}const{ERROR_REPORT:y}=l.default.EVENTS,h=function(){let e=!1,t=[];const r=[],l=[];let b={},h={};function I(n){let i=n;try{i instanceof Error||(i="string"==typeof i?new Error(i):new Error(JSON.stringify(i)));const n={bidbarrelVersion:g.default.getValue("bidbarrelVersion")||null,connectionType:g.default.getValue("client.connectionType")||null,connectionSpeed:g.default.getValue("client.connectionSpeed")||null,regionCode:g.default.getValue("client.region")||null,countryCode:g.default.getValue("client.country")||null,subCountryCode:g.default.getValue("client.subregion")||null,vpWidth:g.default.getValue("client.viewportWidth")||null,vpHeight:g.default.getValue("client.viewportHeight")||null,configVersion:g.default.getValue("config._remoteContext.version")||null,authenticated:g.default.getValue("authenticated")||!1,session:g.default.getValue("targeting.session")||null,subses:g.default.getValue("targeting.subses")||null,ptype:g.default.getValue("targeting.ptype")||"NA",abStr:g.default.getValue("abStr")||null,gaClientId:g.default.getValue("cookie.gaClientId")||null,aamUuid:g.default.getValue("cookie.aamUuid")||null,env:g.default.getValue("targeting.env")||g.default.getValue("config.pageTargeting.env")||((0,m.isStagingEnv)()?"stage":"prod")||null,dfpPath:g.default.getValue("config.dfpPathObj.string")||null,site:g.default.getValue("site")||null,bidbarrelVariant:g.default.getValue("variant")||null,page:(0,v.dom)().window.location.href};for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e];i[e]=t}if(!e)return void l.push(i);i=JSON.parse(JSON.stringify(i,f.default)),i.level||(i.level="error"),r.push(i),t.push(i)}catch(e){p.bbLogger.logError("Failure to report error.")}}return o.exposureApi.expose({getAllErrors:function(){return(0,i.cloneDeep)(r)},getQueuedErrors:function(){return(0,i.cloneDeep)(l)}}),(0,d.getConfig)("errorReporting",(e=>{h=e})),n.eventEmitter.on(y,(e=>I(e))),{setup:function(){!function(){if(e)return;(a.features.get(["forceRun.errorReporting","forceRun.all"])||(0,s.percentageShouldRun)(h.reportingPercentage))&&(b=setInterval((()=>{(0,s.percentageRunner)(a.features.get(["forceRun.errorReporting","forceRun.all"])||h.reportingPercentage,(()=>{const e=(0,u.chunk)(t,h.chunkSize);if(0!==e.length)for(const t in e){const r={cat:"",records:e[t]};c.api.sendBeacon("log/client",r)}t=[]}),!0)}),h.reportInterval),e=!0,function(){for(let e=0;e<l.length;e++){I(l[e])}}())}()},report:I}}();t.errorReporting=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearUnits=function(){t.rawUnits=b={},t.unitRegistry=y={},t.unitTemplates=h={}},t.setupUnits=function(e){let r=e;Array.isArray(r)&&(r=(0,n.default)(e,"code"));t.unitRegistry=y=r,t.unitTemplates=h=JSON.parse(JSON.stringify(y)),t.rawUnits=b=JSON.parse(JSON.stringify(y))},t.mergeUnits=function(e){const r=(0,n.default)(e,"code");t.unitRegistry=y=(0,i.default)(r,y),t.unitTemplates=h=(0,p.cloneDeep)(y),t.rawUnits=b=(0,p.cloneDeep)(y)},t.getRawUnits=I,t.getUnits=S,t.getUnitTemplates=E,t.getUnitCodes=function(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(Array.isArray(n)&&null===n[1])t.push(n[0]);else if(Array.isArray(n)){const e=(0,l.getConfig)("generateIncrementalUnitCode");t.push(e(n[0],n[1]))}else"string"==typeof n?t.push(n):"object"==typeof n&&t.push(n.code)}return t},t.getSizes=C,t.setOutOfPage=P,t.isLazyLoaded=D,t.displayUnit=t.setSizeMappings=t.setCollapse=t.setLazyLoad=t.getUnitCollection=t.updateUnit=t.defineUnit=t.postProcessUnit=t.unitTemplates=t.unitRegistry=t.rawUnits=void 0;var n=v(r(160)),i=v(r(26)),o=v(r(161)),a=v(r(212)),s=r(3),d=r(5),c=r(32),u=r(358),l=r(10),f=r(19),p=r(33),g=v(r(7)),m=r(40);function v(e){return e&&e.__esModule?e:{default:e}}let b={};t.rawUnits=b;let y={};t.unitRegistry=y;let h={};function I(){return b}function S(){return y}function E(){return h}t.unitTemplates=h;const A=(0,c.hookedFn)("sync",((e,t)=>(e.isLazyLoaded=()=>D(e.code),e.getSizes=()=>C(e.code),e.element=(0,d.dom)().window.document.getElementById(e.code),e)));t.postProcessUnit=A;const _=(0,c.hookedFn)("sync",((e,t)=>(y[e.code]=e,y[e.code])));t.defineUnit=_;const w=(0,c.hookedFn)("sync",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Array.isArray(e))for(let r=0;r<e.length;r++){const n=e[r];w(n,t)}else if("string"==typeof e&&!y[e]||"string"!=typeof e&&!y[e]){s.bbLogger.logError("Attempting to update unit that does not exist",e,t);const r=new Error("Attempting to update unit that does not exist.");r.unit=e,m.errorReporting.report(r)}else t||"string"==typeof e?"string"==typeof e&&t&&(y[e]={...y[e],...t},r&&(h[e]={...h[e],...t})):(y[e.code]={...y[e.code],...e},r&&(h[e.code]={...h[e.code],...e}))}));t.updateUnit=w;const O=(0,c.hookedFn)("sync",(e=>{if(!Array.isArray(e))return O([e]);const t=e.reduce(((t,r,n)=>{const a=r;if(null==r){s.bbLogger.logError("SKIPPING UNIT: Unit designation is null or undefined at index",n,"provided:",e);const r=new Error("SKIPPING UNIT: Unit designation is null or undefined at index.");return r.unit="".concat(e,"[").concat(n,"]"),m.errorReporting.report(r),t}let d=null;if("object"==typeof r&&r.constructor!==Array?d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.orderIndex=t,e.originalCode=e.originalCode||e.code,e}(r,n):r.constructor===Array?d=null===r[1]?T(r[0],n,r[2],r[3]):function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=Array.isArray(t)?e+(t[0]||""):e+t;const c=(0,l.getConfig)();c.generateVideoUnitCode&&h[e]&&h[e].isVideo?d=c.generateVideoUnitCode(e,t,h[e]):h[e]&&!h[e].incremental&&h[e].isVideo?d=e:c.generateIncrementalUnitCode&&(d=c.generateIncrementalUnitCode(e,t,h[e]));let u=null;u=y[d]?y[d]:!(!h[e]||!h[e].incremental&&!h[e].isVideo)&&(0,p.cloneDeep)(h[e]);if(u){if(u.code=d,null===t||Array.isArray(t)?null!==t&&Array.isArray(t)&&2===t.length&&(u.index=t[0],u.sequenceIndex=t[1]):(u.index=t,u.isVideo&&(u.sequenceIndex=1)),u.orderIndex=r,u.originalCode=e,n&&(u.targeting=(0,i.default)({},n,u.targeting)),a){const e=(0,o.default)(a,g.default.UNIT_CONFIG_ALLOWED_MODIFIERS);u=(0,i.default)({},e,u)}}else{s.bbLogger.atVerbosity(2).logError("Unit Template for",e,"does not exist or is configured improperly(not incremental?). Skipping definition.");const t=new Error("Unit Template does not exist or is configured improperly(not incremental?). Skipping definition.");t.unit=e,m.errorReporting.report(t)}return u}(r[0],r[1],n,r[2],r[3]):"string"==typeof r&&(d=T(r,n)),d=d?A(d,r):d,d&&(!t.flags[d.code]||d.isVideo))if(d.getDesignation=()=>a,t.flags[d.code]=!0,(0,u.unitHasElement)(d)||D(d)&&!d.isVideo)t.units.push(_(d,r));else{s.bbLogger.logError(d.code,": Unit designation does not have an element. If you are lazy loading, this unit is not configured for lazy loading.",d);const e=new Error("Unit designation does not have an element. If you are lazy loading, this unit is not configured for lazy loading.");e.unit=d.code,m.errorReporting.report(e)}return t}),{flags:{},units:[]}).units;return t}));function T(e,t,r,n){let a=y[e];if(a){if(a.orderIndex=t,a.originalCode=a.originalCode||e,r&&(a.targeting=(0,i.default)({},r,a.targeting)),n){const e=(0,o.default)(n,g.default.UNIT_CONFIG_ALLOWED_MODIFIERS);a=(0,i.default)(a,e)}}else{s.bbLogger.atVerbosity(2).logError("Unit",e,"does not exist. Skipping definition.");const t=new Error("Unit does not exist. Skipping definition.");t.unit=e,m.errorReporting.report(t)}return a}function C(e){const t="string"==typeof e?y[e]:e;if(!t.sizeMappings)return t.sizes;if(t.mappedSizes)return t.mappedSizes;const r=(0,a.default)(t.sizeMappings,[e=>-1*e.viewport[0],e=>-1*e.viewport[1]]);for(let e=0;e<r.length;e++){const n=r[e];if((0,d.dom)().window.innerWidth>=n.viewport[0]&&n.viewport[1]<=(0,d.dom)().window.innerHeight)return t.mappedSizes=n.sizes,n.sizes}return s.bbLogger.atVerbosity(3).logWarn("No matching mappings found for viewport",t.code,r),t.sizes}t.getUnitCollection=O;const x=(0,c.hookedFn)("sync",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&0!==t.length||(t=Object.keys(y));let n={lazyLoad:e};e&&(n={cache:e,lazyLoad:e}),w(t,n,r)}));function P(e){w(e,{outOfPage:!0},!0)}t.setLazyLoad=x;const R=(0,c.hookedFn)("sync",((e,t)=>(w(e,{collapseEmptyDiv:t},!0),{unitCodes:e,arg:t})));function D(e){const t="object"==typeof e?e:S()[e];if(!t)return!1;const r=void 0===t.lazyLoad?t.cache:t.lazyLoad;if(r){const e=(0,d.dom)().window.document.getElementById(t.code);if(e&&e.style&&"none"===e.style.display)return s.bbLogger.logMessage("".concat(t.code,": Cannot lazy load ad units where the element has a style of display:none;. This unit will evaluate as 'not lazy loaded' until it does not have a style of display: none;")),!1}return r}t.setCollapse=R;const k=(0,c.hookedFn)("sync",((e,t)=>{w(e,{sizeMappings:t},!0)}));t.setSizeMappings=k;const j=(0,c.hookedFn)("sync",(e=>{e.constructor===Array&&(s.bbLogger.atVerbosity(3).logInfo("Displaying units",e),e.forEach(j))}));t.displayUnit=j,f.exposureApi.rootScope({setOutOfPage:P,setLazyLoad:x,isLazyLoaded:D,setCollapse:R,getSizes:C,setSizeMappings:k,getUnitCollection:O}),f.exposureApi.rootScopeGetters({unitRegistry:()=>S(),adUnitsObj:()=>S(),adUnits:()=>Object.values(S()),unitTemplates:()=>E(),UNITS:()=>I()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.promiseFactory,i=void 0===n?function(e){return new m(e)}:n;function o(e){return function(t){return e(t)}}return{promise:i((function(r,n){e=r,t=n})),resolve:o(e),reject:o(t)}},t.GreedyPromise=void 0,r(1);var n=d(r(6)),i=d(r(100)),o=d(r(101)),a=d(r(171)),s=d(r(242));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function u(e,t,r){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),r}var l=0,f=1,p=new WeakMap,g=new WeakMap,m=function(){function e(t){if((0,i.default)(this,e),c(this,p,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:void 0}),"function"!=typeof t)throw new Error("resolver not a function");var r=[],o=[],a=[l,f].map((function(e){return function(t){if(e===l&&"function"==typeof(null==t?void 0:t.then))t.then(u,m);else if(!r.length)for(r.push(e,t);o.length;)o.shift()()}})),d=(0,n.default)(a,2),u=d[0],m=d[1];try{t(u,m)}catch(e){m(e)}(0,s.default)(this,p,r),(0,s.default)(this,g,o)}return(0,o.default)(e,[{key:"then",value:function(e,t){var r=this,i=(0,a.default)(this,p);return new this.constructor((function(o,s){var d=function(){var r=i[1],a=i[0]===l?[e,o]:[t,s],d=(0,n.default)(a,2),c=d[0],u=d[1];if("function"==typeof c){try{r=c(r)}catch(e){return void s(e)}u=o}u(r)};i.length?d():(0,a.default)(r,g).push(d)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t,r=this;return this.then((function(r){return t=r,e()}),(function(n){return t=r.constructor.reject(n),e()})).then((function(){return t}))}}],[{key:"timeout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===t?e():setTimeout(e,t)}))}},{key:"race",value:function(t){var r=this;return new this((function(n,i){u(r,e,v).call(r,t,(function(e,t){return e?n(t):i(t)}))}))}},{key:"all",value:function(t){var r=this;return new this((function(n,i){var o=[];u(r,e,v).call(r,t,(function(e,t,r){return e?o[r]=t:i(t)}),(function(){return n(o)}))}))}},{key:"allSettled",value:function(t){var r=this;return new this((function(n){var i=[];u(r,e,v).call(r,t,(function(e,t,r){return i[r]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return n(i)}))}))}},{key:"resolve",value:function(e){return new this((function(t){return t(e)}))}},{key:"reject",value:function(e){return new this((function(t,r){return r(e)}))}}]),e}();function v(e,t,r){var n=this,i=e.length;function o(){t.apply(this,arguments),--i<=0&&r&&r()}0===e.length&&r?r():e.forEach((function(e,t){return n.resolve(e).then((function(e){return o(!0,e,t)}),(function(e){return o(!1,e,t)}))}))}t.GreedyPromise=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newAuctionManager=b,t.auctionManager=void 0,r(1),r(64);var n=p(r(6)),i=p(r(23)),o=r(0),a=r(411),s=r(419),d=p(r(20)),c=r(48),u=r(244),l=r(246),f=r(4);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v="minBidCacheTTL";function b(){var e=null,t=(0,u.ttlCollection)({startTime:function(e){return e.end.then((function(){return e.getAuctionEnd()}))},ttl:function(t){return null==e?null:t.end.then((function(){return 1e3*Math.max.apply(Math,[e].concat((0,i.default)(t.getBidsReceived().map(l.getTTL))))}))}});(0,l.onTTLBufferChange)((function(){null!=e&&t.refresh()})),f.config.getConfig(v,(function(r){e!==(e="number"==typeof(e=null==r?void 0:r.minBidCacheTTL)?e:null)&&t.refresh()}));var r={};function p(e){var r,n=g(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.getAuctionId()===e)return i}}catch(e){n.e(e)}finally{n.f()}}function m(){return t.toArray().flatMap((function(e){return e.getBidsReceived()}))}return r.addWinningBid=function(e){var t=(0,c.useMetrics)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");var r=p(e.auctionId);r?(e.status=d.default.BID_STATUS.RENDERED,r.addWinningBid(e)):(0,o.logWarn)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:function(e){return e.getAuctionStatus()===a.AUCTION_COMPLETED}},getAdUnitCodes:{post:o.uniques}}).forEach((function(e){var i=(0,n.default)(e,2),o=i[0],a=i[1],s=a.name,d=void 0===s?o:s,c=a.pre,u=a.post,l=null==c?function(e){return e[d]()}:function(e){return c(e)?e[d]():[]},f=null==u?function(e){return e}:function(e){return e.filter(u)};r[o]=function(){return f(t.toArray().flatMap(l))}})),r.getAllBidsForAdUnitCode=function(e){return m().filter((function(t){return t&&t.adUnitCode===e}))},r.createAuction=function(e){var r=(0,a.newAuction)(e);return function(e){t.add(e)}(r),r},r.findBidByAdId=function(e){return m().find((function(t){return t.adId===e}))},r.getStandardBidderAdServerTargeting=function(){return(0,a.getStandardBidderSettings)()[d.default.JSON_MAPPING.ADSERVER_TARGETING]},r.setStatusForBids=function(e,t){var n=r.findBidByAdId(e);if(n&&(n.status=t),n&&t===d.default.BID_STATUS.BID_TARGETING_SET){var i=p(n.auctionId);i&&i.setBidTargeting(n)}},r.getLastAuctionId=function(){var e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},r.clearAllAuctions=function(){t.clear()},r.index=new s.AuctionIndex((function(){return t.toArray()})),r}var y=b();t.auctionManager=y},function(e,t,r){var n=r(2),i=r(108),o=n.Object;e.exports=function(e){return o(i(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},r(9)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueue=q,t.setQueue=F,t.auctionAll=Z,t.isMobile=ee,t.instantiateBidBarrel=async function(e,t){if((0,u.default)((0,v.dom)().window,"BidBarrel.created"))a.bbLogger.atVerbosity(1).logWarn("BidBarrel attempted to be instantiated twice. This is usually caused by BidBarrel being included more than once on the page.");else{te(),(0,a.debugOn)("true")&&(e._static={global:(0,y.cloneDeep)(A.default),site:(0,y.cloneDeep)(e)});const r=V;let n=(0,l.default)(e,A.default),i=(0,I.default)(t,"code");const s=(e,t)=>{a.bbLogger.logWarn("Failed to Apply Remote Config ( ".concat(r,"/").concat(e," )"),t||{})};try{const e=await h.api.get("".concat(r,"/").concat((0,T.getEnvVal)(),"/config/diff"),{timeout:3e3,query:{variant:"us"}}),{payload:t,success:o}=e;if(o){a.bbLogger.logInfo("Applying Remote Config ( ".concat(r,"/").concat((0,T.getEnvVal)()," )"),t);const{units:e,...o}=t,s=(e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return t};n=(0,f.default)(n,o,s),i=(0,f.default)(i,e,s),(0,a.debugOn)("true")&&(n._remote=t)}else s((0,T.getEnvVal)(),e)}catch(e){a.bbLogger.logError(e);const t=new Error("Failed to apply remote config. ".concat(JSON.stringify(e,E.default)));S.errorReporting.report(t),s("undetected")}(0,p.setConfig)(n),w.storage.setup(),O.default.setup(),S.errorReporting.setup(),x.adIdentifier.setupListeners(),C.bidCache.setupListeners(),a.bbLogger.atVerbosity(1).logInfo("Instantiating Bid Barrel",arguments,(0,u.default)((0,v.dom)().window,"BidBarrel.queue"),"with config",(0,p.getConfig)()),F((0,u.default)((0,v.dom)().window,"BidBarrel.queue")||[]),re(),i&&(0,g.setupUnits)(i),(0,p.getConfig)("oncreate.renderScripts")&&(0,d.renderScript)((0,p.getConfig)("oncreate.renderScripts")),(0,p.getConfig)("oncreate.renderImages")&&(0,c.renderImage)((0,p.getConfig)("oncreate.renderImages")),b.exposureApi.bindToWindow(),o.eventEmitter.emit(j,(0,v.dom)().window.BidBarrel),q().run(),a.bbLogger.atVerbosity(4).logInfo("BidBarrel Instantiated")}},t.bootstrap=t.headerBidderRequest=t.getAds=t.processAdRequest=t.auction=t.adServerRequest=t.lazyLoad=t.chunkAuction=t.initialize=void 0,r(1);var n=r(32),i=r(158),o=r(14),a=r(3),s=r(95),d=r(71),c=r(223),u=D(r(31)),l=D(r(26)),f=D(r(207)),p=r(10),g=r(41),m=r(62),v=r(5),b=r(19),y=r(33),h=r(122),I=D(r(160));r(231);var S=r(40),E=D(r(50)),A=D(r(159)),_=D(r(7)),w=r(70),O=D(r(123)),T=r(81),C=r(98),x=r(372),P=r(232),R=r(222);function D(e){return e&&e.__esModule?e:{default:e}}(0,v.dom)().window.pbjs=(0,v.dom)().window.pbjs||{},(0,v.dom)().window.pbjs.installedModules=(0,v.dom)().window.pbjs.installedModules||[];const{LOAD:k,INSTANTIATED:j,INITIALIZE:N,BIDS_REQUESTED:M,BIDS_RETURNED:B,REFRESH:U,AUCTION:L}=_.default.EVENTS,V="cbsnews";let z;function q(){return z}function F(e){z=z?(0,s.promiseQueue)("BidBarrel Primary Queue",[...z.remainingItems,...e]):(0,s.promiseQueue)("BidBarrel Primary Queue",e)}const G=(0,n.hookedFn)("sync",(e=>{e.queryTargeting&&(e.targeting=(0,l.default)({},e.targeting,{query:e.queryTargeting}));const t=e;t._initOverrides=(0,y.cloneDeep)(e),e.dfpPath&&"string"==typeof e.dfpPath&&(t.dfpPath=e.dfpPath),(0,p.setConfigPublic)(t);const r=(0,p.getConfig)();a.bbLogger.atVerbosity(1).logMessage("Initializing BidBarrel. Config:",r),$(r.pageTargeting||r.siteTargeting),o.eventEmitter.emit(N),a.bbLogger.atVerbosity(4).logInfo("BidBarrel Initialized")}));t.initialize=G;const W=e=>{const t=(0,p.getConfig)("lazyLoading.auction");if(!t.chunk)return e;const r=(0,R.chunk)((0,P.elementSort)(e,(0,p.getConfig)("priorityAxis")),t.chunkSize);if(r.length>1){a.bbLogger.logInfo("Splitting auction call into multiple calls. Chunks:",r,"Config:",t);const e={};for(let n=1;n<r.length;n++){const i=r[n];if(t.lazy){const t=i[0].element,r=i[0].code;e[r]={units:i,element:t}}else setTimeout((()=>J(i)),0)}if(t.lazy){const n={rootMargin:t.offset.yAxis+"px "+t.offset.xAxis+"px",threshold:.01*t.percentageVisible},i=new IntersectionObserver((t=>{for(let r=0;r<t.length;r++){const n=t[r];if(n.intersectionRatio>0){i.unobserve(n.target);const t=n.target.id;J(e[t].units)}}}),n);for(let e=1;e<r.length;e++){const t=r[e][0].element;t&&i.observe(t)}}}return r[0]};t.chunkAuction=W;const H=(0,n.hookedFn)("sync",(e=>{if(e&&e.length)try{const t=(0,p.getConfig)("lazyLoading.units")||(0,p.getConfig)("lazyLoading"),r={rootMargin:t.offset.yAxis+"px "+t.offset.xAxis+"px",threshold:.01*t.percentageVisible};a.bbLogger.logInfo("Setting up lazy loading for units",e);const n=e.map((e=>(0,v.dom)().window.document.getElementById(e.code))),i=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&(i.unobserve(e.target),(0,m.setBidTargeting)([g.unitRegistry[e.target.id]]),o.eventEmitter.emit("".concat(e.target.id,".").concat(U),g.unitRegistry[e.target.id]),a.bbLogger.logInfo("Refreshing lazy loaded unit",g.unitRegistry[e.target.id]),delete g.unitRegistry[e.target.id].cancelLazyLoad,K([e.target.id]))}))}),r);n.forEach((e=>{e&&i.observe(e)}));for(let t=0;t<e.length;t++){const r=e[t];g.unitRegistry[r.code].cancelLazyLoad=()=>{i.unobserve((0,v.dom)().window.document.getElementById(r.code)),g.unitRegistry[r.code].cancelLazyLoad&&delete g.unitRegistry[r.code].cancelLazyLoad}}}catch(t){a.bbLogger.logError("Error encountered while attempting to lazy load",t);const r=new Error("Error encountered while attempting to lazy load. ".concat(JSON.stringify(t,E.default)));S.errorReporting.report(r);for(let t=0;t<e.length;t++){const r=e[t];o.eventEmitter.emit("".concat(r.code,".").concat(U),r)}(0,m.setBidTargeting)(e),K(e)}}));t.lazyLoad=H;const Y=(0,n.hookedFn)("sync",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1;if(!e||e.constructor!==Array||0===e.length)return a.bbLogger.atVerbosity(2).logWarn("Ad server request attempted with invalid units collection",e),void t();if("string"==typeof e[0]||e[0].constructor===Array){a.bbLogger.logError("This function is meant for internal BidBarrel use only");const e=new Error("This function is meant for internal BidBarrel use only.");return S.errorReporting.report(e),void t()}const r=e,n=r.filter((e=>!e.isLazyLoaded())),s=r.filter((e=>e.isLazyLoaded()));(0,m.setBidTargeting)(n),o.eventEmitter.emit(U,n);for(let e=0;e<n.length;e++){const t=n[e];o.eventEmitter.emit("".concat(t.code,".").concat(U),t)}a.bbLogger.atVerbosity(1).logInfo("Refreshing units",n),K(n),H(s),i.requestManager.reset(),t()}));t.adServerRequest=Y;const X=(0,n.hookedFn)("sync",(e=>{if(Array.isArray(e)&&(e=Array.prototype.slice.call(e)),void 0===e||-1===[Array,String,Object].indexOf(e.constructor)||e.constructor===Array&&0===e.length){a.bbLogger.logError("Invalid units array passed to BidBarrel.auction",e);const t=new Error("Invalid units array passed to BidBarrel.auction.");return void S.errorReporting.report(t)}a.bbLogger.atVerbosity(1).logInfo("Invoking BidBarrel.auction",e);let t=(0,g.getUnitCollection)(e);if(0!==t.length)(0,p.getConfig)("lazyLoading.auction.enabled")&&(t=W(t)),J(t);else{a.bbLogger.logError("No valid unit designations provided");const e=new Error("No valid unit designations provided.");S.errorReporting.report(e)}}));t.auction=X;const J=(0,n.hookedFn)("sync",(e=>{let t=!1;for(let r=0;r<e.length;r++){const n=e[r];t=t||n.bids&&n.bids.length>0,n.cancelLazyLoad&&(a.bbLogger.logInfo("Cancelling Lazy Load for unit",n),n.cancelLazyLoad())}q().push((r=>{if(a.bbLogger.atVerbosity(1).logInfo("Running auction in queue. Collection:",e),o.eventEmitter.emit(L,e),t){let t=!1;const n=(0,p.getConfig)(),s=setTimeout((()=>{t=!0,a.bbLogger.atVerbosity(1).logInfo("Hit failsafe condition"),Y(e,r)}),n.timeouts.failsafe);i.requestManager.enqueue((()=>{t||(clearTimeout(s),o.eventEmitter.emit(B,e),Y(e,r))}));try{a.bbLogger.logInfo("Making header bidder request",e),Q(e)}catch(e){a.bbLogger.logError(e);const t=new Error("Failed header bidder request. ".concat(JSON.stringify(e,E.default)));S.errorReporting.report(t)}o.eventEmitter.emit(M,e)}else a.bbLogger.atVerbosity(3).logInfo("Short-circuiting header bidding due to no bidders scenario"),Y(e,r)}))}));t.processAdRequest=J;const K=(0,n.hookedFn)("sync",(e=>e));t.getAds=K;const Q=(0,n.hookedFn)("sync",(e=>e));t.headerBidderRequest=Q;const $=(0,n.hookedFn)("sync",(e=>{const t=(0,p.getConfig)("bootstrap.renderScripts");if(t&&t.length)for(let e=0;e<t.length;e++){const r=t[e];(0,d.renderScript)(r)}const r=(0,p.getConfig)("bootstrap.renderImages");if(r&&r.length)for(let e=0;e<r.length;e++){const t=r[e];(0,c.renderImage)(t)}(0,m.setInitialPageTargeting)(e)}));function Z(){const e=[],t=(0,g.getUnits)();for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){t[r].displayed&&e.push(r)}X(e)}function ee(){const e=(0,p.getConfig)("dfpPathObj");return"mobile"===e.device||"m"===e.device}function te(){"object"==typeof A.default.debug?((0,a.setDefaultConfig)(A.default.debug),a.bbLogger.setLoggerConfig(A.default.debug)):A.default.debug&&(0,a.turnOnDebug)(),a.bbLogger.atVerbosity(1).logInfo("BidBarrel v3.16.0 ( us ) Loaded"),o.eventEmitter.emit(k,BidBarrel)}function re(){b.exposureApi.rootScope({auction:X,auctionAll:Z,initialize:G,isStagingEnv:T.isStagingEnv,isMobile:ee,getLogStack:a.getLogStack,refresh:X,process:X}),b.exposureApi.deprecateMethods(["adServerRequest","bootstrap","create","enableGoogletagServices","headerBidderRequest","lazyLoad","postProcessUnit","setInitialPageTargeting","setBidTargeting","setGptTargeting"],"v3.0.0"),b.exposureApi.rootScopeGetters({version:()=>"v3.16.0",variant:()=>"$bidbarrel.variant",queue:()=>q(),created:()=>!0,apiReady:()=>!0,bidderTimeout:()=>(0,p.getConfig)("highFrequencyAdRequests")?(0,p.getConfig)("timeouts.hfar"):(0,p.getConfig)("timeouts.bidder")})}t.bootstrap=$},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_TYPE_ANALYTICS=t.MODULE_TYPE_RTD=t.MODULE_TYPE_UID=t.MODULE_TYPE_BIDDER=t.MODULE_TYPE_PREBID=void 0;t.MODULE_TYPE_PREBID="prebid";t.MODULE_TYPE_BIDDER="bidder";t.MODULE_TYPE_UID="userId";t.MODULE_TYPE_RTD="rtd";t.MODULE_TYPE_ANALYTICS="analytics"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metricsFactory=f,t.useMetrics=y,t.hookTimer=S,t.timedBidResponseHook=t.timedAuctionHook=t.newMetrics=t.CONFIG_TOGGLE=void 0,r(1);var n,i=(n=r(6))&&n.__esModule?n:{default:n},o=r(4);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c="performanceMetrics";t.CONFIG_TOGGLE=c;var u=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},l=new WeakMap;function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,r=void 0===t?u:t,n=e.mkNode,i=void 0===n?m:n,o=e.mkTimer,s=void 0===o?g:o,d=e.mkRenamer,c=void 0===d?function(e){return e}:d,f=e.nodes,p=void 0===f?l:f;return function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};function o(e){return function(r){return t.dfWalk({visit:function(t,n){var i=n[e];if(i.hasOwnProperty(r))return i[r]}})}}n=c(n);var d=o("timestamps");function u(e,r){var i=n(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(n){null==e?t.metrics[n]=r:(t.groups.hasOwnProperty(n)||(t.groups[n]=[]),t.groups[n].push(r))}))}})}function l(e){t.timestamps[e]=r()}function f(e,t){var n=d(e),i=null!=n?r()-n:null;return null!=t&&u(t,i),i}function g(e,t,r){var n=d(e),i=d(t),o=null!=n&&null!=i?i-n:null;return null!=r&&u(r,o),o}function m(e){return s(r,(function(t){return u(e,t)}))}function v(e,t){return m(e).stopAfter(t)()}function b(e,t,r){var n=m(e);return r(function(e){var t=n.stopBefore(e);return t.bail=e.bail&&n.stopBefore(e.bail),t.stopTiming=n,t.untimed=e,t}(t))}function y(){var e={};return t.dfWalk({visit:function(t,r){e=a({},!t||t.includeGroups?r.groups:null,r.metrics,e)}}),e}function h(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.propagate,a=void 0===o||o,s=r.stopPropagation,d=void 0!==s&&s,c=r.includeGroups,u=void 0!==c&&c;return e(i([[t,{propagate:a,stopPropagation:d,includeGroups:u}]]),n)}function I(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.propagate,i=void 0===n||n,o=r.stopPropagation,a=void 0!==o&&o,s=r.includeGroups,d=void 0!==s&&s,c=p.get(e);null!=c&&c.addParent(t,{propagate:i,stopPropagation:a,includeGroups:d})}function S(r){return e(t,r)}function E(){return e(t.newSibling(),n)}var A={startTiming:m,measureTime:v,measureHookTime:b,checkpoint:l,timeSince:f,timeBetween:g,setMetric:u,getMetrics:y,fork:h,join:I,newMetrics:E,renameWith:S,toJSON:function(){return y()}};return p.set(A,t),A}(i([]))}}function p(e,t,r){return function(){t&&t();try{return e.apply(this,arguments)}finally{r&&r()}}}function g(e,t){var r=e(),n=!1;function i(){n||(t(e()-r),n=!0)}return i.stopBefore=function(e){return p(e,i)},i.stopAfter=function(e){return p(e,null,i)},i}function m(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,r){e.push([t,r])},newSibling:function(){return m(e.slice())},dfWalk:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.visit,o=r.follow,a=void 0===o?function(){return!0}:o,d=r.visited,c=void 0===d?new Set:d,u=r.inEdge;if(!c.has(this)){if(c.add(this),null!=(t=n(u,this)))return t;var l,f=s(e);try{for(f.s();!(l=f.n()).done;){var p=(0,i.default)(l.value,2),g=p[0],m=p[1];if(a(u,m)&&null!=(t=g.dfWalk({visit:n,follow:a,visited:c,inEdge:m})))return t}}catch(e){f.e(e)}finally{f.f()}}}}}var v=function(){var e=function(){},t=function(){return{}},r={forEach:e},n=function(){return null};n.stopBefore=function(e){return e},n.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return f({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return r}},mkTimer:function(){return n},nodes:{get:e,set:e}})()}(),b=!0;function y(e){return b&&e||v}o.config.getConfig(c,(function(e){b=!!e[c]}));var h,I=(h=f(),function(){return b?h():v});function S(e,t){return function(r,n){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var d=this;return y(t.apply(d,a)).measureHookTime(e+r,i,(function(e){return n.call.apply(n,[d,e].concat(a))}))}}}t.newMetrics=I;var E=S("requestBids.",(function(e){return e.metrics}));t.timedAuctionHook=E;var A=S("addBidResponse.",(function(e,t){return t.metrics}));t.timedBidResponseHook=A},function(e,t,r){var n=r(89);e.exports=function(e){return n(e.length)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t instanceof Error)return{...t,name:t.name,message:t.message,stack:t.stack};return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e,t)};var n,i=(n=r(318))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=d,t.isRendererRequired=function(e){return!(!e||!e.url&&!e.renderNow)},t.executeRenderer=function(e,t,r){var n=null;e.config&&e.config.documentResolver&&(n=e.config.documentResolver(t,document,r));n||(n=document);e.documentContext=n,e.render(t,e.documentContext)};var n=r(243),i=r(0),o=r(15),a=(0,r(8).getGlobal)(),s="outstream";function d(e){var t=this,r=e.url,o=e.config,a=e.id,d=e.callback,u=e.loaded,l=e.adUnitCode,f=e.renderNow;this.url=r,this.config=o,this.handlers={},this.id=a,this.renderNow=f,this.loaded=u,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=d||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,o=function(){e._render?e._render.apply(e,t):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};c(l)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(l)),o()):f?o():(this.cmd.unshift(o),(0,n.loadExternalScript)(r,s,this.callback,this.documentContext))}.bind(this)}function c(e){var t=a.adUnits,r=(0,o.find)(t,(function(t){return t.code===e}));if(!r)return!1;var n=(0,i.deepAccess)(r,"renderer"),s=!!(n&&n.url&&n.render),d=(0,i.deepAccess)(r,"mediaTypes.video.renderer"),c=!!(d&&d.url&&d.render);return!!(s&&!0!==n.backupOnly||c&&!0!==d.backupOnly)}d.install=function(e){return new d({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},d.prototype.getConfig=function(){return this.config},d.prototype.setRender=function(e){this._render=e},d.prototype.setEventHandlers=function(e){this.handlers=e},d.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),(0,i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(r))},d.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.clearEvents=function(){f.clear()},t.addEvents=t.emit=t.getEvents=t.get=t.off=t.on=void 0,r(9);var n,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(0)),o=(n=r(20))&&n.__esModule?n:{default:n},a=r(244),s=r(4);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var u="eventHistoryTTL",l=null,f=(0,a.ttlCollection)({monotonic:!0,ttl:function(){return l}});s.config.getConfig(u,(function(e){var t,r=l;e=null===(t=e)||void 0===t?void 0:t[u],r!==(l="number"==typeof e?1e3*e:null)&&f.refresh()}));var p=Array.prototype.slice,g=Array.prototype.push,m=Object.values(o.default.EVENTS),v=o.default.EVENT_ID_PATHS,b=function(){var e={},t={};function r(t,r){i.logMessage("Emitting event for: "+t);var n=r[0]||{},o=n[v[t]],a=e[t]||{que:[]},s=Object.keys(a),d=[];f.add({eventType:t,args:n,id:o,elapsedTime:i.getPerformanceNow()}),o&&s.includes(o)&&g.apply(d,a[o].que),g.apply(d,a.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,r)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return m.includes(e)}(t)){var o=e[t]||{que:[]};n?(o[n]=o[n]||{que:[]},o[n].que.push(r)):o.que.push(r),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+m)},t.emit=function(e){var t=p.call(arguments,1);r(e,t)},t.off=function(t,r,n){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[n])||n&&(i.isEmpty(o[n])||i.isEmpty(o[n].que))||(n?(o[n].que||[]).forEach((function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)})):(o.que||[]).forEach((function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.addEvents=function(e){m=m.concat(e)},t.getEvents=function(){return f.toArray().map((function(e){return c({},e)}))},t}();i._setEventEmitter(b.emit.bind(b));var y=b.on,h=b.off,I=b.get,S=b.getEvents,E=b.emit,A=b.addEvents;t.addEvents=A,t.emit=E,t.getEvents=S,t.get=I,t.off=h,t.on=y},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?n:r)(t)}},function(e,t,r){var n=r(27),i=r(38),o=r(75);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(2),i=r(146).f,o=r(55),a=r(57),s=r(138),d=r(273),c=r(275);e.exports=function(e,t){var r,u,l,f,p,g=e.target,m=e.global,v=e.stat;if(r=m?n:v?n[g]||s(g,{}):(n[g]||{}).prototype)for(u in t){if(f=t[u],l=e.noTargetGet?(p=i(r,u))&&p.value:r[u],!c(m?u:g+(v?".":"#")+u,e.forced)&&void 0!==l){if(typeof f==typeof l)continue;d(f,l)}(e.sham||l&&l.sham)&&o(f,"sham",!0),a(r,u,f,e)}}},function(e,t,r){var n=r(2),i=r(16),o=r(55),a=r(190),s=r(138);e.exports=function(e,t,r,d){var c=!!d&&!!d.unsafe,u=!!d&&!!d.enumerable,l=!!d&&!!d.noTargetGet,f=d&&void 0!==d.name?d.name:t;return i(r)&&a(r,f,d),e===n?(u?e[t]=r:s(t,r),e):(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=r:o(e,t,r),e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidderSettings=t.ScopedSettings=void 0,r(1);var n=d(r(100)),i=d(r(101)),o=r(0),a=r(8),s=d(r(20));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function u(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var l=new WeakSet,f=function(){function e(t,r){(0,n.default)(this,e),c(this,l),this.getSettings=t,this.defaultScope=r}return(0,i.default)(e,[{key:"get",value:function(e,t){var r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r}},{key:"getOwn",value:function(e,t){return e=u(this,l,p).call(this,e),(0,o.deepAccess)(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return(0,o.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=u(this,l,p).call(this,e),this.getSettings()[e]||{}}}]),e}();function p(e){return null==e?this.defaultScope:e}t.ScopedSettings=f;var g=new f((function(){return(0,a.getGlobal)().bidderSettings||{}}),s.default.JSON_MAPPING.BD_SETTING_STANDARD);t.bidderSettings=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processorRegistry=f,t.getProcessors=t.registerOrtbProcessor=t.PBS=t.DEFAULT=t.RESPONSE=t.BID_RESPONSE=t.IMP=t.REQUEST=t.PROCESSOR_DIALECTS=t.PROCESSOR_TYPES=void 0,r(1);var n=["request","imp","bidResponse","response"];t.PROCESSOR_TYPES=n;var i=["default","pbs"];t.PROCESSOR_DIALECTS=i;var o=n[0],a=n[1],s=n[2],d=n[3];t.RESPONSE=d,t.BID_RESPONSE=s,t.IMP=a,t.REQUEST=o;var c=i[0],u=i[1];t.PBS=u,t.DEFAULT=c;var l=new Set(n);function f(){var e={};return{registerOrtbProcessor:function(t){var r=t.type,i=t.name,o=t.fn,a=t.priority,s=void 0===a?0:a,d=t.dialects,u=void 0===d?[c]:d;if(!l.has(r))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));u.forEach((function(t){e.hasOwnProperty(t)||(e[t]={}),e[t].hasOwnProperty(r)||(e[t][r]={}),e[t][r][i]={priority:s,fn:o}}))},getProcessors:function(t){return e[t]||{}}}}var p=f(),g=p.registerOrtbProcessor,m=p.getProcessors;t.getProcessors=m,t.registerOrtbProcessor=g},function(e,t,r){var n,i,o,a=r(272),s=r(2),d=r(12),c=r(37),u=r(55),l=r(35),f=r(137),p=r(144),g=r(142),m="Object already initialized",v=s.TypeError,b=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new b),h=d(y.get),I=d(y.has),S=d(y.set);n=function(e,t){if(I(y,e))throw new v(m);return t.facade=e,S(y,e,t),t},i=function(e){return h(y,e)||{}},o=function(e){return I(y,e)}}else{var E=p("state");g[E]=!0,n=function(e,t){if(l(e,E))throw new v(m);return t.facade=e,u(e,E,t),t},i=function(e){return l(e,E)?e[E]:{}},o=function(e){return l(e,E)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlQueryAsObject=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.dom)().window.location.href,t="";if(i[e])return i[e];t=JSON.stringify(e);e=e.substring(e.indexOf("?")+1),e.indexOf("#")>=0&&(e=e.split("#")[0]);var r,o=/([^&=]+)=?([^&]*)/g,a=/\+/g,s=function(e){return decodeURIComponent(e.replace(a," "))},d={};for(;r=o.exec(e);){var c=s(r[1]),u=s(r[2]);"[]"===c.substring(c.length-2)?(c=c.substring(0,c.length-2),(d[c]||(d[c]=[])).push(u)):d[c]=u}var l=function(e,t,r){for(var n=t.length-1,i=0;i<n;++i){var o=t[i];"_proto_"!==o&&"__proto__"!==o&&(o in e||(e[o]={}),e=e[o])}e[t[n]]=r};for(var f in d){var p=f.split("[");if(p.length>1){var g=[];p.forEach((function(e,t){var r=e.replace(/[?[\]\\ ]/g,"");g.push(r)})),l(d,g,d[f]),delete d[f]}}""!==t&&(i[t]=d);return d},r(17);var n=r(5);const i={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetQuery=function(){I=(0,a.urlQueryAsObject)()},t.getPageTargeting=R,t.getVGuid=D,t.applyTargeting=Y,t.resetTargeting=K,t.resetAllTargeting=Q,t.clearTargeting=$,t.setTargeting=Z,t.clearUnitTargeting=t.clearPageTargeting=t.setPageTargeting=t.setUnitTargeting=t.setInitialPageTargeting=t.setBidTargeting=t.pageTargeting=void 0,r(1),r(17);var n=r(10),i=r(3),o=r(5),a=r(61),s=h(r(26)),d=r(41),c=r(32),u=r(94),l=h(r(51)),f=r(19),p=r(70),g=h(r(359)),m=r(14),v=h(r(7)),b=h(r(221)),y=r(40);function h(e){return e&&e.__esModule?e:{default:e}}let I=(0,a.urlQueryAsObject)(),S=!1;const{AD_SESSION:E,AD_SUBSESSION:A,SESSION:_,SUBSESSION:w,FTAG:O,TTAG:T,TARGETING_PREFIX:C}=v.default.QUERY_PARAMS,{AUCTION:x}=v.default.EVENTS;let P=(0,u.richObject)({});function R(){return P.getValue(...arguments)}function D(){return R("vguid")}t.pageTargeting=P;const k=(0,c.hookedFn)("sync",(e=>(i.bbLogger.logInfo("Setting Bid Targeting",e),e)));t.setBidTargeting=k;let j=!1,N=!0;function M(){j||(j=!0,(0,n.getConfig)("siteTargeting",(e=>{N||Z(e),N=!1})),(0,n.getConfig)("pageTargeting",(e=>{N||Z(e),N=!1})))}const B=(0,c.hookedFn)("sync",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Z(X(Y(e,!1,t))),W(),M();const r=(0,o.dom)().window.utag_data;"object"==typeof r&&"string"==typeof r._test&&L("test",(0,o.dom)().window.utag_data._test)}));t.setInitialPageTargeting=B;const U=(0,c.hookedFn)("sync",(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d.unitRegistry[e].targeting||(d.unitRegistry[e].targeting={}),d.unitRegistry[e].targeting[t]=r,n&&(d.unitTemplates[e].targeting||(d.unitTemplates[e].targeting={}),d.unitTemplates[e].targeting[t]=r)}));t.setUnitTargeting=U;const L=(0,c.hookedFn)("sync",((e,t)=>{P.setValue(e,t)}));t.setPageTargeting=L;const V=(0,c.hookedFn)("sync",(e=>{const t=P.getValue();let r={};Array.isArray(e)&&e.length>0&&(r=(0,l.default)(t,e)),P.setValue("*",r,{forceUpdate:!0})}));t.clearPageTargeting=V;const z=(0,c.hookedFn)("sync",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.unitRegistry;Array.isArray(t)&&t.length>0?r[e].targeting=(0,l.default)(d.unitRegistry[e].targeting,t):r[e].targeting={}}));function q(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S=!0,t||(t=J({}));const o=(0,n.getConfig)(),a=o.targeting.cookie.consolidate,d=o.targeting.cookie.keyMap;let c={};const u=p.storage.getCookie(d.surround||"surround");let l=null;if(u)l=u.split("|"),a&&p.storage.deleteCookie(d.surround||"surround");else{const e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].slice(0,o.targeting.seats.session);l=[e[Math.floor(Math.random()*e.length)],Math.floor(Math.random()*o.targeting.seats.subsession)+1]}const f=[p.storage.getCookie("browserSession"),p.storage.getCookie("dailySession")],g={session:l[0],subses:l[1]},m=["firstpg","session","subses","ftag","ttag"];for(let e=0;e<m.length;e++){const t=m[e];if(d[t]){const e=p.storage.getCookie(d[t]);e&&(g[t]=e,a&&p.storage.deleteCookie(d[t]))}}i.bbLogger.atVerbosity(2).logInfo("Handling autotargeting.","Query:",t,"Publisher Provided:",e,"Cookies:",g);const v=f[0]?f[0]:{},y=f[1]?f[1]:{};if(a?c={firstpg:parseInt(t.firstpg||e.firstpg||y.firstpg||g.firstpg),ttag:t.ttag||e.ttag||y.ttag||g.ttag,ftag:t.ftag||e.ftag||y.ftag||g.ftag,session:t.session||e.session||v.session||g.session,subses:t.subses||e.subses||v.subses||g.subses,pv:parseInt(t.pv||e.pv||y.pv||g.pv||0)}:(c={firstpg:parseInt(t.firstpg||e.firstpg||g.firstpg||y.firstpg),pv:parseInt(t.pv||e.pv||g.pv||y.pv||0),session:t.session||e.session||g.session||v.session,subses:t.subses||e.subses||g.subses||v.subses,ttag:t.ttag||e.ttag||g.ttag||y.ttag,ftag:t.ftag||e.ftag||g.ftag||y.ftag},p.storage.deleteCookie("browserSession"),p.storage.deleteCookie("dailySession")),void 0===c.pv||e.pv||t.pv||!r||c.pv++,0!==c.firstpg&&1!==c.firstpg&&void 0!==c.pv?c.firstpg=1==c.pv?"1":"0":0!==c.firstpg&&1!==c.firstpg?c.firstpg=1:1===c.firstpg&&(c.firstpg=0),a){const e={session:c.session,subses:c.subses},t={firstpg:c.firstpg,ttag:c.ttag,ftag:c.ftag,pv:c.pv};(0,b.default)(f[0],e)||p.storage.setCookie("browserSession",e),(0,b.default)(f[1],t)||p.storage.setCookie("dailySession",t)}else if(d.surround){u!==[c.session,c.subses].join("|")&&p.storage.setCookie(d.surround||"surround",[c.session,c.subses].join("|"))}else c.session!==g.session&&p.storage.setCookie(d.session||"session",c.session),c.subses!==g.subses&&p.storage.setCookie(d.subses||"subses",c.subses);return a||(c.ftag!==g.ftag&&p.storage.setCookie(d.ftag||"ftag",c.ftag),c.ttag!==g.ttag&&p.storage.setCookie(d.ttag||"ttag",c.ttag),c.firstpg!==g.firstpg&&p.storage.setCookie(d.firstpg||"firstpg",c.firstpg)),(0,s.default)({},c,t,e)}let F,G;function W(){(0,n.getConfig)("targeting.auto")&&!G&&(G=(0,g.default)("object"==typeof(0,o.dom)().window.utag_data&&(0,o.dom)().window.utag_data.pageViewGuid?"utag_data.pageViewGuid":()=>P.getValue("vguid")),m.eventEmitter.on(x,(()=>G.check())),F=G.onChange(H,{skipInitialRun:!0}))}function H(e){if((0,n.getConfig)("targeting.auto")){const t=P.getValue("pv")||0,r=parseInt(t)+1;i.bbLogger.logInfo("Incrementing PV targeting value to",r,"New Page View Guid detected",e),L("pv",r),function(){const{firstpg:e,ttag:t,ftag:r,pv:i}=R();if((0,n.getConfig)("targeting.cookie.consolidate"))p.storage.setCookie("dailySession",{firstpg:e,ttag:t,ftag:r,pv:i});else{const o={firstpg:e,ttag:t,ftag:r,pv:i},a=(0,n.getConfig)("targeting.cookie.keyMap");for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=o[e];a[e]&&p.storage.setCookie(a[e],t)}}}()}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=(0,n.getConfig)();let a=e||{};return a=!o.targeting.auto||S&&!r?J(a,t):q(a,t,i),a}function X(e){return e.vguid||D()||i.bbLogger.logWarn("No vguid provided! Please update your implementation to provide a vguid in initConfig.pageTargeting.vguid"),e}function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t||(0,a.urlQueryAsObject)((0,o.dom)().window.location.href),i=(0,n.getConfig)("targeting.query.dynamicPrefix"),s=(0,n.getConfig)("targeting.query.keyMap"),d={[E]:"session",[A]:"subses",[_]:"session",[w]:"subses",[O]:"ftag",[T]:"ttag"},c=e;for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=r[e];i&&e.indexOf(i)>=0&&(c[e.replace(i,"")]=t),s[e]&&(c[s[e]]=t),e.indexOf(C)>=0&&(c[e.replace(C,"")]=t),d[e]&&(c[d[e]]=t)}return c}function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&"object"==typeof e&&e.constructor===Array){i.bbLogger.logError("The first argument of BidBarrel.resetTargeting should be an object or falsy");const e=new Error("The first argument of BidBarrel.resetTargeting should be an object or falsy.");y.errorReporting.report(e)}else if(t&&t.constructor!==Array){i.bbLogger.logError("The second argument of BidBarrel.resetTargeting should be an array or falsy value. Exiting.");const e=new Error("The second argument of BidBarrel.resetTargeting should be an array or falsy value. Exiting.");y.errorReporting.report(e)}else if("boolean"==typeof r||null==r)$([],t,n),t&&0!==t.length?Z(e,t,n):(S=!1,Z(Y(e,!!r&&I,!1,!1)));else{i.bbLogger.logError("The third argument of BidBarrel.resetTargeting should be a boolean or falsy value. Exiting.");const e=new Error("The third argument of BidBarrel.resetTargeting should be a boolean or falsy value. Exiting.");y.errorReporting.report(e)}}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=[],i=(0,d.getUnits)();for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=i[e];t.displayed&&n.push(t.code)}$([],n,r),K(e,[],t,r)}function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&t.length){i.bbLogger.atVerbosity(2).logInfo("Clearing targeting for slots",t,e);const n=(0,d.getUnitCollection)(t);for(let t=0;t<n.length;t++){const i=n[t].code;z(i,e),d.unitTemplates[i]&&r&&z(i,e,d.unitTemplates)}}else V(e),i.bbLogger.atVerbosity(2).logInfo("Clearing targeting for page",e||"all values")}function Z(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)if(t&&t.length?i.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to units",t):i.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to page"),"string"==typeof t&&(t=[t]),t){const n=(0,d.getUnitCollection)(t);for(let t=0;t<n.length;t++){const o=n[t].code;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];null!=n?(U(o,t,n),r&&U(o,t,n,d.unitTemplates)):i.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined for ".concat(o,":").concat(t,". This will result in the targeting value not being set."))}}}else{const t=(0,n.getConfig)();for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];null!=n?L(r,n):-1!==["ftag","ttag"].indexOf(r)&&t.targeting.auto||i.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined for ".concat(r,". This will result in the targeting value not being set."))}}}t.clearUnitTargeting=z,f.exposureApi.rootScope({setTargeting:Z,resetTargeting:K,resetAllTargeting:Q,clearTargeting:$,newPage:()=>{F(),H()}}),f.exposureApi.rootScopeGetters({vguid:()=>D(),pageTargeting:()=>R()})},function(e,t,r){"use strict";var n,i,o,a=r(234),s=r(27),d=r(2),c=r(16),u=r(37),l=r(35),f=r(78),p=r(113),g=r(55),m=r(57),v=r(38).f,b=r(111),y=r(114),h=r(91),I=r(22),S=r(139),E=d.Int8Array,A=E&&E.prototype,_=d.Uint8ClampedArray,w=_&&_.prototype,O=E&&y(E),T=A&&y(A),C=Object.prototype,x=d.TypeError,P=I("toStringTag"),R=S("TYPED_ARRAY_TAG"),D=S("TYPED_ARRAY_CONSTRUCTOR"),k=a&&!!h&&"Opera"!==f(d.opera),j=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!u(e))return!1;var t=f(e);return l(N,t)||l(M,t)};for(n in N)(o=(i=d[n])&&i.prototype)?g(o,D,i):k=!1;for(n in M)(o=(i=d[n])&&i.prototype)&&g(o,D,i);if((!k||!c(O)||O===Function.prototype)&&(O=function(){throw x("Incorrect invocation")},k))for(n in N)d[n]&&h(d[n],O);if((!k||!T||T===C)&&(T=O.prototype,k))for(n in N)d[n]&&h(d[n].prototype,T);if(k&&y(w)!==T&&h(w,T),s&&!l(T,P))for(n in j=!0,v(T,P,{get:function(){return u(this)?this[R]:void 0}}),N)d[n]&&g(d[n],R,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:j&&R,aTypedArray:function(e){if(B(e))return e;throw x("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!h||b(O,e)))return e;throw x(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in N){var o=d[i];if(o&&l(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}T[e]&&!r||m(T,e,r?t:k&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(h){if(r)for(n in N)if((i=d[n])&&l(i,e))try{delete i[e]}catch(e){}if(O[e]&&!r)return;try{return m(O,e,r?t:k&&O[e]||t)}catch(e){}}for(n in N)!(i=d[n])||i[e]&&!r||m(i,e,t)}},isView:function(e){if(!u(e))return!1;var t=f(e);return"DataView"===t||l(N,t)||l(M,t)},isTypedArray:B,TypedArray:O,TypedArrayPrototype:T}},function(e,t,r){r(87)("flatMap")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleRegistry=u,t.isActivityAllowed=t.registerActivityControl=void 0,r(1);var n,i=(n=r(6))&&n.__esModule?n:{default:n},o=r(0),a=r(84);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.prefixLog)("Activity control:"),t={};function r(e){return t[e]=t[e]||[]}function n(t,r,n,i){var o;try{o=n(i)}catch(n){e.logError("Exception in rule ".concat(r," for '").concat(t,"'"),n),o={allow:!1,reason:n}}return o&&s({activity:t,name:r,component:i[a.ACTIVITY_PARAM_COMPONENT]},o)}var c={},u=1e3;function l(t){var r=t.activity,n=t.name,i=t.allow,o=t.reason,a=t.component,s="".concat(n," ").concat(i?"allowed":"denied"," '").concat(r,"' for '").concat(a,"'").concat(o?":":""),d=c.hasOwnProperty(s);if(d&&clearTimeout(c[s]),c[s]=setTimeout((function(){return delete c[s]}),u),!d){var l=[s];o&&l.push(o),(i?e.logInfo:e.logWarn).apply(e,l)}}return[function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=r(e),s=a.findIndex((function(e){var t=(0,i.default)(e,1)[0];return o<t})),d=[o,t,n];return a.splice(s<0?a.length:s,0,d),function(){var e=a.indexOf(d);e>=0&&a.splice(e,1)}},function(e,t){var o,a,s,c=d(r(e));try{for(c.s();!(s=c.n()).done;){var u=(0,i.default)(s.value,3),f=u[0],p=u[1],g=u[2];if(o!==f&&a)break;o=f;var m=n(e,p,g,t);if(m){if(!m.allow)return l(m),!1;a=m}}}catch(e){c.e(e)}finally{c.f()}return a&&l(a),!0}]}var l=u(),f=(0,i.default)(l,2),p=f[0],g=f[1];t.isActivityAllowed=g,t.registerActivityControl=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVITY_TRANSMIT_TID=t.ACTIVITY_TRANSMIT_PRECISE_GEO=t.ACTIVITY_TRANSMIT_UFPD=t.ACTIVITY_TRANSMIT_EIDS=t.ACTIVITY_REPORT_ANALYTICS=t.ACTIVITY_FETCH_BIDS=t.ACTIVITY_ENRICH_EIDS=t.ACTIVITY_ENRICH_UFPD=t.ACTIVITY_SYNC_USER=t.ACTIVITY_ACCESS_DEVICE=void 0;t.ACTIVITY_ACCESS_DEVICE="accessDevice";t.ACTIVITY_SYNC_USER="syncUser";t.ACTIVITY_ENRICH_UFPD="enrichUfpd";t.ACTIVITY_ENRICH_EIDS="enrichEids";t.ACTIVITY_FETCH_BIDS="fetchBids";t.ACTIVITY_REPORT_ANALYTICS="reportAnalytics";t.ACTIVITY_TRANSMIT_EIDS="transmitEids";t.ACTIVITY_TRANSMIT_UFPD="transmitUfpd";t.ACTIVITY_TRANSMIT_PRECISE_GEO="transmitPreciseGeo";t.ACTIVITY_TRANSMIT_TID="transmitTid"},function(e,t,r){var n=r(2),i=r(16),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var n=r(61),i=r(3),o=r(333),a=l(r(31)),s=l(r(93)),d=r(33),c=r(19),u=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}const{QUERY_PARAMS:{AD_SUPPRESS:f,BID_SUPPRESS:p,MOD_SUPPRESS:g,PERF_MEASURE:m,SIZE_SUPPRESS:v,FORCE_RUN:b,AD_REGION:y,AD_COUNTRY:h}}=u.default,I=(0,i.logger)({name:"Features",bgColor:"#eee",textColor:"#DA4167"}),S={adSuppress:f,bidSuppress:p,modSuppress:g,sizeSuppress:v,perfMeasure:m,forceRun:b},E={regionCode:y,countryCode:h},A=function(){const e={},t=(0,n.urlQueryAsObject)();function r(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=r[e];(0,s.default)(n,"".concat(t,".").concat(e),i)}}function i(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.constructor===Array){const e=t.map((e=>i(e,r)));return r?-1===e.indexOf(!1):e.indexOf(!0)>=0}const n=(0,a.default)(e,t)||!1;return"boolean"==typeof n&&n}return c.exposureApi.expose({getAllFeatures:function(){return(0,d.cloneDeep)(e)},getFeature:i}),function(){for(const e in S)if(Object.prototype.hasOwnProperty.call(S,e)){const n=S[e];t[n]&&r(e,(0,o.stringFlags)(t[n]).results)}for(const r in E)if(Object.prototype.hasOwnProperty.call(E,r)){const n=E[r];t[n]&&(0,s.default)(e,r,t[n])}}(),I.atVerbosity(2).logInfo("Features on load",e),{get:i,getValue:function(t){return(0,a.default)(e,t)||null}}}();t.features=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storage=void 0;var n=r(219),i=r(220),o=r(14),a=r(10);const s=function(){function e(){n.localStorageEngine.setup(),i.cookieStorageEngine.setup()}return{setup:function(){const t=(0,a.getConfig)("consent");void 0===t||!0===t?e():!1===t&&o.eventEmitter.on("consentChanged",(t=>{t&&e()}))},getLocalStorage:n.localStorageEngine.getValue,getLs:n.localStorageEngine.getValue,setLocalStorage:n.localStorageEngine.setValue,setLs:n.localStorageEngine.setValue,deleteLs:n.localStorageEngine.deleteKey,getCookie:i.cookieStorageEngine.getValue,setCookie:i.cookieStorageEngine.setValue,deleteCookie:i.cookieStorageEngine.deleteCookie,raw:{getCookie:i.cookieStorageEngine.raw.getValue,setCookie:i.cookieStorageEngine.raw.setValue,getLs:n.localStorageEngine.raw.getValue,setLs:n.localStorageEngine.raw.setValue,deleteFromLs:n.localStorageEngine.raw.deleteKey}}}();t.storage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderScript=void 0;var n,i=(n=r(51))&&n.__esModule?n:{default:n},o=r(32),a=r(3),s=r(5);const{logInfo:d}=a.bbLogger.atVerbosity(3),c=(0,o.hookedFn)("sync",(e=>{if(e.constructor===Array){for(let t=0;t<e.length;t++){const r=e[t];c(r)}return}if((0,s.dom)().window.document.getElementById(e.id)||e.shouldRender&&!e.shouldRender())return;var t={attributes:(0,i.default)(e,["content","parent","shouldRender","filter"]),parent:e.parent,content:e.content};let r="";e.src&&(r=e.src.substring(e.src.lastIndexOf("/")+1)),!e.src||(0,s.dom)().window.document.querySelector("script[src*='"+e.src+"']")||(0,s.dom)().window.document.querySelector("script[src*='"+r+"']")||(d("Rendering script via BidBarrel",e),function(e,t,r,n,i){var o,a=e.getElementsByTagName(t)[0],s=void 0!==i&&e.querySelector(i);if(!r.id||!e.getElementById(r.id)){for(var d in(o=e.createElement(t)).setAttribute("type","text/javascript"),r)r.hasOwnProperty(d)&&o.setAttribute(d,!0===r[d]?"":r[d]);n&&(o.innerHTML=n),s?s.append(o):null!==s&&a.parentNode.insertBefore(o,a)}}((0,s.dom)().window.document,"script",t.attributes,t.content,t.parent))}));t.renderScript=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFetchRequest=p,t.fetcherFactory=g,t.attachCallbacks=v,t.ajaxBuilder=b,t.fetch=t.ajax=t.dep=void 0,r(126),r(1),r(96),r(97);var n=s(r(6)),i=s(r(18)),o=r(4),a=r(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var c={fetch:window.fetch.bind(window),makeRequest:function(e,t){return new Request(e,t)},timeout:function(e,t){var r=new AbortController,n=setTimeout((function(){r.abort(),(0,a.logError)("Request timeout after ".concat(e,"ms"),t),n=null}),e);return{signal:r.signal,done:function(){n&&clearTimeout(n)}}}};t.dep=c;var u="GET",l="POST",f="Content-Type";function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.method||(t?l:u);if(n===u&&t){var i=(0,a.parseUrl)(e,r);d(i.search,t),e=(0,a.buildUrl)(i)}var o=new Headers(r.customHeaders);o.set(f,r.contentType||"text/plain");var s={method:n,headers:o};return n!==u&&t&&(s.body=t),r.withCredentials&&(s.credentials="include"),r.browsingTopics&&isSecureContext&&(s.browsingTopics=!0),c.makeRequest(e,s)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.request,n=t.done,i=function(t,r){var n,i,a;null==e||null!=(null===(n=r)||void 0===n?void 0:n.signal)||o.config.getConfig("disableAjaxTimeout")||(r=d({signal:(a=c.timeout(e,t)).signal},r));var s=c.fetch(t,r);return null!=(null===(i=a)||void 0===i?void 0:i.done)&&(s=s.finally(a.done)),s};return null==r&&null==n||(i=function(e){return function(t,i){var o=new URL(null==(null==t?void 0:t.url)?t:t.url,document.location).origin,a=e(t,i);return r&&r(o),n&&(a=a.finally((function(){return n(o)}))),a}}(i)),i}function m(e,t){var r=e.status,n=e.statusText,i=void 0===n?"":n,o=e.headers,s=e.url,c=0;function u(e){if(0===c)try{var r,n;c=(new DOMParser).parseFromString(t,null==o||null===(r=o.get(f))||void 0===r||null===(n=r.split(";"))||void 0===n?void 0:n[0])}catch(t){c=null,e&&e(t)}return c}return{readyState:XMLHttpRequest.DONE,status:r,statusText:i,responseText:t,response:t,responseType:"",responseURL:s,get responseXML(){return u(a.logError)},getResponseHeader:function(e){return null!=o&&o.has(e)?o.get(e):null},toJSON:function(){return d({responseXML:u()},this)}}}function v(e,t){var r="object"===(0,i.default)(t)&&null!=t?t:{success:"function"==typeof t?t:function(){return null},error:function(e,t){return(0,a.logError)("Network error",e,t)}},o=r.success,s=r.error;e.then((function(e){return e.text().then((function(t){return[e,t]}))})).then((function(e){var t=(0,n.default)(e,2),r=t[0],i=t[1],a=m(r,i);r.ok||304===r.status?o(i,a):s(r.statusText,a)}),(function(){return s("",m({status:0},""))}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.request,n=t.done,i=g(e,{request:r,done:n});return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};v(i(p(e,r,n)),t)}}var y=b();t.ajax=y;var h=g();t.fetch=h},function(e,t){e.exports=!1},function(e,t,r){var n,i=r(30),o=r(268),a=r(143),s=r(142),d=r(271),c=r(135),u=r(144),l=u("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},g=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&n?g(n):((t=c("iframe")).style.display="none",d.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):g(n);for(var r=a.length;r--;)delete m.prototype[a[r]];return m()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=i(e),r=new f,f.prototype=null,r[l]=e):r=m(),void 0===t?r:o.f(r,t)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(38).f,i=r(35),o=r(22)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(2),i=r(78),o=n.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},function(e,t,r){var n=r(2),i=r(281),o=r(16),a=r(107),s=r(22)("toStringTag"),d=n.Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=d(e),s))?r:c?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},function(e,t,r){var n=r(206),i=r(153);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,d=t.length;++s<d;){var c=t[s],u=o?o(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),a?i(r,c,u):n(r,c,u)}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const r={};return function(){const n=t(...arguments);return r[n]||(r[n]=e(...arguments)),r[n]}},r(1);const n=function(){return arguments.length<=0?void 0:arguments[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvCfg=function(e){if("object"!=typeof e||Array.isArray(e))return e;return l()&&(e.dev||e.stage)?e.dev||e.stage:e.prod},t.getEnvVal=t.isStagingEnv=void 0;var n=r(10),i=r(5),o=r(62),a=u(r(80)),s=r(32),d=u(r(363)),c=r(61);function u(e){return e&&e.__esModule?e:{default:e}}const l=(0,s.hookedFn)("sync",(()=>"stage"===(0,c.urlQueryAsObject)().adTargeting_env||"stage"===p()||function(){const e=(0,o.getPageTargeting)("env");return["stage","staging","dev"].indexOf(e)>=0}()||function(){const e=(0,n.getConfig)("pageTargeting.env");return["stage","staging","dev"].indexOf(e)>=0}()));t.isStagingEnv=l;const f=(0,a.default)((function(){return(0,c.urlQueryAsObject)().adTargeting_env||p()||(l()?"stage":"prod")}));function p(){if(!(0,i.dom)().window.performance.getEntriesByType)return null;const e="bidbarrel-cbsnews_us.js".split(".")[0],t=(0,i.dom)().window.performance.getEntriesByType("resource").find((t=>t.name.indexOf(e)>=0));if(!t||!t.name)return null;const r=(0,d.default)(t.name);if(r.hostname&&r.hostname.indexOf("at.cbsi.com")>=0){const t=new RegExp("/lib/dist/(.*)/".concat(e),"gm").exec(r.pathname);return t&&t.length>=2&&t[1]?t[1]:null}return null}t.getEnvVal=f},function(e,t,r){var n=r(12),i=r(88),o=r(106),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processNativeAdUnitParams=P,t.decorateAdUnitsWithNativeParams=function(e){e.forEach((function(e){var t=e.nativeParams||(0,a.deepAccess)(e,"mediaTypes.native");t&&(e.nativeParams=P(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||V(e.nativeParams))}))},t.isOpenRTBBidRequestValid=R,t.nativeBidIsValid=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.index,i=void 0===n?d.auctionManager.index:n,o=i.getAdUnit(e);if(!o)return!1;var a=o.nativeOrtbRequest,s=(null===(t=e.native)||void 0===t?void 0:t.ortb)||F(e.native,a);return k(s,a)},t.isNativeOpenRTBBidValid=k,t.fireNativeTrackers=function(e,t){var r=t.native.ortb||q(t.native);"click"===e.action?N(r,null==e?void 0:e.assetId):j(r);return e.action},t.fireImpressionTrackers=j,t.fireClickTrackers=N,t.getNativeTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index,n=void 0===r?d.auctionManager.index:r,i={},o=n.getAdUnit(e);(0,a.deepAccess)(o,"nativeParams.rendererUrl")?e.native.rendererUrl=U(o.nativeParams.rendererUrl):(0,a.deepAccess)(o,"nativeParams.adTemplate")&&(e.native.adTemplate=U(o.nativeParams.adTemplate));var s=!1!==(0,a.deepAccess)(o,"nativeParams.sendTargetingKeys"),c=L(o),u=v(v({},e.native),e.native.ext);return delete u.ext,Object.keys(u).forEach((function(t){var r=c[t],n=U(e.native[t])||U((0,a.deepAccess)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&r&&n){var d=(0,a.deepAccess)(o,"nativeParams.".concat(t,".sendId"));if("boolean"!=typeof d&&(d=(0,a.deepAccess)(o,"nativeParams.ext.".concat(t,".sendId"))),d)n="".concat(r,":").concat(e.adId);var u=(0,a.deepAccess)(o,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=(0,a.deepAccess)(o,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:s)&&(i[r]=n)}})),i},t.getAssetMessage=function(e,t){var r=e.assets.map((function(e){return B[e]}));return M(e,t,r)},t.getAllAssetsMessage=function(e,t){return M(e,t,null)},t.toOrtbNativeRequest=V,t.fromOrtbNativeRequest=z,t.convertOrtbRequestToProprietaryNative=function(e){if(!e||!(0,a.isArray)(e))return e;if(!e.some((function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[u.NATIVE])||void 0===t?void 0:t.ortb})))return e;var t,r=(0,a.deepClone)(e),n=p(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.mediaTypes&&i.mediaTypes[u.NATIVE]&&i.mediaTypes[u.NATIVE].ortb&&(i.mediaTypes[u.NATIVE]=f((0,a.pick)(i.mediaTypes[u.NATIVE],_),z(i.mediaTypes[u.NATIVE].ortb)),i.nativeParams=P(i.mediaTypes[u.NATIVE]))}}catch(e){n.e(e)}finally{n.f()}return r;return e},t.legacyPropertiesToOrtbNative=q,t.toOrtbNativeResponse=F,t.toLegacyResponse=function(e,t){var r={},i=(null==t?void 0:t.assets)||[];r.clickUrl=e.link.url,r.privacyLink=e.privacy;var o,a=p((null==e?void 0:e.assets)||[]);try{var s=function(){var e=o.value,t=i.find((function(t){return e.id===t.id}));e.title?r.title=e.title.text:e.img?r[t.img.type===E.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(r[O[T[t.data.type]]]=e.data.value)};for(a.s();!(o=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}r.impressionTrackers=[];var d,c=[];e.imptrackers&&(d=r.impressionTrackers).push.apply(d,(0,n.default)(e.imptrackers));var u,l=p((null==e?void 0:e.eventtrackers)||[]);try{for(l.s();!(u=l.n()).done;){var f=u.value;f.event===x&&f.method===C.img&&r.impressionTrackers.push(f.url),f.event===x&&f.method===C.js&&c.push(f.url)}}catch(e){l.e(e)}finally{l.f()}c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&c.push(e.jstracker);c.length&&(r.javascriptTrackers=c.join("\n"));return r},t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.IMAGE=t.NATIVE_TARGETING_KEYS=t.nativeAdapters=void 0,r(1),r(9);var n=l(r(23)),i=l(r(6)),o=l(r(11)),a=r(0),s=r(15),d=r(43),c=l(r(20)),u=r(25);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=[];t.nativeAdapters=b;var y=Object.keys(c.default.NATIVE_KEYS).map((function(e){return c.default.NATIVE_KEYS[e]}));t.NATIVE_TARGETING_KEYS=y;var h={ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}};t.IMAGE=h;var I={image:h},S=c.default.NATIVE_ASSET_TYPES,E=c.default.NATIVE_IMAGE_TYPES,A=c.default.PREBID_NATIVE_DATA_KEYS_TO_ORTB,_=c.default.NATIVE_KEYS_THAT_ARE_NOT_ASSETS,w=c.default.NATIVE_KEYS,O=G(A),T=G(S),C={img:1,js:2,1:"img",2:"js"},x=1;function P(e){if(e&&e.type&&function(e){if(!e||!(0,s.includes)(Object.keys(I),e))return(0,a.logError)("".concat(e," nativeParam is not supported")),!1;return!0}(e.type)&&(e=I[e.type]),!e||!e.ortb||R(e.ortb))return e}function R(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,a.logError)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var r=t.map((function(e){return e.id}));return t.length!==new Set(r).size||r.some((function(e){return e!==parseInt(e,10)}))?((0,a.logError)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,a.logError)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!(0,a.isPlainObject)(e))return(0,a.logError)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,a.isNumber)(e.img.w)&&!(0,a.isNumber)(e.img.wmin))return(0,a.logError)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,a.isNumber)(e.img.h)&&!(0,a.isNumber)(e.img.hmin))return(0,a.logError)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,a.isNumber)(e.title.len))return(0,a.logError)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,a.isNumber)(e.data.type))return(0,a.logError)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,a.isNumber)(e.video.minduration)&&(0,a.isNumber)(e.video.maxduration)))return(0,a.logError)("video asset is not properly configured"),!1;return!0}(e)}))}t.nativeAdUnit=function(e){var t="native"===e.mediaType,r=(0,a.deepAccess)(e,"mediaTypes.native");return t||r};var D=function(e){return(0,s.includes)(b,e.bidder)};t.nativeBidder=D;function k(e,t){if(!(0,a.deepAccess)(e,"link.url"))return(0,a.logError)("native response doesn't have 'link' property. Ortb response: ",e),!1;var r=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),n=e.assets.map((function(e){return e.id})),i=r.every((function(e){return(0,s.includes)(n,e)}));return i||(0,a.logError)("didn't receive a bid with all required assets. Required ids: ".concat(r,", but received ids in response: ").concat(n)),i}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.runMarkup,n=void 0===r?function(e){return(0,a.insertHtmlIntoIframe)(e)}:r,i=t.fetchURL,o=void 0===i?a.triggerPixel:i,s=(e.eventtrackers||[]).filter((function(e){return e.event===x})),d=s.reduce((function(e,t){return C.hasOwnProperty(t.method)&&e[C[t.method]].push(t.url),e}),{img:[],js:[]}),c=d.img,u=d.js;e.imptrackers&&(c=c.concat(e.imptrackers)),c.forEach((function(e){return o(e)})),u=u.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(u=u.concat([e.jstracker])),u.length&&n(u.join("\n"))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fetchURL,i=void 0===n?a.triggerPixel:n;if(t){var o,s=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),d=(null===(o=e.link)||void 0===o?void 0:o.clicktrackers)||[],c=s[t],u=d;c&&(u=c.clicktrackers||[]),u.forEach((function(e){return i(e)}))}else{var l;((null===(l=e.link)||void 0===l?void 0:l.clicktrackers)||[]).forEach((function(e){return i(e)}))}}function M(e,t,r){var n,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.index,s=void 0===a?d.auctionManager.index:a,u={message:"assetResponse",adId:e.adId},l=s.getAdUnit(t),f=t.native;return t.native.ortb?u.ortb=t.native.ortb:null!==(n=l.mediaTypes)&&void 0!==n&&null!==(i=n.native)&&void 0!==i&&i.ortb&&(u.ortb=F(t.native,l.nativeOrtbRequest)),u.assets=[],(null==r?Object.keys(f):r).forEach((function(e){if("adTemplate"===e&&f[e])u.adTemplate=U(f[e]);else if("rendererUrl"===e&&f[e])u.rendererUrl=U(f[e]);else if("ext"===e)Object.keys(f[e]).forEach((function(t){if(f[e][t]){var r=U(f[e][t]);u.assets.push({key:t,value:r})}}));else if(f[e]&&c.default.NATIVE_KEYS.hasOwnProperty(e)){var t=U(f[e]);u.assets.push({key:e,value:t})}})),u}t.hasNonNativeBidder=function(e){return e.bids.filter((function(e){return!D(e)})).length};var B=Object.fromEntries(Object.entries(c.default.NATIVE_KEYS).map((function(e){var t=(0,i.default)(e,2),r=t[0];return[t[1],r]})));function U(e){return(null==e?void 0:e.url)||e}function L(e){var t={};return(0,a.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),v(v({},c.default.NATIVE_KEYS),t)}function V(e){if(e||(0,a.isPlainObject)(e)){var t={ver:"1.2",assets:[]};for(var r in e)if(!_.includes(r))if(w.hasOwnProperty(r))if("privacyLink"!==r){var n=e[r],i=0;n.required&&(0,a.isBoolean)(n.required)&&(i=Number(n.required));var o={id:t.assets.length,required:i};if(r in A)o.data={type:S[A[r]]},n.len&&(o.data.len=n.len);else if("icon"===r||"image"===r){if(o.img={type:"icon"===r?E.ICON:E.MAIN},n.aspect_ratios)if((0,a.isArray)(n.aspect_ratios))if(n.aspect_ratios.length){var s=n.aspect_ratios[0],d=s.min_width,c=s.min_height;(0,a.isInteger)(d)&&(0,a.isInteger)(c)?(o.img.wmin=d,o.img.hmin=c):(0,a.logError)("image.aspect_ratios min_width or min_height are invalid: ",d,c);var u=n.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else(0,a.logError)("image.aspect_ratios was passed, but it's empty:",n.aspect_ratios);else(0,a.logError)("image.aspect_ratios was passed, but it's not a an array:",n.aspect_ratios);n.sizes&&(2===n.sizes.length&&(0,a.isInteger)(n.sizes[0])&&(0,a.isInteger)(n.sizes[1])?(o.img.w=n.sizes[0],o.img.h=n.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,a.logError)("image.sizes was passed, but its value is not an array of integers:",n.sizes))}else"title"===r?o.title={len:n.len||140}:"ext"===r&&(o.ext=n,delete o.required);t.assets.push(o)}else t.privacy=1;else(0,a.logError)("Unrecognized native asset code: ".concat(r,". Asset will be ignored."));return t}(0,a.logError)("Native assets object is empty or not an object: ",e)}function z(e){if(R(e)){var t,r={},n=p(e.assets);try{var i=function(){var n=t.value;if(n.title){var i={required:!!n.required&&Boolean(n.required),len:n.title.len};r.title=i}else if(n.img){var o={required:!!n.required&&Boolean(n.required)};if(n.img.w&&n.img.h)o.sizes=[n.img.w,n.img.h];else if(n.img.wmin&&n.img.hmin){var a=function(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}(n.img.wmin,n.img.hmin);o.aspect_ratios=[{min_width:n.img.wmin,min_height:n.img.hmin,ratio_width:n.img.wmin/a,ratio_height:n.img.hmin/a}]}n.img.type===E.MAIN?r.image=o:r.icon=o}else if(n.data){var s=Object.keys(S).find((function(e){return S[e]===n.data.type})),d=Object.keys(A).find((function(e){return A[e]===s}));r[d]={required:!!n.required&&Boolean(n.required)},n.data.len&&(r[d].len=n.data.len)}e.privacy&&(r.privacyLink={required:!1})};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}return r}}function q(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var r=(0,i.default)(e,2),n=r[0],o=r[1];switch(n){case"clickUrl":t.link.url=o;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(o)?o:[o];break;case"impressionTrackers":(Array.isArray(o)?o:[o]).forEach((function(e){t.eventtrackers.push({event:x,method:C.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(o)?o.join(""):o;break;case"privacyLink":t.privacy=o}})),t}function F(e,t){var r=v(v({},q(e)),{},{assets:[]});function n(e,n){var i=t.assets.find(e);null!=i&&(n(i=(0,a.deepClone)(i)),r.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var r=U(e[t]);switch(t){case"title":n((function(e){return null!=e.title}),(function(e){e.title={text:r}}));break;case"image":case"icon":var i="image"===t?E.MAIN:E.ICON;n((function(e){return null!=e.img&&e.img.type===i}),(function(e){e.img={url:r}}));break;default:t in A&&n((function(e){return null!=e.data&&e.data.type===S[A[t]]}),(function(e){e.data={value:r}}))}})),r}function G(e){var t={};for(var r in e)t[e[r]]=r;return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activityParamsBuilder=function(e){return function(t,r,n){var a,l=(a={},(0,i.default)(a,c,t),(0,i.default)(a,u,r),(0,i.default)(a,d,"".concat(t,".").concat(r)),a);return t===o.MODULE_TYPE_BIDDER&&(l.adapterCode=e(r)),f(s(l,n))}},t.buildActivityParams=t.ACTIVITY_PARAM_ANL_CONFIG=t.ACTIVITY_PARAM_SYNC_URL=t.ACTIVITY_PARAM_SYNC_TYPE=t.ACTIVITY_PARAM_S2S_NAME=t.ACTIVITY_PARAM_STORAGE_TYPE=t.ACTIVITY_PARAM_ADAPTER_CODE=t.ACTIVITY_PARAM_COMPONENT_NAME=t.ACTIVITY_PARAM_COMPONENT_TYPE=t.ACTIVITY_PARAM_COMPONENT=void 0;var n,i=(n=r(11))&&n.__esModule?n:{default:n},o=r(47),a=r(24);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}var d="component";t.ACTIVITY_PARAM_COMPONENT=d;var c="componentType";t.ACTIVITY_PARAM_COMPONENT_TYPE=c;var u="componentName";t.ACTIVITY_PARAM_COMPONENT_NAME=u;var l="adapterCode";t.ACTIVITY_PARAM_ADAPTER_CODE=l;t.ACTIVITY_PARAM_STORAGE_TYPE="storageType";t.ACTIVITY_PARAM_S2S_NAME="configName";t.ACTIVITY_PARAM_SYNC_TYPE="syncType";t.ACTIVITY_PARAM_SYNC_URL="syncUrl";t.ACTIVITY_PARAM_ANL_CONFIG="_config";var f=(0,a.hook)("sync",(function(e){return e}));t.buildActivityParams=f},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(105),i=r(108);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(22),i=r(74),o=r(38),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){var n=r(2),i=r(16),o=r(113),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},function(e,t,r){var n=r(54),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){e.exports={}},function(e,t,r){var n=r(12),i=r(30),o=r(277);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,i.default)(e,t,r)};var n,i=(n=r(336))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";r(1);var n=r(3),i=g(r(31)),o=g(r(93)),a=g(r(121)),s=r(39),d=r(32),c=r(33),u=g(r(45)),l=g(r(51)),f=g(r(26)),p=r(345);function g(e){return e&&e.__esModule?e:{default:e}}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}const v="*",b={versionControl:!1};e.exports={richObject:function(){let e={},t={};const r={};let g=b;function y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;Array.isArray(t)||"object"!=typeof t?n.bbLogger.logWarn("Initial value not picked up for eventful object. Invalid type.",t):(e=t,g=m(g,r)),g.syncValue&&_("*",(e=>{if(Array.isArray(g.syncValue))for(let t=0;t<g.syncValue.length;t++){(0,g.syncValue[t])(e)}else"function"==typeof g.syncValue&&g.syncValue(e)}))}const h=r=>{const n=Array.isArray(r)?r:[r];e=(0,l.default)(e,n),t=(0,l.default)(t,n),I(e)},I=(0,d.hookedFn)("sync",((r,i,a)=>{const s=(0,c.cloneDeep)(e);if("string"!=typeof r&&(i=r,r=v),"object"!=typeof i&&r===v)return void n.bbLogger.logError("When setting all topics: value must be an object");if(r===v)e=(0,u.default)(i)?{}:a&&a.forceUpdate?i:(0,f.default)({},i,e);else if((0,o.default)(e,r,i),a){const e=A(r,a);e&&(0,o.default)(t,r,e)}T(w(e,s),a)}));function S(){return t}function E(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){A(t,e[t])}}function A(e,t){if(t.expires){const r=(0,p.expireAction)(t.expires,(()=>{h(e)}));return(0,f.default)(t,{expires:r})}return t}function _(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r){const r=t;return r&&r!==v?(0,i.default)(e,r):e}return O(t,r)}function w(e,t){return Object.keys(r).filter((r=>!(0,a.default)((0,i.default)(e,r),(0,i.default)(t,r))))}function O(e,t){let i=t;if("string"!=typeof e&&(i=e,e=v),"function"==typeof i)return r[e]||(r[e]=[]),r[e].push(i),void 0!==_(e)&&(0,s.makeSafe)((()=>t(_(e),{id:"initialSet"}))),function(){r[e].splice(r[e].indexOf(i),1)};n.bbLogger.logError("listener must be a function")}function T(e,t){for(let n=0;n<e.length;n++){const i=e[n];if(r[i]&&Array.isArray(r[i]))for(let e=0;e<r[i].length;e++){const n=r[i][e];void 0!==_(i)&&(0,s.makeSafe)((()=>n(_(i),t)))}}if(r["*"])for(let e=0;e<r["*"].length;e++){const n=r["*"][e];(0,s.makeSafe)((()=>n(_(v),t)))}}return y(...arguments),{getValue:_,setValue:I,deleteKey:h,getMeta:S,setMeta:E,getOptions:()=>g,get value(){return(0,c.cloneDeep)(e)},get options(){return(0,c.cloneDeep)(g)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runQueue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e,o=r;let a=t,s=!1,d=[];function c(e){if(n.bbLogger.atVerbosity(4).logInfo("Run Queue Item Added",e),s){l("Executing callback",e);try{e.apply(null,d)}catch(e){e&&n.bbLogger.logError(i,e)}return function(){}}{const t=a.length;return a.push(e),function(){a=a.filter(((e,r)=>r!==t))}}}function u(){s||(s=!0,d=arguments,a.forEach((e=>{l("Executing callback",e);try{e.apply(null,arguments)}catch(e){e&&n.bbLogger.logError(i,e)}})))}function l(){o&&n.bbLogger.atVerbosity(5).logInfo(i,...arguments)}function f(){return s}return{hasRan:s,hasRanStatus:f,run:u,push:c}},t.promiseQueue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=t;let i=0,o=!1,a=!1,s=Promise.resolve();const d=e=>{n.bbLogger.atVerbosity(4).logInfo("Promise Queue Item Added",e),r.push(e),!o&&a&&l()};function c(){return!!o}function u(e){o=e}const l=()=>{a||(a=!0),!c()&&r[i]&&(s=new Promise(((t,o)=>{n.bbLogger.atVerbosity(5).logMessage("Running",e,"item",i),u(!0);const a=o=>{o?n.bbLogger.atVerbosity(5).logError("Error",e,"item",i,o,"Callback:",r[i]):n.bbLogger.atVerbosity(5).logMessage("Finished",e,"item",i),i++,u(!1),t()};try{r[i](a)}catch(e){a(e)}})).then(l))};return{get currentIndex(){return i},get isRunning(){return o},get remainingItems(){return r.slice(i+1)},get stack(){return r},push:d,run:l}},r(1);var n=r(3)},function(e,t,r){r(364)},function(e,t,r){r(228)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidCache=void 0,r(1);var n=r(8),i=r(14),o=r(3),a=r(32),s=b(r(211)),d=b(r(80)),c=r(19),u=r(5),l=r(41),f=(r(10),b(r(221))),p=b(r(7)),g=b(r(20)),m=r(40),v=b(r(50));function b(e){return e&&e.__esModule?e:{default:e}}const y=(0,o.logger)({name:"bidCache",bgColor:"#F7FFF6",textColor:"#639C67"}),h=(0,n.getGlobal)(),{BID_WON:I}=g.default.EVENTS,{AD_VIEWABLE:S,BAD_BID:E,BID_USED:A,BID_RECYCLED:_}=p.default.EVENTS,w=function(){const e={},t={},r={},n={},o=[],p=[],g={};function b(e){return Boolean(n[e.adId])}const w=(0,d.default)(((e,t)=>{const r=C(t);if(r){if(r.isVideo||r.allowedTypes.video)return!0;if(t.constructor===Array){return t.map((t=>w(e,t))).indexOf(!0)>=0}return r.getSizes().map((e=>"string"==typeof e||"number"==typeof e?e:e.join("x"))).indexOf(e)>=0}return!1}),((e,t)=>"".concat(JSON.stringify(e),"|").concat(t)));function O(e){return!!t[e]&&t[e].pending}const T=(0,d.default)(((e,t)=>{const r=C(t);return!(!r.cache&&!r.lazyLoad||"medianet"===e.bidderCode)||e.adUnitCode===t}),((e,t)=>"".concat(e.adId,"|").concat(t)));function C(e){let t,r,n=e;if(n.indexOf("--")>=0){const[i,o]=e.split("--");n=i,t=parseInt(o),r=(0,l.getUnits)()[n],r.video=r.getVideoSpec(t)}else r=(0,l.getUnits)()[n];return void 0!==t&&r&&(r.codeIndex=t),r}const x=(0,d.default)(((e,t,r)=>{const n=C(t);let i;if("object"==typeof r.match){const t=C(e.adUnitCode);i=(0,f.default)(t,r.match)}else i=!n.isVideo||!n.allowedTypes.video||(n.isVideo||n.allowedTypes.video)&&"video"===e.mediaType;return i}),((e,t)=>"".concat(e.adId,"|").concat(t)));function P(e){return e<Date.now()}function R(e,t,r){const n=(r.forTargeting?!O(e.adId):O(e.adId))&&T(e,t)&&function(e,t,r){try{const n=C(t);return!(!e.mediaType||"native"!==e.mediaType||!n.allowedTypes.native)||(e.mediaType&&"banner"===e.mediaType&&n.allowedTypes.banner?w(e.size,t):!(!e.mediaType||"video"!==e.mediaType||!n.allowedTypes.video&&!n.isVideo)&&x(e,t,r))}catch(e){return y.logError(e),!1}}(e,t,r)&&function(e,t){try{if("kargo"===e.bidderCode&&"320x50"==="".concat(e.width,"x").concat(e.height))return e.originalCode?e.originalCode===t:e.adUnitCode===t}catch(e){y.logError(e);const t=new Error(JSON.stringify(e,v.default));return m.errorReporting.report(t),!1}return!0}(e,t);return n}const D=(0,a.hookedFn)("sync",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1};return!b(e)&&(t.forTargeting?!O(e.adId):O(e.adId))&&!P(e.expireTime)}));function k(e){return e.filter((e=>void 0!==C(e)))}function j(n){const i=Date.now(),o=n.length;for(let a=0;a<o;a++){const o=n[a].ttl>0?n[a].ttl:300;!r[n[a].adId]&&n[a].cpm>0?(n[a].expireTime=i+1e3*o,y.atVerbosity(5).logMessage("Caching Bid",n[a]),t[n[a].adId]=n[a],e[n[a].adId]=n[a],r[n[a].adId]=!0):n<=0&&(r[n[a].adId]=!0)}}function N(e,r){void 0!==e.adId&&(t[e.adId].originalCode||(t[e.adId].originalCode=t[e.adId].adUnitCode),g[e.adUnitCode]=e.adId,t[e.adId].adUnitCode=r,t[e.adId].pendingFor=e.adUnitCode,t[e.adId].pendingTimestamp=Date.now(),t[e.adId].pending=!0)}const M=(0,a.hookedFn)("sync",(e=>e));function B(e,t){void 0!==h.renderAd&&h.renderAd(e,t)}function U(e){return e?Array.isArray(e)?e.map(U).reduce(((e,t)=>e.concat(t)),[]):Object.values(t).filter((t=>t.adUnitCode===e)):Object.values(t)}function L(e){let t=!1;Array.isArray(e)||(e=[e],t=!0);const r=(0,l.getUnitCodes)(e),n=[];for(let e=0;e<r.length;e++){const t=V(r[e]);t&&n.push(t)}return t&&n.length>=1?n[0]:n}function V(e){const t=U(),r=[];for(let n=0;n<t.length;n++){const i=t[n];i.pendingFor===e&&r.push(i)}return 1===r.length?r[0]:0===r.length?void 0:(0,s.default)(r,["pendingTimestamp"],["desc"])[0]}return(0,u.dom)().window.adFlow=(0,u.dom)().window.adFlow||{},(0,u.dom)().window.adFlow.renderAd=B,c.exposureApi.expose({getCachedBids:U,getWinningBids:function e(t){return t?Array.isArray(t)?t.map(e).reduce(((e,t)=>e.concat(t)),[]):o.filter((e=>e.adUnitCode===t)):o},bidFilter:D}),c.exposureApi.rootScope({getCachedBids:U}),{bidFilter:D,filterAdUnits:k,getCachedBids:U,getAllBids:function(){return e},makePending:N,pushBids:j,evaluateWinningBids:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(!r.forTargeting)return L(e);e=k(e),e=M(e),y.atVerbosity(5).logInfo("Ad codes by Bid Priority Order",e),t&&Array.isArray(t)&&t.length>0&&j(t);const n=U().filter((e=>D(e,r)));y.logInfo("Evaluating winning bids for",e.join(", "),n),t=(0,s.default)(n,["cpm","responseTimestamp"],["desc","asc"]);const i=[];for(let n=0;n<e.length;n++){const o=e[n];for(let e=0;e<t.length;e++){const n=t[e];if(R(n,o,r)){r.forTargeting&&(y.logMessage("Winning Bid Found for ".concat(o," - adId: ").concat(n.adId,", cpm: ").concat(n.cpm,", mediaType: ").concat(n.mediaType,", bidder: ").concat(n.bidderCode)),N(n,o)),i.push(n);break}}}return i},applyPriorityOrder:M,getBidByAdId:function(t){return e[t]},getLatestPendingBids:L,getLatestPendingBid:V,getLatestPendingBidTargeting:function(e){const t=V(e);return t?t.adserverTargeting:{}},setupListeners:function(){i.eventEmitter.on(E,(e=>function(e){if(e)for(let t=0;t<o.length;t++){const r=o[t];if(r.adId===e){p.push(r),n[r.adId]=!0,y.atVerbosity(3).logInfo("Bad bid ad render attempted and intercepted",r);break}}}(e))),i.eventEmitter.on(S,(e=>function(e){if(void 0===e)return;if(g[e]&&t[g[e]]){const r=t[g[e]].adId;if(n[r])return;y.atVerbosity(1).logMessage("Recycling Bid",t[r]),i.eventEmitter.emit(_,t[r]),t[r].pending=!1,t[r].pendingFor=null,delete g[e]}}(e.code))),h.que.push((()=>{h.onEvent(I,(e=>{return r=e.adId,void(t[r]&&(y.atVerbosity(1).logMessage("Used Bid",t[r]),i.eventEmitter.emit(A,t[r]),n[r]=!0,o.push(t[r])));var r}))}))}}}();t.bidCache=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gptModule=t.gptModuleBase=void 0,r(1);var n=r(41),i=r(3),o=r(14),a=(r(374),r(375),r(10)),s=r(62),d=r(32),c=r(95),u=r(33),l=E(r(26)),f=E(r(161)),p=r(61),g=r(71),m=r(5),v=r(46),b=r(21),y=r(210),h=r(19),I=r(40),S=E(r(7));function E(e){return e&&e.__esModule?e:{default:e}}const{DFP_EVENTS:A,AD_LOADED:_,AD_RENDERED:w,AD_VIEWABLE:O,AD_RECEIVED:T,AD_REQUESTED:C,AD_VISIBILITY_CHANGED:x,DISPLAY_CALLED:P,SLOT_DEFINED:R,BATCH_SLOTS_DEFINED:D,INITIALIZE:k}=S.default.EVENTS,j=function(){const e={};let t=!1,r=!1;const b=(0,c.runQueue)("post-init queue",[],5===(0,i.getVerbosityLevel)());function E(e,r,n){r.display=()=>B(r),r.slot||(0,y.hasGetter)(r,"slot")||(0,y.readOnlyGetter)(r,"slot",(()=>N(r))),t||r.slotTargeting||(0,y.hasGetter)(r,"slotTargeting")||(0,y.readOnlyGetter)(r,"slotTargeting",(()=>L(r.code))),r.generateImpressionId||(r.generateImpressionId=e=>{const t={...(0,s.getPageTargeting)(),...L(r.code)};return e.reduce(((e,r,n)=>(t[r]&&e.push("".concat(r,"=").concat(t[r])),e)),[]).join("|")}),e(r,n)}function j(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!1;const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);r&&n.push(r)}n&&n.length>0&&H((e=>e.pubads().refresh(n))),e(t,r)}function N(t){const r="string"==typeof t?t:t.code;return e[r]}const M=(0,d.hookedFn)("sync",(t=>{b.push((()=>{!function(t){H((r=>{const s=[];if(t.length>0){i.bbLogger.atVerbosity(1).logInfo("Defining slots",t);const d=(0,a.getConfig)(),c=(0,n.getUnits)(),l=(0,a.getConfig)("dfpPathObj").string;for(let n=0;n<t.length;n++){const a=t[n];if(e[a.code]){const e=Object.keys(a.targeting),t=(0,f.default)(L(a.code),e);JSON.stringify(a.targeting)!==JSON.stringify(t)&&z(a.targeting,a.code)}else{let t=(0,u.cloneDeep)(a);d.adjustSlotDefinition&&d.adjustSlotDefinition[t.code]&&(t=d.adjustSlotDefinition[t.code](t),i.bbLogger.atVerbosity(2).logInfo("Adjusting on slot definition",a,"to",t)),i.bbLogger.logInfo("Defining slot path=".concat(l," elementId=").concat(t.code," sizes=").concat(t.sizes?t.sizes.map((e=>Array.isArray(e)?e.join("x"):e)).join(","):"none")),e[t.code]=t.outOfPage?r.defineOutOfPageSlot(l,t.code):r.defineSlot(l,t.sizes,t.code),Z(t.code),e[t.code].addService(r.pubads()),te(t.code,t.sizeMappings),c[t.code].servicesApplied=!0,z(t.targeting,t.code),s.push(t),o.eventEmitter.emit([R,"".concat(t.code,".").concat(R)],t,e[t.code])}}o.eventEmitter.emit(D,s,s.map(N))}}))}(t),B(t),r||(i.bbLogger.atVerbosity(3).logInfo("Enabling services"),r=!0,H((e=>{e.pubads().enableSingleRequest(),q(e)})))}))}));function B(t){if(Array.isArray(t))for(let e=0;e<t.length;e++){B(t[e])}else H((r=>{const n=t;if(n.displayed)return;const a=(0,m.dom)().window.document.getElementById(n.code);if(a)r.display(a),n.displayed=!0,o.eventEmitter.emit([P,"".concat(n.code,".").concat(P)],n,e[n.code]);else{i.bbLogger.logError("Cannot find element for unit. Please ensure ad element is on the page prior to ad request attempts",n);const e=new Error("Cannot find element for unit. Please ensure ad element is on the page prior to ad request attempts ".concat(n,"."));I.errorReporting.report(e)}}))}function U(e,t){(0,a.getConfig)("consent")&&function(){let e;const t=window.localStorage.getItem("fmscw_resp")?JSON.parse(window.localStorage.getItem("fmscw_resp")):null;if(t&&t.value&&t.value.fms_params&&t.value.fms_params._fw_vcid2)e=t.value.fms_params._fw_vcid2,H((t=>{i.bbLogger.logInfo("Setting PPID : ".concat(e)),t.pubads().setPublisherProvidedId(e)}));else{const t=(0,a.getConfig)("coppa")?(0,a.getConfig)("coppa"):0,r=(0,a.getConfig)("firstPartyData.eid")?(0,a.getConfig)("firstPartyData.eid"):"",n=(0,a.getConfig)("timeouts.fmsretrieve")?(0,a.getConfig)("timeouts.fmsretrieve"):1500;window.fmscw.retrieve({app:{coppa:t,googledai:0},identifiers:{emailhash:r}},{timeout:n}).then((t=>{t&&t.fms_params&&t.fms_params._fw_vcid2&&(e=t.fms_params._fw_vcid2,H((t=>{i.bbLogger.logInfo("Setting PPID : ".concat(e)),t.pubads().setPublisherProvidedId(e)})))}))}}(),M(t),H((r=>{e(t)}))}function L(e){if(e.constructor===Array){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(L(n))}return t}const t="string"==typeof e?N(e):e;if(!t){i.bbLogger.logError("Slot not defined",e);const t=new Error("Slot not defined ".concat(e,"."));return I.errorReporting.report(t),{}}const r=t.getTargetingMap(),n={};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=r[e];n[e]=""+t}return n}const V=(0,d.hookedFn)("sync",((t,r,n)=>{H((o=>{e[t]&&(i.bbLogger.logInfo("Setting targeting on slot for ".concat(t,": ").concat(r,"=").concat(n)),e[t].setTargeting(r,""+n))}))}));function z(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;H((n=>{for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];r?e[r]?V(r,n,o):i.bbLogger.logWarn("Slot not available for unit, unable to set targeting",r,t):Y(n,o)}}))}const q=(0,d.hookedFn)("sync",(()=>{H((e=>{e.enableServices()}))}));function F(e){b.push((()=>{H((t=>{i.bbLogger.atVerbosity(3).logInfo("Clearing slots",e);const r=Array.isArray(e)?e.map((e=>N(e))):N(e);t.pubads().clear(r)}))}))}function G(r){H((o=>{const a=(0,n.getUnitCollection)(r);i.bbLogger.atVerbosity(3).logInfo("Destroying slots",a);let s=[];s=a.constructor===Array?a.map(N):N(a),o.destroySlots(s);const d=(0,n.getUnits)();for(let t=0;t<a.length;t++){const r=a[t].code;e[r]&&delete e[r],d[r]&&(d[r].displayed=!1,d[r].servicesApplied=!1)}t=!0}))}function W(){G(Object.keys(e))}function H(e){(0,m.dom)().window.googletag.cmd.push((()=>{e((0,m.dom)().window.googletag)}))}function Y(e,t){H((r=>{i.bbLogger.logInfo("Setting targeting for page: ".concat(e,"=").concat(t)),r.pubads().setTargeting(e,""+t)}))}function X(e,t,r){Y(t,r),e(t,r)}function J(e,t,r,n,i){V(t,r,n),e(t,r,n,i)}function K(e,t){H((e=>{e.pubads().clearTargeting(t)})),e(t)}function Q(t,r,n,i){H((t=>{if(e[r])for(let t=0;t<n.length;t++){const i=n[t];e[r].clearTargeting(i)}})),t(r,n,i)}function $(e,t,r){Z(t),e(t,r)}function Z(t){H((r=>{if(Array.isArray(t)){for(let e=0;e<t.length;e++){Z(t[e])}return}const o=(0,n.getUnits)(),s=o[t].collapseEmptyDiv,d=(0,a.getConfig)("collapseEmptyDivs");if((void 0!==s||void 0!==d)&&e[t]){let r=s||d;o[t].isLazyLoaded()&&Array.isArray(r)&&!0===r[0]&&!0===r[1]&&(i.bbLogger.logInfo("Disabling pre-ad request collapsing. Cannot lazy load and collapse empty div before the ad request",o[t]),r=!0),Array.isArray(r)?e[t].setCollapseEmptyDiv(...r):e[t].setCollapseEmptyDiv(r)}}))}function ee(t,r,o){if(!Array.isArray(r)){const t=(0,n.getUnits)();e[r]&&t[r].servicesApplied&&i.bbLogger.atVerbosity(3).logWarn("Unable to apply size mapping, slot has already been defined",r)}t(r,o)}function te(t,r){r&&H((r=>{const o=(0,a.getConfig)(),s=(0,n.getUnits)();if(e[t]&&!s[t].servicesApplied){i.bbLogger.atVerbosity(3).logInfo("Applying Size Mapping to slot ".concat(t),s[t].sizeMappings);const n=r.sizeMapping(),a=o.adjustSlotDefinition&&o.adjustSlotDefinition[t]?o.adjustSlotDefinition[t]:e=>e,d=(0,u.cloneDeep)(s[t]);for(let e=0;e<s[t].sizeMappings.length;e++){const r=s[t].sizeMappings[e];d.sizes=r.sizes;const{sizes:i}=a(d);n.addSize(r.viewport,i)}e[t].defineSizeMapping(n.build())}else e[t]&&s[t].servicesApplied&&i.bbLogger.atVerbosity(3).logWarn("Unable to apply size mapping, slot has already been defined",t)}))}function re(){return e}function ne(e,t){const r=!e,n=t?1:0;H((e=>{e.pubads().setPrivacySettings({childDirectedTreatment:!!n,nonPersonalizedAds:!!r,restrictDataProcessing:!!r})}))}return h.exposureApi.rootScope({clearSlots:F,destroySlots:G,destroyAllSlots:W,setPrivacyFlags:ne,getSlot:N}),h.exposureApi.rootScopeGetters({slots:()=>re(),dfpPath:function(){return(0,a.getConfig)("dfpPathObj.string")},dfpPathObj:function(){return(0,a.getConfig)("dfpPathObj")},query:()=>(0,p.urlQueryAsObject)()}),{register:function(){(0,m.dom)().window.googletag=(0,m.dom)().window.googletag||{},(0,m.dom)().window.googletag.cmd=(0,m.dom)().window.googletag.cmd||[],setTimeout((()=>{(0,g.renderScript)({id:"googletag-script",src:"//securepubads.g.doubleclick.net/tag/js/gpt.js",async:!0})}),0),H((e=>{const t=[[A.AD_VIEWABLE,O],[A.AD_RENDERED,w],[A.AD_LOADED,_],[A.AD_VISIBILITY_CHANGED,x],[A.AD_REQUESTED,C],[A.AD_RECEIVED,T]];for(let r=0;r<t.length;r++){const[i,a]=t[r];e.pubads().addEventListener(i,(e=>{const t=(0,n.getUnits)(),r=e.slot.getSlotElementId();let s=t[r];i===A.AD_VISIBILITY_CHANGED&&(s=e),t[r]&&o.eventEmitter.emit([i,a,"".concat(r,".").concat(i),"".concat(r,".").concat(a)],s,e)}))}})),s.setPageTargeting.before(X),s.clearPageTargeting.before(K),s.setUnitTargeting.before(J),s.clearUnitTargeting.before(Q),n.setSizeMappings.before(ee),n.setCollapse.before($),n.defineUnit.after(E),v.processAdRequest.before(U),v.getAds.before(j),(0,a.getConfig)("dfpPath",(e=>{const t=function(e){const t=function(e){let t=e;const r=(0,a.getConfig)("dfpPathDevices");if("string"==typeof t){const e=t.split("/"),n=e[2].split("-"),i=n[0].match(/^(app|m)/),o=i?i[0]:"";t=(0,l.default)({string:t,network:e[1],property:n[1],device:void 0!==r[o.toLowerCase()]?r[o.toLowerCase()]:o,region:n[0].substring(o.length),pagePath:e.slice(3).join("/")},(0,a.getConfig)("dfpPathObj"))}else"object"==typeof t&&(t=(0,l.default)({},t,(0,a.getConfig)("dfpPathObj")),t.device&&void 0!==r[t.device.toLowerCase()]&&(t.device=r[t.device.toLowerCase()]),t.isMobile&&(t.device="m"),t.isApp&&(t.device="app"),t.isDesktop&&(t.device=""));return t}(e),r=(0,p.urlQueryAsObject)();r.adNetwork&&(t.network=r.adNetwork);r.adRegion&&(t.region=r.adRegion);t.string="/".concat(t.network,"/").concat(t.device).concat(t.region,"-").concat(t.property),t.pagePath&&(t.string+="/".concat(t.pagePath));return t}(e);(0,a.setConfig)("dfpPathObj",t)})),H((e=>{e.pubads().disableInitialLoad()})),o.eventEmitter.on(k,(()=>b.run()))},enableGoogletagServices:q,getSlots:re,refreshSlot:function(e,t){const r="mivr";let n=+L(e).mivr||0;n++,H((t=>{e.setTargeting(r,""+n),t.pubads().refresh([e])}))},incrementMivr:function(e){const t="mivr";let r=+L(e).mivr||0;r++,e&&H((n=>{e.setTargeting(t,""+r)}))},getSlot:t=>e[t],setUnitTargeting:V,defineAndDisplay:M,gptAction:H,getSlotTargeting:L,clearSlots:F,destroyAllSlots:W,destroySlots:G,setPrivacyFlags:ne,name:S.default.MODULES.GOOGLE_PUBLISHER_TAG}}();t.gptModuleBase=j;const N=b.moduleManager.register(j,null);t.gptModule=N},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activityParams=void 0;var n,i=(n=r(29))&&n.__esModule?n:{default:n};var o=(0,r(84).activityParamsBuilder)((function(e){return i.default.resolveAlias(e)}));t.activityParams=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillVideoDefaults=function(e){var t,r=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;null!=r&&null==r.plcmt&&(r.context===s||[2,3,4].includes(r.placement)?r.plcmt=4:r.context!==s&&[2,6].includes(r.playbackmethod)&&(r.plcmt=2))},t.isValidVideoBid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index,i=void 0===r?a.auctionManager.index:r,o=(0,n.deepAccess)(i.getMediaTypes(e),"video"),s=o&&(0,n.deepAccess)(o,"context"),c=o&&(0,n.deepAccess)(o,"useCacheKey"),u=i.getAdUnit(e);return d(e,u,o,s,c)},t.checkVideoBidSetup=t.INSTREAM=t.OUTSTREAM=void 0,r(9);var n=r(0),i=r(4),o=r(24),a=r(43),s="outstream";t.OUTSTREAM=s;t.INSTREAM="instream";var d=(0,o.hook)("sync",(function(e,t,r,o,a){return r&&(a||o!==s)?i.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,n.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(o===s&&!a)||!!(e.renderer||t&&t.renderer||r.renderer)}),"checkVideoBidSetup");t.checkVideoBidSetup=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertTypes=function(e,t){return Object.keys(e).forEach((function(r){var i,o;t[r]&&((0,n.isFn)(e[r])?t[r]=e[r](t[r]):t[r]=(i=e[r],o=t[r],"string"===i?o&&o.toString():"number"===i?Number(o):o),isNaN(t[r])&&delete t.key)})),t};var n=r(0)},function(e,t,r){var n=r(2),i=r(12),o=r(13),a=r(107),s=n.Object,d=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?d(e,""):s(e)}:s},function(e,t,r){var n=r(13);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,r){var n=r(12),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},function(e,t,r){var n=r(2).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},function(e,t,r){var n=r(67);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(269),i=r(140);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},function(e,t,r){var n=r(12);e.exports=n({}.isPrototypeOf)},function(e,t,r){var n=r(88);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},function(e,t,r){var n=r(2).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,r){var n=r(2),i=r(35),o=r(16),a=r(44),s=r(144),d=r(276),c=s("IE_PROTO"),u=n.Object,l=u.prototype;e.exports=d?u.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},function(e,t,r){var n=r(294),i=r(295),o=r(296),a=r(297),s=r(298);function d(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=n,d.prototype.delete=i,d.prototype.get=o,d.prototype.has=a,d.prototype.set=s,e.exports=d},function(e,t,r){var n=r(117);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(154)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(216);e.exports=function(e,t){return n(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0,r(17);var n=r(352),i=r(70),o=r(3),a=r(5),s=r(10),d=v(r(26)),c=v(r(80)),u=v(r(31)),l=v(r(159)),f=v(r(50)),p=r(14),g=r(81),m=v(r(7));function v(e){return e&&e.__esModule?e:{default:e}}const{ERROR_REPORT:b}=m.default.EVENTS,y={headers:{version:"v3.16.0",variant:"us"}},h={version:"v3.16.0",variant:"us"},I=function(){let e=(0,s.getConfig)("api")||l.default.api;function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===e.indexOf("http")}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(e)||"/"===e.charAt(0)?e:"/".concat(e)}function m(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t(r)?r:S((0,g.getEnvCfg)(e.apiBase)+(i?"/v".concat(e.version||"1"):"")+r,n)}function v(t,r){return e.cache&&e.cache[t]||r}const I=(0,c.default)((function(e){return"api:"+e.replace(/https:\/\//gm,"").replace(/http:\/\//gm,"").replace(/\./gm,"")}));function S(e,t){let r="";if(t&&"{}"!==JSON.stringify(t))for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];""!==r&&(r+="&"),n&&"null"!==n&&"undefined"!==n&&(r+="".concat(e,"=").concat(n))}return""!==r?function(e){return e.indexOf("?")>=0?e:"".concat(e,"?")}(e)+r:e}function E(){return(0,a.dom)().window.AbortController?new AbortController:{signal:void 0,abort:()=>!1}}async function A(t,a){let{expires:c,useVersion:l,timeout:g,abortHandler:h,query:S,...A}=function(t){return(0,d.default)(t,y,e.fetchOptions)}(a);const _=r(t);if(c=v(_,c),"GET"===A.method&&c){const e=function(e,t){if(!t)return null;const r=v(e,t),n=I(e);return r?i.storage.getLocalStorage(n):null}(_,c);if(e)return e}const w=m(_,S,l);let O;if(g>0){const e=h||E();O=setTimeout((()=>e.abort()),g),A.signal=e.signal}try{const e=await(0,n.fetch)(w,A);if(O&&clearTimeout(O),"application/json"!==(0,u.default)(A,"headers.Accept"))return e;const t=await e.json();if("GET"===A.method){const r=I(_),n=t;c&&e.status>=200&&e.status<300&&i.storage.setLocalStorage(r,n,{expires:c})}return o.bbLogger.atVerbosity(5).logInfo("API Request Success. url=".concat(w),a,t),{_response:e,...t}}catch(e){o.bbLogger.logError("API call failed. url=".concat(w));const t=new Error("API call failed. url=".concat(w,". ").concat(JSON.stringify(e,f.default)));return("AbortError"===e.name&&(0,s.getConfig)("errorReporting.reportAborts")||"AbortError"!==e.name)&&p.eventEmitter.emit(b,t),{success:!1,status:"error",error:e}}}function _(e){return(t,r)=>A(t,{method:e.toUpperCase(),...r})}return(0,s.getConfig)("api",(t=>{e=t})),{get:_("GET"),post:_("POST"),put:_("PUT"),delete:_("DELETE"),fetch:A,getUrl:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return m(r(e),t,n)},sendBeacon:function(n,i){if((0,a.dom)().window.navigator.sendBeacon){const s=function(r){return!t(r)||r.indexOf((0,g.getEnvCfg)(e.apiBase))>=0}(n)?m(r(n),h):m(r(n)),d="string"==typeof i?i:JSON.stringify(i),c=(0,a.dom)().window.navigator.sendBeacon(s,d);return c&&o.bbLogger.atVerbosity(5).logInfo("Sent Beacon Data. url=".concat(s),d),c}return!1},createAbort:E}}();t.api=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(10),i=r(62),o=r(5),a=r(70),s=r(94),d=r(81),c=m(r(31)),u=m(r(93)),l=r(19),f=r(3),p=r(14),g=m(r(7));function m(e){return e&&e.__esModule?e:{default:e}}const{AUCTION:v}=g.default.EVENTS,b="$$TEST_STR$$";var y=function(){const e=(0,s.richObject)({site:"cbsnews",variant:"us"});let t=[];function r(){(0,c.default)((0,o.dom)().window,"utag_data._test")||/\$\$TEST_STR\$\$/gm.test(b)||(0,u.default)((0,o.dom)().window,"utag_data._test",b),g(a.storage.getCookie("*",(t=>{e.setValue({cookie:t})}))),g(i.pageTargeting.getValue("*",(t=>{e.setValue({targeting:t})}))),g((0,n.getConfig)("*",(t=>{e.setValue({config:t,authenticated:"string"==typeof(0,n.getConfig)("firstPartyData.eid")&&(0,n.getConfig)("firstPartyData.eid").length>0})}))),e.setValue({page:(0,o.dom)().window.location.href,hostname:(0,o.dom)().window.location.hostname,abStr:(0,c.default)((0,o.dom)().window,"utag_data._test")}),e.setValue("client",{connectionSpeed:(0,c.default)((0,o.dom)().window,"navigator.connection.downlink"),deviceMemory:(0,c.default)((0,o.dom)().window,"navigator.deviceMemory"),viewportHeight:(0,c.default)((0,o.dom)().window,"innerHeight"),viewportWidth:(0,c.default)((0,o.dom)().window,"innerWidth"),maxViewportHeight:(0,c.default)((0,o.dom)().window,"screen.height"),maxViewportWidth:(0,c.default)((0,o.dom)().window,"screen.width")}),g((0,n.getConfig)("clientInfo.data",(t=>{e.setValue("client",{...e.getValue("client"),country:(0,c.default)(t,"country"),gmtOffset:(0,c.default)(t,"gmtOffset"),subregion:(0,c.default)(t,"region"),postalCode:(0,c.default)(t,"postalCode"),connectionType:(0,c.default)(t,"connection")})}))),g((0,n.getConfig)("geo.regionCode",(t=>{e.setValue("client.region",t)}))),e.setValue({dfpPath:(0,n.getConfig)("dfpPathObj.string"),bidbarrelVersion:"v3.16.0",isStage:(0,d.isStagingEnv)()}),f.bbLogger.logInfo("Setup context",e.getValue())}function g(e){t.push(e)}function m(){for(let e=0;e<t.length;e++){const r=t[e];"function"==typeof r&&r()}t=[],r()}return l.exposureApi.rootScopeGetter("context",(()=>e.getValue())),l.exposureApi.expose({reloadContext:m}),p.eventEmitter.on(v,m),{setup:r,reload:m,setValue:e.setValue,getValue:e.getValue}}();t.default=y},function(e,t,r){var n=r(2),i=r(111),o=n.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},function(e,t,r){var n=r(78),i=r(112),o=r(90),a=r(22)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[n(e)]}},function(e,t,r){"use strict";var n=r(56),i=r(73),o=r(412),a=r(13),s=r(67),d=r(16),c=r(413),u=r(414),l=r(57),f=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=d(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&d(o)){var p=s("Promise").prototype.finally;f.finally!==p&&l(f,"finally",p,{unsafe:!0})}},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.newUserSync=y,t.userSync=t.USERSYNC_DEFAULT_CONFIG=void 0,r(1);var n=g(r(11)),i=g(r(6)),o=r(0),a=r(4),s=r(15),d=r(34),c=r(65),u=r(66),l=r(84),f=r(47),p=r(102);function g(e){return e&&e.__esModule?e:{default:e}}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}var v={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0};t.USERSYNC_DEFAULT_CONFIG=v,a.config.setDefaults({userSync:(0,o.deepClone)(v)});var b=(0,d.getCoreStorageManager)("usersync");function y(e){var t={},r={image:[],iframe:[]},d=new Set,c={},g={image:!0,iframe:!1},v=e.config;function b(){if(v.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!g.iframe)return;y(r.iframe,(function(e){var t=(0,i.default)(e,2),n=t[0],a=t[1];(0,o.logMessage)("Invoking iframe user sync for bidder: ".concat(n)),(0,o.insertUserSyncIframe)(a),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(r,n)}))}(),function(){if(!g.image)return;y(r.image,(function(e){var t=(0,i.default)(e,2),r=t[0],n=t[1];(0,o.logMessage)("Invoking image pixel user sync for bidder: ".concat(r)),(0,o.triggerPixel)(n)}))}()}catch(e){return(0,o.logError)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function y(e,t){(0,o.shuffle)(e).forEach(t)}function h(e,t){var r=v.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,o.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var r=e.all?e.all:e[t],n=e.all?"all":t;if(!r)return!1;var i=r.filter,a=r.bidders;if(i&&"include"!==i&&"exclude"!==i)return(0,o.logWarn)('UserSync "filterSettings.'.concat(n,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==a&&!(Array.isArray(a)&&a.length>0&&a.every((function(e){return(0,o.isStr)(e)&&"*"!==e}))))return(0,o.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(n,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(r,e)){g[e]=!0;var n=r.all?r.all:r[e],i="*"===n.bidders?[t]:n.bidders,a={include:function(e,t){return!(0,s.includes)(e,t)},exclude:function(e,t){return(0,s.includes)(e,t)}};return a[n.filter||"include"](i,t)}return!g[e]}return a.config.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;(0,o.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}v=m(v,e.userSync)})),e.regRule(u.ACTIVITY_SYNC_USER,"userSync config",(function(e){if(!v.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[l.ACTIVITY_PARAM_COMPONENT_TYPE]===f.MODULE_TYPE_BIDDER){var r=e[l.ACTIVITY_PARAM_SYNC_TYPE],n=e[l.ACTIVITY_PARAM_COMPONENT_NAME];if(!t.canBidderRegisterSync(r,n))return{allow:!1,reason:"".concat(r," syncs are not enabled for ").concat(n)}}})),t.registerSync=function(t,i,a){var s;return d.has(i)?(0,o.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):v.syncEnabled&&(0,o.isArray)(r[t])?i?0!==v.syncsPerBidder&&Number(c[i])>=v.syncsPerBidder?(0,o.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):void(e.isAllowed(u.ACTIVITY_SYNC_USER,(0,p.activityParams)(f.MODULE_TYPE_BIDDER,i,(s={},(0,n.default)(s,l.ACTIVITY_PARAM_SYNC_TYPE,t),(0,n.default)(s,l.ACTIVITY_PARAM_SYNC_URL,a),s)))&&(r[t].push([i,a]),c=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(c,i))):(0,o.logWarn)("Bidder is required for registering sync"):(0,o.logWarn)('User sync type "'.concat(t,'" not supported'))},t.bidderDone=d.add.bind(d),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(b,Number(e));b()},t.triggerUserSyncs=function(){v.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!v.filterSettings||!h(e,t)},t}var h=y(Object.defineProperties({config:a.config.getConfig("userSync"),isAllowed:c.isActivityAllowed,regRule:c.registerActivityControl},{browserSupportsCookies:{get:function(){return!(0,o.isSafariBrowser)()&&b.cookiesAreEnabled()}}}));t.userSync=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBid=function(e,t){return new i(e,t)};var n=r(0);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.src,i=void 0===r?"client":r,o=t.bidder,a=void 0===o?"":o,s=t.bidId,d=t.transactionId,c=t.auctionId,u=i,l=e||0;function f(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=a,this.width=0,this.height=0,this.statusMessage=f(),this.adId=(0,n.getUniqueIdentifierStr)(),this.requestId=s,this.transactionId=d,this.auctionId=c,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureProtocol=o,t.parseDomain=a,t.detectReferer=d,t.cacheWithLocation=c,t.getRefererInfo=void 0,r(1),r(96),r(97);var n=r(4),i=r(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var r=t.location.protocol;try{r=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?r+e:"".concat(r,"//").concat(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.noLeadingWww,n=void 0!==r&&r,i=t.noPort,a=void 0!==i&&i;try{e=new URL(o(e))}catch(e){return}return e=a?e.hostname:e.host,n&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}function d(e){return function(){var t,r,d,c,u=[],l=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),f=n.config.getConfig("maxNestedIframes"),p=!1,g=0,m=!1,v=!1,b=!1;do{var y=t,h=v,I=void 0,S=!1,E=null;v=!1,t=t?t.parent:e;try{I=t.location.href||null}catch(e){S=!0}if(S)if(h){var A=y.context;try{r=E=A.sourceUrl,b=!0,m=!0,t===e.top&&(p=!0),A.canonicalUrl&&(d=A.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var _=y.document.referrer;_&&(E=_,t===e.top&&(p=!0))}catch(e){}!E&&l&&l[g-1]&&(E=l[g-1],t===e.top&&(b=!0)),E&&!m&&(r=E)}else{if(I&&(r=E=I,m=!1,t===e.top)){p=!0;var w=s(t.document);w&&(d=w)}t.context&&t.context.sourceUrl&&(v=!0)}u.push(E),g++}while(t!==e.top&&g<f);u.reverse();try{c=e.top.document.referrer}catch(e){}var O=p||b?r:null,T=n.config.getConfig("pageUrl")||d||null,C=n.config.getConfig("pageUrl")||O||o(T,e);return O&&O.indexOf("?")>-1&&-1===C.indexOf("?")&&(C="".concat(C).concat(O.substring(O.indexOf("?")))),{reachedTop:p,isAmp:m,numIframes:g-1,stack:u,topmostLocation:r||null,location:O,canonicalUrl:T,page:C,domain:a(C)||null,ref:c||null,legacy:{reachedTop:p,isAmp:m,numIframes:g-1,stack:u,referer:r||null,canonicalUrl:T}}}}function c(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=s(i.document),a=i.location.href;return t===o&&a===r||(t=o,r=a,n=e()),n}}var u=c(d(window));t.getRefererInfo=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gvlidRegistry=N,t.multiHandler=q,t.allConsent=t.GDPR_GVLIDS=t.coppaDataHandler=t.gppDataHandler=t.uspDataHandler=t.gdprDataHandler=t.ConsentHandler=t.VENDORLESS_GVLID=void 0,r(172),r(1);var n=v(r(6)),i=v(r(173)),o=v(r(248)),a=v(r(249)),s=v(r(174)),d=v(r(100)),c=v(r(101)),u=v(r(11)),l=v(r(171)),f=v(r(242)),p=r(0),g=r(42),m=r(4);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function h(e,t,r){I(e,t),t.set(e,r)}function I(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var E=Object.freeze({});t.VENDORLESS_GVLID=E;var A=new WeakMap,_=new WeakMap,w=new WeakMap,O=new WeakMap,T=new WeakMap,C=new WeakMap,x=new WeakSet,P=function(){function e(){var t,r;(0,d.default)(this,e),I(t=this,r=x),r.add(t),h(this,A,{writable:!0,value:void 0}),h(this,_,{writable:!0,value:void 0}),h(this,w,{writable:!0,value:void 0}),h(this,O,{writable:!0,value:void 0}),h(this,T,{writable:!0,value:!0}),h(this,C,{writable:!0,value:void 0}),(0,u.default)(this,"generatedTime",void 0),(0,u.default)(this,"hashFields",void 0),this.reset()}return(0,c.default)(e,[{key:"reset",value:function(){(0,f.default)(this,w,(0,g.defer)()),(0,f.default)(this,A,!1),(0,f.default)(this,_,null),(0,f.default)(this,O,!1),this.generatedTime=null}},{key:"enable",value:function(){(0,f.default)(this,A,!0)}},{key:"enabled",get:function(){return(0,l.default)(this,A)}},{key:"ready",get:function(){return(0,l.default)(this,O)}},{key:"promise",get:function(){return(0,l.default)(this,O)?g.GreedyPromise.resolve((0,l.default)(this,_)):((0,l.default)(this,A)||S(this,x,R).call(this,null),(0,l.default)(this,w).promise)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,p.timestamp)();this.generatedTime=t,(0,f.default)(this,T,!0),S(this,x,R).call(this,e)}},{key:"getConsentData",value:function(){return(0,l.default)(this,_)}},{key:"hash",get:function(){var e=this;return(0,l.default)(this,T)&&((0,f.default)(this,C,(0,p.cyrb53Hash)(JSON.stringify((0,l.default)(this,_)&&this.hashFields?this.hashFields.map((function(t){return(0,l.default)(e,_)[t]})):(0,l.default)(this,_)))),(0,f.default)(this,T,!1)),(0,l.default)(this,C)}}]),e}();function R(e){(0,f.default)(this,O,!0),(0,f.default)(this,_,e),(0,l.default)(this,w).resolve(e)}t.ConsentHandler=P;var D=function(e){(0,o.default)(r,e);var t=y(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,c.default)(r,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),r}(P),k=function(e){(0,o.default)(r,e);var t=y(r);function r(){var e;(0,d.default)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.default)((0,i.default)(e),"hashFields",["gdprApplies","consentString"]),e}return(0,c.default)(r,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,p.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),r}(P),j=function(e){(0,o.default)(r,e);var t=y(r);function r(){var e;(0,d.default)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.default)((0,i.default)(e),"hashFields",["applicableSections","gppString"]),e}return(0,c.default)(r,[{key:"getConsentMeta",value:function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}]),r}(P);function N(){var e={},t={},r={};return{register:function(n,i,o){o&&((e[i]=e[i]||{})[n]=o,t.hasOwnProperty(i)?t[i]!==o&&(t[i]=r):t[i]=o)},get:function(n){var i={modules:e[n]||{}};return t.hasOwnProperty(n)&&t[n]!==r&&(i.gvlid=t[n]),i}}}var M=new k;t.gdprDataHandler=M;var B=new D;t.uspDataHandler=B;var U=new j;t.gppDataHandler=U;var L=function(){function e(){return!!m.config.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset:function(){},get promise(){return g.GreedyPromise.resolve(e())},get hash(){return e()?"1":"0"}}}();t.coppaDataHandler=L;var V=N();t.GDPR_GVLIDS=V;var z={gdpr:M,usp:B,gpp:U,coppa:L};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;function t(t){return function(){return Object.fromEntries(e.map((function(e){var r=(0,n.default)(e,2);return[r[0],r[1][t]()]})))}}return e=Object.entries(e),b({get promise(){return g.GreedyPromise.all(e.map((function(e){var t=(0,n.default)(e,2),r=t[0];return t[1].promise.then((function(e){return[r,e]}))}))).then((function(e){return Object.fromEntries(e)}))},get hash(){return(0,p.cyrb53Hash)(e.map((function(e){var t=(0,n.default)(e,2);t[0];return t[1].hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((function(e){return[e,t(e)]}))))}var F=q();t.allConsent=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ortbConverter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=void 0===t?{}:t,o=e.processors,s=void 0===o?c:o,u=e.overrides,l=void 0===u?{}:u,f=e.imp,p=e.request,g=e.bidResponse,m=e.response,v=new WeakMap;function b(e,t,r,i){var o;return function(){return null==o&&(o=function(){var o=r.bind(this,(0,n.compose)(s()[e]||{},l[e]||{}));return t&&(o=t.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){i.call.apply(i,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),o.apply(this,arguments)}}var y=b(a.IMP,f,(function(e,t,r){var n={};return e(n,t,r),n}),(function(e,t,r){(0,i.logError)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:r})})),h=b(a.REQUEST,p,(function(e,t,r,n){var i={imp:t};return e(i,r,n),i}),(function(e,t,r,n){throw(0,i.logError)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:r,context:n}),e})),I=b(a.BID_RESPONSE,g,(function(e,t,r){var n={};return e(n,t,r),n}),(function(e,t,r){(0,i.logError)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:r})})),S=b(a.RESPONSE,m,(function(e,t,r,n){var i={bids:t};return e(i,r,n),i}),(function(e,t,r,n){throw(0,i.logError)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:r,context:n}),e}));return{toORTB:function(e){var t=e.bidderRequest,n=e.bidRequests,o=e.context,a=void 0===o?{}:o,s={req:d({bidRequests:n=n||t.bids},r,a),imp:{}};s.req.impContext=s.imp;var c=n.map((function(e){var n=d({bidderRequest:t,reqContext:s.req},r,a),o=y(e,n);if(null!=o){if(o.hasOwnProperty("id"))return d(n,{bidRequest:e,imp:o}),s.imp[o.id]=n,o;(0,i.logError)("Converted ORTB imp does not specify an id, ignoring bid request",e,o)}})).filter(Boolean),u=h(c,t,s.req);return s.req.bidderRequest=t,null!=u&&v.set(u,s),u},fromORTB:function(e){var t=e.request,r=e.response,n=v.get(t);if(null==n)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{ortbRequest:t},r,e)}var a=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),s=(r.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(a.hasOwnProperty(t.impid)&&n.imp.hasOwnProperty(t.impid))return I(t,o(n.imp[t.impid],{imp:a[t.impid],seatbid:e,ortbResponse:r}));(0,i.logError)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return S(s,r,o(n.req))}}},t.defaultProcessors=void 0,r(1),r(64);var n=r(423),i=r(0),o=r(424),a=r(59),s=r(253);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var c=(0,i.memoize)((function(){return(0,s.mergeProcessors)(o.DEFAULT_PROCESSORS,(0,a.getProcessors)(a.DEFAULT))}));t.defaultProcessors=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientSectionChecker=function(e){return function(t){return i.reduce((function(r,i){return o(t,i)&&(null!=r?((0,n.logWarn)("".concat(e," specifies both '").concat(r,"' and '").concat(i,"'; dropping the latter.")),delete t[i]):r=i),r}),null),t}},t.hasSection=o,t.CLIENT_SECTIONS=void 0;var n=r(0),i=["dooh","app","site"];function o(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}t.CLIENT_SECTIONS=i},function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return e===t?0:e<t?-1:1}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,r){return o(e(t),e(r))}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return function(t,r){return-e(t,r)||0}}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var i,o=n(t);try{for(o.s();!(i=o.n()).done;){var a=(0,i.value)(e,r);if(0!==a)return a}}catch(e){o.e(e)}finally{o.f()}return 0}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return function(t,r){return e(r,t)<0?r:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return c(s(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.simpleCompare=o,t.keyCompare=a,t.reverseCompare=s,t.tiebreakCompare=d,t.minimum=c,t.maximum=u,t.getLatestHighestCpmBid=t.getOldestHighestCpmBid=t.getHighestCpm=void 0,r(1);var l=a((function(e){return e.cpm})),f=a((function(e){return e.responseTimestamp})),p=u(d(l,s(a((function(e){return e.timeToRespond})))));t.getHighestCpm=p;var g=u(d(l,s(f)));t.getOldestHighestCpmBid=g;var m=u(d(l,f));t.getLatestHighestCpmBid=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enrichFPD=t.dep=void 0,r(1),r(17);var n,i=(n=r(6))&&n.__esModule?n:{default:n},o=r(24),a=r(129),s=r(259),d=r(0),c=r(4),u=r(438),l=r(42),f=r(132);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v={getRefererInfo:a.getRefererInfo,findRootDomain:s.findRootDomain,getWindowTop:d.getWindowTop,getWindowSelf:d.getWindowSelf,getHighEntropySUA:u.getHighEntropySUA,getLowEntropySUA:u.getLowEntropySUA};t.dep=v;var b=(0,f.clientSectionChecker)("FPD"),y=(0,o.hook)("sync",(function(e){return l.GreedyPromise.all([e,(t=c.config.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?v.getHighEntropySUA(t):l.GreedyPromise.resolve(v.getLowEntropySUA())).catch((function(){return null}))]).then((function(e){var t=(0,i.default)(e,2),r=t[0],n=t[1],o=v.getRefererInfo();!function(e){["app","site","device"].forEach((function(t){var r=c.config.getConfig(t);null!=r&&(e[t]=(0,d.mergeDeep)({},r,e[t]))}))}(r),Object.entries(S).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],a=(0,t[1])(r,o);a&&Object.keys(a).length>0&&(r[n]=(0,d.mergeDeep)({},a,r[n]))})),n&&(0,d.deepSetValue)(r,"device.sua",p({},n,r.device.sua)),r=b(r);var a,s=g(f.CLIENT_SECTIONS);try{for(s.s();!(a=s.n()).done;){var u=a.value;if((0,f.hasSection)(r,u)){r[u]=(0,d.mergeDeep)({},E(r,o),r[u]);break}}}catch(e){s.e(e)}finally{s.f()}return r}));var t}));function h(e){try{return e(v.getWindowTop())}catch(t){return e(v.getWindowSelf())}}function I(e){return(0,d.getDefinedParams)(e,Object.keys(e))}t.enrichFPD=y;var S={site:function(e,t){if(!f.CLIENT_SECTIONS.filter((function(e){return"site"!==e})).some(f.hasSection.bind(null,e)))return I({page:t.page,ref:t.ref})},device:function(){return h((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,d.getDNT)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};h((function(e){return e.navigator.globalPrivacyControl}))&&(0,d.deepSetValue)(e,"ext.gpc",1);var t=c.config.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function E(e,t){var r,n,i,o=(0,a.parseDomain)(t.page,{noLeadingWww:!0});return I({domain:o,keywords:null===(r=h((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===r||null===(n=r.content)||void 0===n||null===(i=n.replace)||void 0===i?void 0:i.call(n,/\s/g,""),publisher:I({domain:v.findRootDomain(o)})})}},function(e,t,r){var n=r(2),i=r(37),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,r){var n=r(73),i=r(137);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,r){var n=r(2),i=r(138),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},function(e,t,r){var n=r(2),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(12),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},function(e,t,r){var n=r(2),i=r(67),o=r(16),a=r(111),s=r(182),d=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,d(e))}},function(e,t,r){var n=r(54),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(136),i=r(139),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,r){var n=r(12),i=r(16),o=r(137),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,r){var n=r(27),i=r(28),o=r(189),a=r(75),s=r(86),d=r(110),c=r(35),u=r(184),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=s(e),t=d(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},function(e,t,r){var n=r(27),i=r(35),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),d=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:d,CONFIGURABLE:c}},function(e,t,r){var n=r(186),i=r(143).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){"use strict";var n,i,o=r(28),a=r(12),s=r(77),d=r(282),c=r(283),u=r(136),l=r(74),f=r(60).get,p=r(284),g=r(285),m=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,b=v,y=a("".charAt),h=a("".indexOf),I=a("".replace),S=a("".slice),E=(i=/b*/g,o(v,n=/a/,"a"),o(v,i,"a"),0!==n.lastIndex||0!==i.lastIndex),A=c.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(E||_||A||p||g)&&(b=function(e){var t,r,n,i,a,c,u,p=this,g=f(p),w=s(e),O=g.raw;if(O)return O.lastIndex=p.lastIndex,t=o(b,O,w),p.lastIndex=O.lastIndex,t;var T=g.groups,C=A&&p.sticky,x=o(d,p),P=p.source,R=0,D=w;if(C&&(x=I(x,"y",""),-1===h(x,"g")&&(x+="g"),D=S(w,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(w,p.lastIndex-1))&&(P="(?: "+P+")",D=" "+D,R++),r=new RegExp("^(?:"+P+")",x)),_&&(r=new RegExp("^"+P+"$(?!\\s)",x)),E&&(n=p.lastIndex),i=o(v,C?r:p,D),C?i?(i.input=S(i.input,R),i[0]=S(i[0],R),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:E&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),_&&i&&i.length>1&&o(m,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=c=l(null),a=0;a<T.length;a++)c[(u=T[a])[0]]=i[u[1]];return i}),e.exports=b},function(e,t,r){var n=r(12),i=r(54),o=r(77),a=r(108),s=n("".charAt),d=n("".charCodeAt),c=n("".slice),u=function(e){return function(t,r){var n,u,l=o(a(t)),f=i(r),p=l.length;return f<0||f>=p?e?"":void 0:(n=d(l,f))<55296||n>56319||f+1===p||(u=d(l,f+1))<56320||u>57343?e?s(l,f):n:e?c(l,f,f+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(290),i=r(291),o=r(292);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t,r){var n=r(299);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gateway=void 0;var n,i=r(39),o=(n=r(45))&&n.__esModule?n:{default:n},a=r(3);t.gateway=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e,n={},s={all:[]};if(t.length>0)for(let e=0;e<t.length;e++){d(t[e])}function d(e){n[e]=!1,s[e]=[]}function c(e){void 0!==n[e]&&(n[e]=!0,a.bbLogger.atVerbosity(4).logInfo("Opening gate ".concat(r,".").concat(e)),l(e),-1===Object.values(n).indexOf(!1)&&l("all"))}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const d=t||"all";if("all"!==d&&void 0===n[d]||"all"===d&&(0,o.default)(n)||"all"!==d&&void 0===s[d]||!0===n[d])return a.bbLogger.atVerbosity(4).logInfo("Running Callback ".concat(r,".").concat(d)),void(0,i.makeSafe)((()=>e()));s[d].push(e)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(s[e]){for(let t=0;t<s[e].length;t++){const r=s[e][t];(0,i.makeSafe)((()=>r()))}s[e]=[]}}function f(){for(const e in n)n.hasOwnProperty(e)&&(n[e]=!1)}function p(e){return!1!==n[e]}return{onOpen:u,register:d,open:c,getGates:()=>n,isOpen:p,reset:f,name:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestManager=void 0;var n=r(3),i=r(19),o=d(r(45)),a=d(r(7)),s=r(40);function d(e){return e&&e.__esModule?e:{default:e}}const{REQUEST_MANAGER:c}=a.default.LOGS,u=(0,n.logger)({name:c.LABEL,bgColor:c.COLOR,textColor:"#FFF"}),l=function(){const e={};let t=[];return i.exposureApi.expose({getRequesters:function(){return Object.keys(e)}}),{register:function(t){void 0===e[t]&&(e[t]=!1,u.atVerbosity(2).logInfo("Registering Requester",t))},reset:function(){u.atVerbosity(2).logInfo("Reseting requests");for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=!1)},done:function(r){u.atVerbosity(2).logInfo("Request done",r),e[r]=!0,((0,o.default)(e)||-1===Object.values(e).indexOf(!1))&&function(){u.atVerbosity(2).logInfo("Running Request Manager callbacks");for(let e=0;e<t.length;e++)try{t[e]()}catch(e){u.atVerbosity(1).logError(e),s.errorReporting.report(e)}t=[]}()},enqueue:function(r){(0,o.default)(e)?(u.logInfo("No registered requesters. Running callback."),r()):t.push(r)}}}();t.requestManager=l},function(e,t,r){"use strict";r(1),r(17);const n=[{precision:2,min:0,max:35,increment:.01}];e.exports={oncreate:{renderScripts:[{id:"bb-publica",src:"//sync.getpublica.com/sync.js",filter:{requiresConsent:!0}}],renderImages:[{id:"bb-freewheel-sfx",src:"//ads.stickyadstv.com/user-matching?id=185",width:"1px",height:"1px",filter:{requiresConsent:!0,requiresFmsData:"fms_params._fw_vcid2"}},{id:"bb-freewheel-mrm",src:"//7f077.v.fwmrm.net/ad/u?token=b8ce708402a6286faf64c964294f2046&nw=520311&dpid=127719&puid=",srcQpSet:{puid:"fms_params._fw_vcid2"},width:"1px",height:"1px",filter:{requiresConsent:!0,requiresFmsData:"fms_params._fw_vcid2",requiresPixel:"bb-freewheel-sfx"}}]},dfpPathDevices:{desktop:"",web:"",mweb:"m",mobile:"m",app:"app",m:"m",application:"app"},confiant:{badAdRefresh:!0},bootstrap:{renderScripts:[],renderImages:[]},debug:{consoleMethods:{error:!0,warn:!0}},api:{baseUrl:"https://at.cbsi.com/lib/api",apiBase:{prod:"https://at.cbsi.com/lib/api",stage:"https://dev.at.cbsi.com/lib/api"},version:1,fetchOptions:{useVersion:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}},cookie:{defaultOptions:{path:"/"},dailySession:{cookieName:"_BB.d",defaultOptions:{expires:"midnightEst"},deserialize:{match:e=>e&&e.indexOf("|")>=0,process:e=>{if(!e)return{firstpg:void 0,ftag:void 0,ttag:void 0,pv:void 0};const[t,r,n,i]=e.split("|");return{firstpg:t,ftag:r,ttag:n,pv:parseInt(i)==parseInt(i)?parseInt(i):i}}},serialize:{match:e=>!!e,process:e=>{let{firstpg:t,ftag:r,ttag:n,pv:i}=e;return[t,r,n,i].join("|").replace(/undefined/gm,"")}}},browserSession:{cookieName:"_BB.bs",deserialize:{match:e=>e&&e.indexOf("|")>=0,process:e=>{if(!e)return{session:void 0,subses:void 0};const[t,r]=e.split("|");return{session:t,subses:r}}},serialize:{match:e=>!!e,process:e=>{let{session:t,subses:r}=e;return[t,r].join("|").replace(/undefined/gm,"")}}},gaClientId:{cookieName:"_ga",readOnly:!0},aamUuid:{cookieName:"aam_uuid",readOnly:!0},seg:{cookieName:"aamgam",readOnly:!0,deserialize:{match:e=>!!e,process:e=>decodeURI(e).replace("segid=","").split(",")},serialize:{match:e=>!!e,process:e=>encodeURI("segid=".concat(e.join(",")))}}},errorReporting:{chunkSize:20,reportInterval:15e3,reportingPercentage:1,reportAborts:!1},refresh:{enabled:!1,minimumViewPercentage:50,defaultRefreshRate:1e4,refreshRateAdvertiserIdOverrides:{25365849:3e4}},reauction:{enabled:!1,minimumViewPercentage:50,defaultRefreshRate:1e4,refreshRateAdvertiserIdOverrides:{25365849:3e4}},analytics:{bidbarrel:[{id:"bidbarrel-core",protected:!0,transport:"beacon",frequency:15e3,session:{reportingPercentage:100},failThreshold:3,url:"/event"}]},analyticsTimings:{utag:!0,allowDuplicates:{},timeout:6e4,sequences:[["event-adlib-init","event-adlib-first-auction"],["event-adsrvr-first-req","event-first-render","event-first-imp"]],scripts:{"script-gpt":{matchPart:"securepubads.g.doubleclick.net/tag/js/gpt.js",record:{slug:"script-gpt",name:"Time to GPT"}},"script-pubads":{matchPart:"securepubads.g.doubleclick.net/gpt/pubads_impl",record:{slug:"script-pubads",name:"Time to pubads_impl"}},"script-adlib":{matchPart:"at.cbsi.com/lib/dist",record:{slug:"script-adlib",name:"Time to Ad Library"}},"scripts-cbsoptanon":{matchPart:"cdn.privacy.paramount.com/dist/optanon",record:{slug:"script-cbsoptanon",name:"Time to CMP"}}},events:{initialize:{once:!0,record:{slug:"event-adlib-init",name:"Time to Ad Library Initialize"}},auction:{once:!0,record:{slug:"event-adlib-first-auction",name:"Time to First Ad Library Auction"}},requested:{once:!0,event:{gpt:!0,name:"slotRequested"},record:{slug:"event-adsrvr-first-req",name:"Time to First Ad Server Request"}},rendered:{once:!0,event:{gpt:!0,name:"slotRenderEnded"},record:{slug:"event-first-render",name:"Time to First Ad Render"}},viewable:{once:!0,event:{gpt:!0,name:"impressionViewable"},record:{slug:"event-first-imp",name:"Time to First Viewable Impression"}}}},targeting:{auto:!1,query:{keyMap:{}},seats:{session:6,subsession:4},cookie:{expiration:null,path:"/",domain:null,samesite:"None",consolidate:!1,keyMap:{ftag:"ftag",ttag:"ttag",firstpg:"first_page_today"},getters:{},setters:{},deleters:{}}},dfpPath:{region:"aw",network:"8264",device:""},highFrequencyAdRequests:!1,timeouts:{failsafe:3e3,bidder:1e3,hfar:700,fmsretrieve:1500},amazon:{pubID:3037,enabled:!0,adServer:"googletag",regionConfig:{emea:{pubID:3264,allowedSizes:[[5,5],[6,6],[300,250],[320,50],[320,480],[728,90],[970,250],[300,600],[160,600],[300,251],[11,11]]},apac:{pubID:5006,allowedSizes:[[320,50],[320,480],[300,250],[300,600],[728,90],[970,250]]}},allowedSizes:[[5,5],[6,6],[300,250],[320,50],[320,480],[728,90],[970,250],[300,600]]},priorityAxis:"y",lazyLoading:{auction:{enabled:!0,chunkSize:15,chunk:!0,lazy:!0,offset:{yAxis:1e3,xAxis:1600},percentageVisible:1},units:{offset:{yAxis:400,xAxis:800},percentageVisible:1},offset:{yAxis:400,xAxis:800},percentageVisible:1},autoPriority:{enabled:!0,refresh:!0,bids:!0},contentAnnotation:{requestPercentage:0},optanon:{setNpaOnConsentChange:!0,enableServices:!1,renderScript:!0,scriptUrls:{dev:"https://cdn.privacy.paramount.com/dist/optanon-v1.1.0.js",prod:"https://cdn.privacy.paramount.com/dist/optanon-v1.1.0.js"}},dynamicTargeting:{rules:[{name:"Slot Name String",matcher:e=>!e.isVideo||!e.allowedTypes.video,key:"sl",level:"unit",hook:"processAdRequest",getValue:(e,t)=>{const r={LL:e.isLazyLoaded()},n=[];for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){r[e]&&n.push(e)}return t.bidderTimeout&&n.push("T-".concat(t.bidderTimeout)),e.originalCode+(n.length>0?"?"+n.join("|"):"")}},{name:"Adobe Segment IDs",matcher:()=>!0,key:"seg",level:"page",hook:"processAdRequest",cacheResult:!0,getValue:e=>e.getCookie("seg")||null},{name:"Adobe Audience Manager ID",matcher:()=>!0,key:"aamid",level:"page",hook:"processAdRequest",cacheResult:!0,getValue:e=>e.getCookie("aamUuid")||null},{name:"Impression ID",matcher:()=>!0,key:"iid",level:"unit",hook:"setBidTargeting",getValue:(e,t)=>"unit=".concat(e.code,"|").concat(e.generateImpressionId(["vguid","pv","hb_adid","amzniid"]))}],units:{}},dynamicBidders:{sonobi:(e,t,r)=>{if(!e.included||t.isVideo||t.allowedTypes.video)return null;const{network:n,device:i,region:o,property:a}=r.dfpPath;return{dom_id:t.code,ad_unit:"/".concat(n,"/").concat(i).concat(o,"-").concat(a,"/").concat(t.originalCode)+(t.incremental?t.index:"")}},pubmatic:(e,t)=>{if(!e.included)return null;if(t.isVideo||t.allowedTypes.video)return null;const r=t.getSizes(),n=["300x250","320x50","728x90","970x250","300x600"],i=r.filter((e=>"string"!=typeof e&&n.indexOf(e.join("x"))>=0));return i.length<=0?null:i.map((e=>({publisherId:"158790",adSlot:[window.BidBarrel.dfpPathObj.property,t.originalCode||t.code,e.join("x")].join("_")})))},appnexus:(e,t)=>{let{isVideo:r,getLatestVideoSpec:n}=t;if(r&&n){const t=n();e={...e,video:{mimes:t.mimes,minduration:t.minduration,maxduration:t.maxduration,startdelay:t.startdelay,skippable:1===t.skip,playback_method:["","auto_play_sound_on","auto_play_sound_off","click_to_play"].filter(((e,r)=>t.playbackmethod.indexOf(r)>=0)),frameworks:[0,...t.api]}}}return e},spotx:(e,t)=>{let{isVideo:r,getSizes:n}=t;return r&&(e={...e,price_floor:1}),e},aol:(e,t)=>({network:"9928.1",...e}),openx:(e,t)=>e.delDomain?e:{delDomain:"cbsi-d.openx.net",...e},ix:(e,t)=>{if((t.isVideo||t.allowedTypes.video)&&t.getLatestVideoSpec)return e.video=t.getLatestVideoSpec(),e;if(!e.size)return null;return t.getSizes().map((e=>Array.isArray(e)?e.join("x"):e)).indexOf(e.size.join("x"))>=0?e:null},trustx:(e,t,r)=>{let n=r.bidderContext.extraParams;if(!n&&r.pageTargeting.seg&&r.pageTargeting.seg.length>0){const e=["1631413","66572770","13100219","743242233"],t=r.pageTargeting.seg.filter((t=>e.indexOf(t)>=0));n=t.length>=0?{keywords:{topic:t}}:{},r.bidderContext.extraParams=n}return{...e,...n}},yieldmo:(e,t,r)=>(void 0===r.bidderContext.count?r.bidderContext.count=1:r.bidderContext.count++,r.bidderContext.count>6?null:{placementId:""+e.placementId}),yahoossp:(e,t,r)=>({endpoint:"https://c2shb.ssp.yahoo.com/bidRequest",...e}),teads:e=>e.placementId&&e.pageId?{pageId:e.pageId?parseInt(e.pageId):"",placementId:e.placementId?parseInt(e.placementId):""}:null},geo:{enabled:!0,failsafeRegionCode:"us",failsafeCountryCode:"us",failsafeTimeout:2e3,regionDefinitions:r(354)},identity:r(355),moat:{yieldIntelligence:{scriptUrl:"https://z.moatads.com/cbsprebidheader506831276743/moatheader.js"}},ias:{publisherOptimization:{scriptUrl:"https://cdn.adsafeprotected.com/iasPET.1.js"}},video:{detectCapabilities:!0,spec:{mimes:["video/mp4","video/H264","video/webm"],startdelay:0,w:640,h:480,skip:0,minduration:5,maxduration:30,context:"instream",api:[1,2],linearity:1,protocols:[1,2,3,4,5,6,7,8],playbackmethod:[2],playbackend:1},getSpec:(e,t,r)=>{let{PLAYBACK_METHOD:n}=t;const i=e;return r.isMobile()&&(i.api=i.api.filter((e=>-1===[1,2].indexOf(e)))),(i.api.indexOf(1)>=0||i.api.indexOf(2)>=0)&&(i.mimes=i.mimes.filter((e=>-1===["video/H264","video/webm"].indexOf(e)))),r.canAutoplayUnmuted?i.playbackmethod=[n.PAGELOAD_SOUND_ON,n.PAGELOAD_SOUND_OFF]:r.canAutoplayMuted?i.playbackmethod=[n.PAGELOAD_SOUND_OFF]:i.playbackmethod=[n.CLICK_SOUND_ON],i},getUnitSpec:(e,t,r)=>{let{PLAYBACK_METHOD:n}=r;return{sequence:t.sequenceIndex,...e}},translateSpec:(e,t,r,n)=>{let{PLAYBACK_METHOD:i}=r;const o=e;let a;return"480v"===o.h?a=i.PAGELOAD_SOUND_ON:"483v"===o.h?a=i.PAGELOAD_SOUND_OFF:o.playerSize&&2===o.playerSize.length&&"480v"===o.playerSize[1]?a=i.PAGELOAD_SOUND_ON:o.playerSize&&2===o.playerSize.length&&"483v"===o.playerSize[1]&&(a=i.PAGELOAD_SOUND_OFF),a===i.PAGELOAD_SOUND_OFF&&n.canAutoplayMuted?o.playbackmethod=[i.PAGELOAD_SOUND_OFF]:a===i.PAGELOAD_SOUND_ON&&n.canAutoplayUnmuted?o.playbackmethod=[i.PAGELOAD_SOUND_ON,i.PAGELOAD_SOUND_OFF]:a&&(o.playbackmethod=[i.CLICK_SOUND_ON]),a&&(o.h=480),o.h&&o.w||!o.playerSize||2!==o.playerSize.length?e.playerSize&&2===o.playerSize.length||(o.playerSize=[o.w,o.h]):(o.w||(o.w=o.playerSize[0]),o.h||(o.h=o.playerSize[1])),o},defaultParamOptions:{getParams:(e,t)=>({}),params:{},targeting:{unit:!1,page:!1,whitelist:["vguid","ptype","pv","firstpg","session","subses","ftag","ttag","cid"]}},getDefaultParamOptions:e=>e,adServerUrl:"https://pubads.g.doubleclick.net/gampad/ads"},prebid:{enabledRegions:["us","apac"],cacheUrlConfigs:{prefix:"bb_vcache_",bidders:{default:{}}},ids:{pubCommon:{enabled:!0,autoDeleteStorage:!1,userSyncConfig:{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:365}}},identityLink:{enabled:!1,template:!0,trackChanges:!0,autoDeleteStorage:!1,shouldRefresh:(e,t)=>!(!t||!t.params)&&(!!(!e&&t||!e.params&&t.params)||(""===e.params.eid&&""!==t.params.eid||""!==t.params.eid&&t.params.eid!==e.params.eid)),dependencies:"<%= context.getValue('config.dfpPath') %>",onRemove:{cookies:["_lr_retry_request"]},userSyncConfig:{name:"identityLink",params:{eid:"<%= context.getValue('config.firstPartyData.eid') %>"},storage:{type:"cookie",name:"_BB.id.identityLink",expires:15,refreshInSeconds:1800}}},liveIntent:{enabled:!1,autoDeleteStorage:!1,userSyncConfig:{name:"liveIntentId",params:{identifiersToResolve:["_pubcid"],partner:"prebid"},storage:{type:"cookie",name:"_BB.id.liveIntent",expires:1}}},criteo:{enabled:!0,autoDeleteStorage:!1,userSyncConfig:{name:"criteo"}},uid2:{enabled:!1,autoDeleteStorage:!1,userSyncConfig:{name:"uid2",params:{uid2ApiBase:"https://fms.viacomcbs.digital/uid2"}}}},allowedSizes:[[5,5],[6,6],[1,1],[300,250],[320,50],[320,480],[728,90],[640,480],[970,250],[300,600],[160,600],[300,251],[11,11]],priceBuckets:n,bidderSettings:{standard:{storageAllowed:!0}},pbjsConfig:{gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},userSync:{syncEnabled:!1},priceGranularity:{buckets:n},mediaTypePriceGranularity:{video:{buckets:[{precision:2,max:10,increment:.25},{precision:2,max:25,increment:.5},{precision:2,max:50,increment:1}]}},enableSendAllBids:!1,s2sConfig:{accountId:"76991ce3-80de-475e-99f3-781136962f72",bidders:["yieldmo","pulsepoint","triplelift","medianet"],endpoint:"https://pbs.at.cbsi.com/openrtb2/auction",adapter:"prebidServer",syncEndpoint:"https://pbs.at.cbsi.com/cookie_sync",enabled:!0,timeout:750},targetingControls:{alwaysIncludeDeals:!0},cache:{url:"https://pbs-cache.at.cbsi.com/cache"},floors:{floorMin:.5,enforcement:{enforcePBS:!0,floorDeals:!0},data:{schema:{fields:["viewportType","region","country","ptype","adUnitCode","mediaType","size","position","authenticated","bidder"]},values:{"*|*|*|*|*|*|*|*|*|*":.5}},additionalSchemaFields:{viewportType:(e,t)=>window.BidBarrel.isMobile()?"mobile":"desktop",region:(e,t)=>window.BidBarrel.getRegionCode(),country:(e,t)=>window.BidBarrel.getCountryCode(),ptype:(e,t)=>window.BidBarrel.pageTargeting.ptype,position:(e,t)=>{let r=e.adUnitCode;return r.indexOf("--")>=0&&(r=r.split("--")[0]),window.BidBarrel.adUnitsObj[r].targeting?""+window.BidBarrel.adUnitsObj[r].targeting.pos:""},authenticated:(e,t)=>window.BidBarrel.context.authenticated,bidder:(e,t)=>e.bidder}}}}}},function(e,t,r){"use strict";function n(e,t){return(e||[]).reduce(((e,r)=>({...e,[t?r[t]:r]:r})),{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=e||{};return Array.isArray(r)?n(r,t):Object.values(n(r,t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e,t)};var n,i=(n=r(357))&&n.__esModule?n:{default:n}},function(e,t,r){var n=r(12),i=r(13),o=r(16),a=r(78),s=r(67),d=r(145),c=function(){},u=[],l=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=n(f.exec),g=!f.exec(c),m=function(e){if(!o(e))return!1;try{return l(c,u,e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(f,d(e))}catch(e){return!0}};v.sham=!0,e.exports=!l||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},function(e,t,r){var n=r(2),i=r(28),o=r(88),a=r(30),s=r(113),d=r(125),c=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?d(e):t;if(o(r))return a(i(r,e));throw c(s(e)+" is not iterable")}},function(e,t,r){var n=r(2),i=r(141),o=r(49),a=r(226),s=n.Array,d=Math.max;e.exports=function(e,t,r){for(var n=o(e),c=i(t,n),u=i(void 0===r?n:r,n),l=s(d(u-c,0)),f=0;c<u;c++,f++)a(l,f,e[c]);return l.length=f,l}},function(e,t,r){r(383)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(398)},function(e,t,r){"use strict";var n=r(2),i=r(28),o=r(63),a=r(49),s=r(236),d=r(44),c=r(13),u=n.RangeError,l=n.Int8Array,f=l&&l.prototype,p=f&&f.set,g=o.aTypedArray,m=o.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),b=v&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){g(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=d(e);if(v)return i(p,this,r,t);var n=this.length,o=a(r),c=0;if(o+t>n)throw u("Wrong length");for(;c<o;)this[t+c]=r[c++]}),!v||b)},function(e,t,r){"use strict";var n=r(2),i=r(12),o=r(13),a=r(88),s=r(230),d=r(63),c=r(399),u=r(400),l=r(181),f=r(401),p=d.aTypedArray,g=d.exportTypedArrayMethod,m=n.Uint16Array,v=m&&i(m.prototype.sort),b=!(!v||o((function(){v(new m(2),null)}))&&o((function(){v(new m(2),{})}))),y=!!v&&!o((function(){if(l)return l<74;if(c)return c<67;if(u)return!0;if(f)return f<602;var e,t,r=new m(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));g("sort",(function(e){return void 0!==e&&a(e),y?v(this,e):s(p(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||b)},function(e,t,r){"use strict";var n=r(63),i=r(238).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(63),i=r(238).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t){e.exports=function(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}},function(e,t,r){var n=r(56),i=r(2),o=r(76);n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasPurpose1Consent=function(e){if(null!=e&&e.gdprApplies)return!0===(0,n.deepAccess)(e,"vendorData.purpose.consents.1");return!0};var n=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSlotMatchingAdUnitCode=o,t.getGptSlotForAdUnitCode=a,t.getGptSlotInfoForAdUnitCode=function(e){var t=a(e);if(t)return{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()};return{}};var n=r(15),i=r(0);function o(e){return function(t){return(0,i.compareCodeAndSlot)(t,e)}}function a(e){var t;return(0,i.isGptPubadsDefined)()&&(t=(0,n.find)(window.googletag.pubads().getSlots(),o(e))),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cmpClient=function(e){var t=e.apiName,r=e.apiVersion,s=e.apiArgs,c=void 0===s?["command","callback","parameter","version"]:s,l=e.callbackArgs,f=void 0===l?["returnValue","success"]:l,p=e.mode,g=void 0===p?0:p,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,v={},b="".concat(t,"Call"),y="".concat(t,"Return");function h(e){var t,r="string"==typeof e.data&&e.data.includes(y)?JSON.parse(e.data):e.data;if(null!=r&&null!==(t=r[y])&&void 0!==t&&t.callId){var n=r[y];v.hasOwnProperty(n.callId)&&v[n.callId].apply(v,(0,o.default)(f.map((function(e){return n[e]}))))}}function I(){for(var e,r=m,n=!1;null!=r;){try{if("function"==typeof r[t]){e=r,n=!0;break}}catch(e){}try{if(r.frames["".concat(t,"Locator")]){e=r;break}}catch(e){}if(r===m.top)break;r=r.parent}return[e,n]}var S,E=I(),A=(0,i.default)(E,2),_=A[0],w=A[1];if(!_)return;function O(e){return e=d({version:r},e),c.map((function(t){return[t,e[t]]}))}function T(e,t,r,n){var i="function"==typeof e;return function(o,a){if(n&&n(),1!==g){var s=null==a||a?t:r;s(i?void 0:o)}i&&e.apply(this,arguments)}}w?S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.GreedyPromise((function(r,n){var a=_[t].apply(_,(0,o.default)(O(u(u({},e),{},{callback:e.callback||2===g?T(e.callback,r,n):void 0})).map((function(e){var t=(0,i.default)(e,2);t[0];return t[1]}))));(1===g||null==e.callback&&0===g)&&r(a)}))}:(m.addEventListener("message",h,!1),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new a.GreedyPromise((function(r,o){var a=Math.random().toString(),s=(0,n.default)({},b,u(u({},Object.fromEntries(O(e).filter((function(e){return"callback"!==(0,i.default)(e,1)[0]})))),{},{callId:a}));v[a]=T(null==e?void 0:e.callback,r,o,(t||null==(null==e?void 0:e.callback))&&function(){delete v[a]}),_.postMessage(s,"*"),1===g&&r()}))});return d(S,{isDirect:w,close:function(){!w&&m.removeEventListener("message",h)}})},t.MODE_CALLBACK=t.MODE_RETURN=t.MODE_MIXED=void 0,r(9);var n=s(r(11)),i=s(r(6)),o=s(r(23)),a=r(42);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.MODE_MIXED=0;t.MODE_RETURN=1;t.MODE_CALLBACK=2},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeKeywords=d,t.getAllOrtbKeywords=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d.apply(void 0,(0,i.default)(s.map((function(t){return(0,a.deepAccess)(e,t)}))).concat(r))},r(64),r(1),r(17);var n,i=(n=r(23))&&n.__esModule?n:{default:n},o=r(132),a=r(0);var s=["user.keywords"].concat(o.CLIENT_SECTIONS.flatMap((function(e){return["keywords","content.keywords"].map((function(t){return"".concat(e,".").concat(t)}))})));function d(){for(var e=new Set,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.filter((function(e){return e})).flatMap((function(e){return Array.isArray(e)?e:e.split(",")})).map((function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")})).filter((function(e){return e})).forEach((function(t){return e.add(t)})),Array.from(e.keys())}},function(e,t,r){"use strict";var n=r(86),i=r(87),o=r(90),a=r(60),s=r(38).f,d=r(188),c=r(73),u=r(27),l="Array Iterator",f=a.set,p=a.getterFor(l);e.exports=d(Array,"Array",(function(e,t){f(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&u&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(e){}},function(e,t,r){var n=r(181),i=r(13);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t,r){var n,i,o=r(2),a=r(109),s=o.process,d=o.Deno,c=s&&s.versions||d&&d.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},function(e,t,r){var n=r(180);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(27),i=r(13);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,r){var n=r(27),i=r(13),o=r(135);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(186),i=r(143);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(12),i=r(35),o=r(86),a=r(187).indexOf,s=r(142),d=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&d(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~a(u,r)||d(u,r));return u}},function(e,t,r){var n=r(86),i=r(141),o=r(49),a=function(e){return function(t,r,a){var s,d=n(t),c=o(d),u=i(a,c);if(e&&r!=r){for(;c>u;)if((s=d[u++])!=s)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){"use strict";var n=r(56),i=r(28),o=r(73),a=r(147),s=r(16),d=r(192),c=r(114),u=r(91),l=r(76),f=r(55),p=r(57),g=r(22),m=r(90),v=r(193),b=a.PROPER,y=a.CONFIGURABLE,h=v.IteratorPrototype,I=v.BUGGY_SAFARI_ITERATORS,S=g("iterator"),E="keys",A="values",_="entries",w=function(){return this};e.exports=function(e,t,r,a,g,v,O){d(r,t,a);var T,C,x,P=function(e){if(e===g&&N)return N;if(!I&&e in k)return k[e];switch(e){case E:case A:case _:return function(){return new r(this,e)}}return function(){return new r(this)}},R=t+" Iterator",D=!1,k=e.prototype,j=k[S]||k["@@iterator"]||g&&k[g],N=!I&&j||P(g),M="Array"==t&&k.entries||j;if(M&&(T=c(M.call(new e)))!==Object.prototype&&T.next&&(o||c(T)===h||(u?u(T,h):s(T[S])||p(T,S,w)),l(T,R,!0,!0),o&&(m[R]=w)),b&&g==A&&j&&j.name!==A&&(!o&&y?f(k,"name",A):(D=!0,N=function(){return i(j,this)})),g)if(C={values:P(A),keys:v?N:P(E),entries:P(_)},O)for(x in C)(I||D||!(x in k))&&p(k,x,C[x]);else n({target:t,proto:!0,forced:I||D},C);return o&&!O||k[S]===N||p(k,S,N,{name:g}),m[t]=N,C}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(13),i=r(16),o=r(35),a=r(27),s=r(147).CONFIGURABLE,d=r(145),c=r(60),u=c.enforce,l=c.get,f=Object.defineProperty,p=a&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),g=String(String).split("String"),m=e.exports=function(e,t,r){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&f(e,"name",{value:t,configurable:!0}),p&&r&&o(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity}),r&&o(r,"constructor")&&r.constructor){if(a)try{f(e,"prototype",{writable:!1})}catch(e){}}else e.prototype=void 0;var n=u(e);return o(n,"source")||(n.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&l(this).source||d(this)}),"toString")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(193).IteratorPrototype,i=r(74),o=r(75),a=r(76),s=r(90),d=function(){return this};e.exports=function(e,t,r,c){var u=t+" Iterator";return e.prototype=i(n,{next:o(+!c,r)}),a(e,u,!1,!0),s[u]=d,e}},function(e,t,r){"use strict";var n,i,o,a=r(13),s=r(16),d=r(74),c=r(114),u=r(57),l=r(22),f=r(73),p=l("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):g=!0),null==n||a((function(){var e={};return n[p].call(e)!==e}))?n={}:f&&(n=d(n)),s(n[p])||u(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},function(e,t,r){var n=r(151),i=r(152),o=r(293),a=r(207),s=i((function(e){return e.push(void 0,o),n(a,void 0,e)}));e.exports=s},function(e,t,r){var n=r(115),i=r(196),o=r(301),a=r(303),s=r(68),d=r(92),c=r(205);e.exports=function e(t,r,u,l,f){t!==r&&o(r,(function(o,d){if(f||(f=new n),s(o))a(t,r,d,u,e,l,f);else{var p=l?l(c(t,d),o,d+"",t,r,f):void 0;void 0===p&&(p=o),i(t,d,p)}}),d)}},function(e,t,r){var n=r(153),i=r(117);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e,t,r){(function(e){var n=r(198),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(304)(e))},function(e,t,r){var n=r(305),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(309),i=r(201),o=r(310);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(154)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(155),i=r(68);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(155),i=r(201),o=r(119),a=Function.prototype,s=Object.prototype,d=a.toString,c=s.hasOwnProperty,u=d.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==u}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(153),i=r(117),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(195),i=r(208)((function(e,t,r,i){n(e,t,r,i)}));e.exports=i},function(e,t,r){var n=r(152),i=r(209);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var d=r[n];d&&e(t,d,n,a)}return t}))}},function(e,t){e.exports=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1})},t.readOnlyGetter=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Cannot set read-only property ".concat(t);Object.defineProperty(e,t,{get:r,set:()=>{n.bbLogger.logError(i)}})},t.hasGetter=function(e,t){const r=Object.getOwnPropertyDescriptor(e,t);return!!r&&void 0!==r.get};var n=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["desc"];Array.isArray(t)||(t=[t]);Array.isArray(r)||(r=[r]);const n=t.reverse(),o=r.reverse();return n.reduce(((e,t,r)=>(0,i.default)(e,t,o[r]||"desc")),e)};var n,i=(n=r(212))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";r="desc"===n?(e,r)=>e[t]<r[t]?1:r[t]<e[t]?-1:0:(e,r)=>e[t]>r[t]?1:r[t]>e[t]?-1:0;return e.sort(r)}},function(e,t,r){var n=r(154)(Object.keys,Object);e.exports=n},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){"use strict";var n=r(39);e.exports={percentageRunner:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"boolean"==typeof e&&e?t():"number"==typeof e?100*Math.random()<=e&&t():"function"==typeof e?(0,n.makeSafe)((()=>e()),null,(()=>r))&&t():r&&t()},percentageShouldRun:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"boolean"==typeof e&&e?e:"number"==typeof e?100*Math.random()<=e:"function"==typeof e?(0,n.makeSafe)((()=>e()),null,(()=>t)):t}}},function(e,t,r){var n=r(337),i=r(119);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=function(e){return void 0!==e.getTime?e:new Date(i(e))},t.getTimestamp=i,t.getExpiration=function(e){const t=(new Date).getTime(),r=e.expires||e||{};let n=r.expiresTimestamp;n||(n=i(e.at||e.expires||e),r.expiresTimestamp=n);return r.fromNowMs=n-t,r.isExpired=r.fromNowMs<=0,r},t.getTimezoneHourOffset=o,t.getMidnight=a,r(346);const n={seconds:{isMatch:e=>["s","sec","seconds","secs"].indexOf(e)>=0,getMsAmount:e=>1e3*e},minutes:{isMatch:e=>["m","min","minutes","mins"].indexOf(e)>=0,getMsAmount:e=>60*e*1e3},hours:{isMatch:e=>["h","hr","hours","hrs"].indexOf(e)>=0,getMsAmount:e=>60*e*60*1e3},days:{isMatch:e=>["d","day","days"].indexOf(e)>=0,getMsAmount:e=>24*e*60*60*1e3},weeks:{isMatch:e=>["wk","wks","w","week","weeks"].indexOf(e)>=0,getMsAmount:e=>7*e*24*60*60*1e3},months:{isMatch:e=>["M","mo","mos","Mo","Mos","month","months"].indexOf(e)>=0,getMsAmount:e=>30*e*7*24*60*60*1e3},years:{isMatch:e=>["y","yr","years","year","yrs"].indexOf(e)>=0,getMsAmount:e=>12*e*30*7*24*60*60*1e3},midnight:{isMatch:e=>"midnight"===e,absolute:!0,getMsAmount:e=>a().getTime()},midnightEst:{isMatch:e=>"midnightEst"===e,absolute:!0,getMsAmount:e=>a(-4).getTime()}};function i(e){return void 0!==e.getTime?e.getTime():"string"==typeof e?function(e){const t=e.match(/(\d+)/),r=e.match(/(\D+)/gm);let i=(new Date).getTime(),o=0;for(let e=0;e<r.length;e++){const a=r[e],s=e-o;for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const r=n[e];if(r.isMatch(a)){r.absolute?(i=r.getMsAmount(t&&t[s]?parseInt(t[s]):null),o++):i+=r.getMsAmount(t&&t[s]?parseInt(t[s]):null);break}}}return i}(e):"number"==typeof e&&e>=15e11?e:"number"==typeof e?(new Date).getTime()+e:void 0}function o(){const e=new Date;return e.getUTCHours()<e.getHours()?e.getHours()-(e.getUTCHours()+24):e.getHours()-e.getUTCHours()}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o();const t=new Date;return e<0?t.setUTCHours(Math.abs(e),0,0,0):t.setUTCHours(e,0,0,0),t.setDate(t.getDate()+1),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceMerger=d,t.createReduceMerger=function(e){let t=e||[];return{addConfig:function(e){let r=e;null!=r&&(Array.isArray(r)||(r=[e]),t=Array.isArray(t)?[...t,...r]:[t,...r])},processObject:function(){return d(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t,arguments.length>1?arguments[1]:void 0)},getMergeSet:function(){return t}}},r(1);var n=r(39),i=a(r(26)),o=a(r(45));function a(e){return e&&e.__esModule?e:{default:e}}const s={overwrite:!1,arguments:[]};function d(e,t,r){let{overwrite:a,...c}={...s,...r},u=e;if(null===u)u=null;else if(Array.isArray(t))for(let e=0;e<t.length;e++){const r=t[e];if(u=(0,n.makeSafe)((()=>d(u,r,c))),null===u)break;if(void 0===u){u=void 0;break}}else if("object"==typeof t&&a)u=t;else if("object"==typeof t)u=(0,i.default)({},u,t);else if("function"==typeof t){const e=(0,n.makeSafe)((()=>t(u,...c.arguments||[])));u=Array.isArray(e)&&!(0,o.default)(u)?[u,...e]:e}return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageEngine=void 0,r(1);var n,i=r(32),o=r(5),a=r(94),s=r(3),d=(n=r(26))&&n.__esModule?n:{default:n};const c=e=>e,u=e=>e,l=function(){const e=(0,a.richObject)({}),t=void 0!==(0,o.dom)().window.localStorage,r=(0,o.dom)().window.localStorage,n=(0,i.hookedFn)("sync",(function(r){if(t&&r){const t=e.getMeta();try{l("_BB.ls",c(JSON.stringify({value:r,meta:t})))}catch(e){s.bbLogger.logInfo("Unable to set value for localStorage",{value:r,meta:t})}}})),l=(0,i.hookedFn)("sync",(function(e,n){t&&n&&r.setItem(e,n)})),f=(0,i.hookedFn)("sync",(function(){if(t){const t=u(p("_BB.ls"));if(t){const r=JSON.parse(t);for(const t in r.value)if(r.value.hasOwnProperty(t)){const n=r.value[t],i=r.meta[t];e.setValue(t,n,{id:"localStorageUpdate",...i})}}}return null})),p=(0,i.hookedFn)("sync",(function(e){return t?r.getItem(e):null}));function g(){const t=f();t&&(e.setValue("*",t.value,{id:"localStorageUpdate"}),e.setMeta(t.meta))}return{name:"localStorage",async:!1,setup:function(){g(),e.getValue("*",((e,t)=>{t&&"localStorageUpdate"===t.id||n(e)})),(0,o.dom)().window.addEventListener("storage",(e=>{"_BB.ls"===e.key&&g()}))},setValue:function(t,r,n){let i=n;if(i){const e={expires:{id:"ls.".concat(t)}};i=(0,d.default)(i,e)}e.setValue(t,r,i)},getValue:function(){return e.getValue(...arguments)},deleteKey:function(t){return e.deleteKey(t)},setLs:n,getLs:f,raw:{getValue:p,setValue:l,deleteKey:function(e){t&&r.removeItem(e)}}}}();t.localStorageEngine=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cookieStorageEngine=void 0,r(1);var n=r(32),i=r(10),o=r(94),a=p(r(159)),s=p(r(31)),d=p(r(26)),c=p(r(356)),u=r(217),l=r(3),f=p(r(51));function p(e){return e&&e.__esModule?e:{default:e}}const g=function(){const e=(0,o.richObject)({});let t=a.default.cookie;const r=(0,n.hookedFn)("sync",(function(r,n,o){if(!r)return;const a=(0,s.default)(t,r);if(a&&a.readOnly)return;const d=a?a.cookieName:r;let u=n;a&&a.serialize?a.serialize.match(n)&&(u=a.serialize.process(n)):u="object"==typeof u?JSON.stringify(u):u;const f=(0,i.getConfig)("targeting.cookie.setters.".concat(d));f?f(d,u,o.expires,o.path,o.domain):(l.bbLogger.atVerbosity(3).logInfo("set cookie key=".concat(d," value=").concat(u),o),c.default.set(d,u,o),n&&e.setValue(r,n,{id:"internalSet"}))})),p=(0,n.hookedFn)("sync",(function(r){if(!r)return;const n=(0,s.default)(t,r),o=n?n.cookieName:r,a=(0,i.getConfig)("targeting.cookie.getters.".concat(o));if(a)return a(o);{let t=c.default.get(o);return n&&n.deserialize&&n.deserialize.match(t)&&(t=n.deserialize.process(t)),l.bbLogger.atVerbosity(3).logInfo("get cookie key=".concat(o," value="),t),t&&e.setValue(r,t,{id:"internalSet"}),t}}));return{name:"cookie",async:!1,setup:function(){(0,i.getConfig)("cookie",(e=>{t=e,function(){const e=(0,f.default)(t,["defaultOptions"]);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&p(t)}()}))},setValue:function(n,i,o){let a=o;if(a){const e={expires:{id:"cookies.".concat(n)}};a=(0,d.default)(a,e)}e.setValue(n,i,a),r(n,i,function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getMeta();const i=(0,s.default)(t,r),o=(0,d.default)({},(0,s.default)(i,"defaultOptions",{}),t.defaultOptions,{expires:null,path:null,domain:null}),a=n[r]||{};return o.expires&&"[object Date]"!==Object.prototype.toString.call(o.expires)&&(o.expires=(0,u.getDate)(o.expires)),a.expires&&(a.expires=new Date(a.expires)),{...o,...a}}(n))},getValue:function(){return e.getValue(...arguments)||p(...arguments)},setCookie:r,getCookie:p,deleteCookie:function(r,n){const o=(0,s.default)(t,r),a=o?o.cookieName:r,d=(0,i.getConfig)("targeting.cookie.deleters.".concat(a));d?d(a,n.expires,n.path,n.domain):(c.default.remove(a,n),e.deleteKey(r,{id:"internalSet"}))},raw:{getValue:p,setValue:r}}}();t.cookieStorageEngine=g},function(e,t,r){var n=r(360),i=r(361);e.exports=function(e,t){return e===t||n(e,t,i(t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=void 0,r(1);t.chunk=(e,t)=>e.reduce(((e,r,n)=>n%t==0?[...e,[r]]:[...e.slice(0,-1),[...e.slice(-1)[0],r]]),[])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderImage=void 0,r(9),r(1),r(96),r(97),r(17);var n,i=(n=r(51))&&n.__esModule?n:{default:n},o=r(32),a=r(3),s=r(5);const{logInfo:d}=a.bbLogger.atVerbosity(3),c=(0,o.hookedFn)("sync",(e=>{if(e.constructor===Array){for(let t=0;t<e.length;t++){const r=e[t];c(r)}return}if((0,s.dom)().window.document.getElementById(e.id)||e.shouldRender&&!e.shouldRender())return;if(e.filter.requiresPixel&&!(0,s.dom)().window.document.querySelector("img[id*='"+e.filter.requiresPixel+"']"))return;if(e.filter.requiresFmsData){const t=window.localStorage.getItem("fmscw_resp")?JSON.parse(window.localStorage.getItem("fmscw_resp")):null;if("fms_params._fw_vcid2"==e.filter.requiresFmsData&&(!t||!t.value||!t.value.fms_params||!t.value.fms_params._fw_vcid2&&kvs[key].includes("_fw_vcid2")))return}if(e.src&&e.srcQpSet&&"object"==typeof e.srcQpSet){const t=e.srcQpSet,r=new URL("https:"+e.src);for(const e in t)if(t[e].includes("fms_params")){const n=window.localStorage.getItem("fmscw_resp")?JSON.parse(window.localStorage.getItem("fmscw_resp")):null;if(!(n&&n.value&&n.value.fms_params&&n.value.fms_params._fw_vcid2&&t[e].includes("_fw_vcid2")))return;r.searchParams.set(e,n.value.fms_params._fw_vcid2)}e.src=r.href.replace("https:","")}var t={attributes:(0,i.default)(e,["parent","shouldRender","filter","srcQpSet"]),parent:e.parent};let r="";e.src&&(r=e.src.substring(e.src.lastIndexOf("/")+1)),!e.src||(0,s.dom)().window.document.querySelector("img[src*='"+e.src+"']")||(0,s.dom)().window.document.querySelector("img[src*='"+r+"']")||(d("Rendering image via BidBarrel",e),function(e,t,r,n){var i,o=void 0!==n&&e.querySelector(n);if(!r.id||!e.getElementById(r.id)){for(var a in i=e.createElement("img"),r)r.hasOwnProperty(a)&&i.setAttribute(a,!0===r[a]?"":r[a]);o?o.append(i):null!==o&&e.body.append(i)}}((0,s.dom)().window.document,0,t.attributes,t.parent))}));t.renderImage=c},function(e,t,r){var n=r(13),i=r(22),o=r(73),a=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){var n=r(22),i=r(90),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,r){"use strict";var n=r(110),i=r(38),o=r(75);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},function(e,t,r){var n=r(2).TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},function(e,t,r){"use strict";r(179);var n=r(56),i=r(2),o=r(28),a=r(12),s=r(27),d=r(224),c=r(57),u=r(229),l=r(76),f=r(192),p=r(60),g=r(124),m=r(16),v=r(35),b=r(82),y=r(78),h=r(30),I=r(37),S=r(77),E=r(74),A=r(75),_=r(163),w=r(125),O=r(227),T=r(22),C=r(230),x=T("iterator"),P="URLSearchParams",R="URLSearchParamsIterator",D=p.set,k=p.getterFor(P),j=p.getterFor(R),N=Object.getOwnPropertyDescriptor,M=function(e){if(!s)return i[e];var t=N(i,e);return t&&t.value},B=M("fetch"),U=M("Request"),L=M("Headers"),V=U&&U.prototype,z=L&&L.prototype,q=i.RegExp,F=i.TypeError,G=i.decodeURIComponent,W=i.encodeURIComponent,H=a("".charAt),Y=a([].join),X=a([].push),J=a("".replace),K=a([].shift),Q=a([].splice),$=a("".split),Z=a("".slice),ee=/\+/g,te=Array(4),re=function(e){return te[e-1]||(te[e-1]=q("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return G(e)}catch(t){return e}},ie=function(e){var t=J(e,ee," "),r=4;try{return G(t)}catch(e){for(;r;)t=J(t,re(r--),ne);return t}},oe=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},de=function(e){return J(W(e),oe,se)},ce=f((function(e,t){D(this,{type:R,iterator:_(k(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(I(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===H(e,0)?Z(e,1):e:S(e)))};ue.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,s,d,c=w(e);if(c)for(r=(t=_(e,c)).next;!(n=o(r,t)).done;){if(a=(i=_(h(n.value))).next,(s=o(a,i)).done||(d=o(a,i)).done||!o(a,i).done)throw F("Expected sequence with length 2");X(this.entries,{key:S(s.value),value:S(d.value)})}else for(var u in e)v(e,u)&&X(this.entries,{key:u,value:S(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=$(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=$(t,"="),X(this.entries,{key:ie(K(r)),value:ie(Y(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],X(r,de(e.key)+"="+de(e.value));return Y(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var le=function(){g(this,fe);var e=arguments.length>0?arguments[0]:void 0;D(this,new ue(e))},fe=le.prototype;if(u(fe,{append:function(e,t){O(arguments.length,2);var r=k(this);X(r.entries,{key:S(e),value:S(t)}),r.updateURL()},delete:function(e){O(arguments.length,1);for(var t=k(this),r=t.entries,n=S(e),i=0;i<r.length;)r[i].key===n?Q(r,i,1):i++;t.updateURL()},get:function(e){O(arguments.length,1);for(var t=k(this).entries,r=S(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){O(arguments.length,1);for(var t=k(this).entries,r=S(e),n=[],i=0;i<t.length;i++)t[i].key===r&&X(n,t[i].value);return n},has:function(e){O(arguments.length,1);for(var t=k(this).entries,r=S(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){O(arguments.length,1);for(var r,n=k(this),i=n.entries,o=!1,a=S(e),s=S(t),d=0;d<i.length;d++)(r=i[d]).key===a&&(o?Q(i,d--,1):(o=!0,r.value=s));o||X(i,{key:a,value:s}),n.updateURL()},sort:function(){var e=k(this);C(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=k(this).entries,n=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(fe,x,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),l(le,P),n({global:!0,constructor:!0,forced:!d},{URLSearchParams:le}),!d&&m(L)){var pe=a(z.has),ge=a(z.set),me=function(e){if(I(e)){var t,r=e.body;if(y(r)===P)return t=e.headers?new L(e.headers):new L,pe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:A(0,S(r)),headers:A(0,t)})}return e};if(m(B)&&n({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return B(e,arguments.length>1?me(arguments[1]):{})}}),m(U)){var ve=function(e){return g(this,V),new U(e,arguments.length>1?me(arguments[1]):{})};V.constructor=ve,ve.prototype=V,n({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:le,getState:k}},function(e,t,r){var n=r(57);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){var n=r(164),i=Math.floor,o=function(e,t){var r=e.length,d=i(r/2);return r<8?a(e,t):s(e,o(n(e,0,d),t),o(n(e,d),t),t)},a=function(e,t){for(var r,n,i=e.length,o=1;o<i;){for(n=o,r=e[o];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e};e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientInfo=void 0;var n=f(r(45)),i=r(19),o=r(10),a=r(69),s=r(33),d=r(3),c=r(122),u=r(40),l=f(r(50));function f(e){return e&&e.__esModule?e:{default:e}}const p=function(){let e;function t(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((i,a)=>{const c=(0,o.getConfig)("clientInfo.data");if((0,n.default)(c)){const e=(0,o.getConfig)("clientInfo.data",(t=>{e(),i(t)}))}else i((0,s.cloneDeep)(c));f(t).then((t=>(e=null,t))).then((e=>{r(e)})).catch((e=>{d.bbLogger.logError(e);const t=new Error(JSON.stringify(e,l.default));u.errorReporting.report(t),r({country:"us",connection:"mobile"})}))}))}function r(e){(0,o.setConfig)("clientInfo",{...(0,o.getConfig)("clientInfo"),data:{...e,country:a.features.getValue("countryCode")||e.country}})}function f(t){let r=c.api.createAbort();return e=c.api.get("client-info",{useVersion:!1,signal:r.signal,abortHandler:r}),e.geoOnly=t,e.abort=r.abort.bind(r),e}return i.exposureApi.expose({getClientInfo:t}),(0,o.getConfig)("clientInfo.data.country",(()=>{e&&e.geoOnly&&(d.bbLogger.logInfo("Aborting Inflight ClientInfo request"),e.abort())})),{getInfo:t,getCountryCode:function(){return(0,o.getConfig)("clientInfo.data.country")?Promise.resolve((0,o.getConfig)("clientInfo.data.country")):t(!0).then((e=>e.country))}}}();t.clientInfo=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementSort=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.bbLogger;const o=Array.from(e).some((e=>{const t=e.element||e;return!t||!t.style||"none"===t.style.display}));if(o)return r.logMessage("Element collection has undefined or elements with display: none; unable to apply element sort.",e),e;const a=(0,n.dom)().window.pageYOffset||(0,n.dom)().window.document.documentElement.scrollTop;return e.sort(((e,r)=>{const n=e.element||e,i=r.element||r,o="y"===t?n.getBoundingClientRect().top:n.getBoundingClientRect().left,s="y"===t?i.getBoundingClientRect().top:i.getBoundingClientRect().left;return o-a-(s-a)>0?1:-1}))};var n=r(5),i=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var n=r(2),i=r(54),o=r(89),a=n.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=o(t);if(t!==r)throw a("Wrong length or index");return r}},function(e,t,r){var n=r(2),i=r(390),o=n.RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw o("Wrong offset");return r}},function(e,t,r){var n=r(2),i=r(162),o=r(113),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},function(e,t,r){var n=r(82),i=r(105),o=r(44),a=r(49),s=function(e){var t=1==e;return function(r,s,d){for(var c,u=o(r),l=i(u),f=n(s,d),p=a(l);p-- >0;)if(f(c=l[p],p,u))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(239);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceBucketString=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);isNaN(n)&&(n="");return{low:""===n?"":l(e,a,r),med:""===n?"":l(e,s,r),high:""===n?"":l(e,d,r),auto:""===n?"":l(e,u,r),dense:""===n?"":l(e,c,r),custom:""===n?"":l(e,t,r)}},t.isValidPriceConfig=f;var n=r(15),i=r(0),o=r(4),a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},d={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},u={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t,r){var a="";if(!f(t))return a;var s=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),d=0,c=(0,n.find)(t.buckets,(function(t){if(e>s.max*r){var n=t.precision;void 0===n&&(n=2),a=(t.max*r).toFixed(n)}else{if(e<=t.max*r&&e>=d*r)return t.min=d,t;d=t.max}}));return c&&(a=function(e,t,r){var n=void 0!==t.precision?t.precision:2,a=t.increment*r,s=t.min*r,d=Math.floor,c=o.config.getConfig("cpmRoundingFunction");"function"==typeof c&&(d=c);var u,l,f=Math.pow(10,n+2),p=(e*f-s*f)/(a*f);try{u=d(p)*a+s}catch(e){l=!0}(l||"number"!=typeof u)&&((0,i.logWarn)("Invalid rounding function passed in config"),u=Math.floor(p)*a+s);return(u=Number(u.toFixed(10))).toFixed(n)}(e,c,r)),a}function f(e){if((0,i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},function(e,t){e.exports=function(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.loadExternalScript=function(e,t,r,s,d){if(!t||!e)return void(0,i.logError)("cannot load external script without url and moduleCode");if(!(0,n.includes)(a,t))return void(0,i.logError)("".concat(t," not whitelisted for loading external JavaScript"));s||(s=document);var c=f(s,e);if(c)return r&&"function"==typeof r&&(c.loaded?r():c.callbacks.push(r)),c.tag;var u=o.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};u[e]=l,o.set(s,u),r&&"function"==typeof r&&l.callbacks.push(r);return(0,i.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,r,n,o){n||(n=document);var a=n.createElement("script");a.type="text/javascript",a.async=!0;var s=f(n,e);s&&(s.tag=a);a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r())}:a.onload=function(){r()};a.src=t,o&&(0,i.setScriptAttributes)(a,o);return(0,i.insertElement)(a,n),a}(e,(function(){l.loaded=!0;try{for(var e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){(0,i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d);function f(e,t){var r=o.get(e);return r&&r[t]?r[t]:null}},r(1);var n=r(15),i=r(0),o=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","qortex"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ttlCollection=function(){var e,t,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=s.startTime,u=void 0===c?a.timestamp:c,l=s.ttl,f=void 0===l?function(){return null}:l,p=s.monotonic,g=void 0!==p&&p,m=s.slack,v=void 0===m?5e3:m,b=new Map,y=[],h=g?function(e){return y.push(e)}:function(e){return y.splice((0,a.binarySearch)(y,e,(function(e){return e.expiry})),0,e)};function I(){if(r&&clearTimeout(r),y.length>0){var e=(0,a.timestamp)();t=Math.max(e,y[0].expiry+v),r=setTimeout((function(){var e,t=(0,a.timestamp)(),n=0,i=d(y);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.expiry>t)break;b.delete(o.item),n++}}catch(e){i.e(e)}finally{i.f()}y.splice(0,n),r=null,I()}),t-e)}else r=null}function S(e){var n,a={},s=E;var d=Object.entries({start:u,delta:f}).map((function(d){var c,u=(0,i.default)(d,2),l=u[0],f=u[1];return function(){var i=c={};o.GreedyPromise.resolve(f(e)).then((function(e){i===c&&(a[l]=e,s===E&&null!=a.start&&null!=a.delta&&(n=a.start+a.delta,h(g),(null==r||t>n+v)&&I()))}))}})),c=(0,i.default)(d,2),l=c[0],p=c[1],g={item:e,refresh:p,get expiry(){return n}};return l(),p(),g}var E={};return e={},(0,n.default)(e,Symbol.iterator,(function(){return b.keys()})),(0,n.default)(e,"add",(function(e){!b.has(e)&&b.set(e,S(e))})),(0,n.default)(e,"clear",(function(){y.length=0,I(),b.clear(),E={}})),(0,n.default)(e,"toArray",(function(){return Array.from(b.keys())})),(0,n.default)(e,"refresh",(function(){y.length=0,I();var e,t=d(b.values());try{for(t.s();!(e=t.n()).done;){e.value.refresh()}}catch(e){t.e(e)}finally{t.f()}})),e},r(1);var n=s(r(11)),i=s(r(6)),o=r(42),a=r(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustCpm=function(e,t,r){var s,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=d.index,u=void 0===c?n.auctionManager.index:c,l=d.bs,f=void 0===l?i.bidderSettings:l;r=r||u.getBidRequest(t);var p=null==t?void 0:t.adapterCode,g=(null==t?void 0:t.bidderCode)||(null===(s=r)||void 0===s?void 0:s.bidder),m=f.get(null==t?void 0:t.adapterCode,"adjustAlternateBids"),v=f.getOwn(g,"bidCpmAdjustment")||f.get(m?p:g,"bidCpmAdjustment");if(v&&"function"==typeof v)try{return v(e,a({},t),r)}catch(e){(0,o.logError)("Error during bid adjustment",e)}return e};var n=r(43),i=r(58),o=r(0);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTTL=function(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:o)},t.onTTLBufferChange=function(e){a.push(e)};var n=r(4),i=r(0),o=1,a=[];n.config.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?o!==(o=e.ttlBuffer)&&a.forEach((function(e){return e(o)})):(0,i.logError)("Invalid value for ttlBuffer",e.ttlBuffer)}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adunitCounter=void 0;var n=r(0),i={};function o(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}};t.adunitCounter=a},function(e,t,r){var n=r(420);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(18),i=r(173);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redactRule=v,t.objectTransformer=b,t.sessionedApplies=y,t.isData=h,t.appliesWhenActivityDenied=I,t.ortb2TransmitRules=E,t.redactorFactory=A,t.redactor=t.ORTB_GEO_PATHS=t.ORTB_EIDS_PATHS=t.ORTB_UFPD_PATHS=void 0,r(1);var n=c(r(18)),i=c(r(6)),o=r(0),a=r(4),s=r(65),d=r(66);function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((function(e){return"user.".concat(e)}));t.ORTB_UFPD_PATHS=p;var g=["user.eids","user.ext.eids"];t.ORTB_EIDS_PATHS=g;var m=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function v(e){return u({get:function(){},run:function(e,t,r,n,i){var o=r&&r[n];if(h(o)&&i()){var a=this.get(o);void 0===a?delete r[n]:r[n]=a}}},e)}function b(e){return e.forEach((function(e){e.paths=e.paths.map((function(e){var t=e.split("."),r=t.pop();return[t.length>0?t.join("."):null,r]}))})),function(t,r){for(var n=[],a=arguments.length,s=new Array(a>2?a-2:0),d=2;d<a;d++)s[d-2]=arguments[d];var c=y.apply(void 0,[t].concat(s));return e.forEach((function(e){if(!1!==t[e.name]){var a,s=l(e.paths);try{for(s.s();!(a=s.n()).done;){var d=(0,i.default)(a.value,2),u=d[0],f=d[1],p=null==u?r:(0,o.deepAccess)(r,u);if(n.push(e.run(r,u,p,f,c.bind(null,e))),!1===t[e.name])return}}catch(e){s.e(e)}finally{s.f()}}})),n.filter((function(e){return null!=e}))}}function y(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(t){return e.hasOwnProperty(t.name)||(e[t.name]=!!t.applies.apply(t,r)),e[t.name]}}function h(e){return null!=e&&("object"!==(0,n.default)(e)||Object.keys(e).length>0)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.isActivityAllowed;return function(r){return!t(e,r)}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.isActivityAllowed;return[{name:d.ACTIVITY_TRANSMIT_EIDS,paths:["userId","userIdAsEids"],applies:I(d.ACTIVITY_TRANSMIT_EIDS,e)},{name:d.ACTIVITY_TRANSMIT_TID,paths:["ortb2Imp.ext.tid"],applies:I(d.ACTIVITY_TRANSMIT_TID,e)}].map(v)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.isActivityAllowed;return[{name:d.ACTIVITY_TRANSMIT_UFPD,paths:p,applies:I(d.ACTIVITY_TRANSMIT_UFPD,e)},{name:d.ACTIVITY_TRANSMIT_EIDS,paths:g,applies:I(d.ACTIVITY_TRANSMIT_EIDS,e)},{name:d.ACTIVITY_TRANSMIT_PRECISE_GEO,paths:m,applies:I(d.ACTIVITY_TRANSMIT_PRECISE_GEO,e),get:function(e){return Math.round(100*(e+Number.EPSILON))/100}},{name:d.ACTIVITY_TRANSMIT_TID,paths:["source.tid"],applies:I(d.ACTIVITY_TRANSMIT_TID,e)}].map(v)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.isActivityAllowed,t=b(E(e)),r=b(S(e));return function(e){var n={};return{ortb2:function(r){return t(n,r,e),r},bidRequest:function(t){return r(n,t,e),t}}}}t.ORTB_GEO_PATHS=m;var _=A();t.redactor=_,(0,s.registerActivityControl)(d.ACTIVITY_TRANSMIT_TID,"enableTIDs config",(function(){if(!a.config.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizesToFormat=function(e){return(e=(0,o.parseSizesInput)(e)).map((function(e){var t=e.split("x"),r=(0,i.default)(t,2),n=r[0],o=r[1];return{w:parseInt(n,10),h:parseInt(o,10)}}))};var n,i=(n=r(6))&&n.__esModule?n:{default:n},o=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setResponseMediaType=function(e,t,r){if(e.mediaType)return;var n=r.mediaType;if(!n&&!i.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=n||i[t.mtype]},t.ORTB_MTYPES=void 0;var n=r(25),i={1:n.BANNER,2:n.VIDEO,4:n.NATIVE};t.ORTB_MTYPES=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeProcessors=function e(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=r.shift(),s=r.length>1?e.apply(void 0,r):r[0];return Object.fromEntries(n.PROCESSOR_TYPES.map((function(e){return[e,i({},a[e],s[e])]})))};var n=r(59);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbsExtensions=void 0;var n=r(253),i=r(428),o=r(59),a=r(131),s=(0,r(0).memoize)((function(){return(0,n.mergeProcessors)((0,a.defaultProcessors)(),i.PBS_PROCESSORS,(0,o.getProcessors)(o.PBS))}));t.pbsExtensions=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extPrebidMediaType=function(e,t,r){var n=r.mediaType;if(!n){var i,o;n=s.ORTB_MTYPES.hasOwnProperty(t.mtype)?s.ORTB_MTYPES[t.mtype]:null===(i=t.ext)||void 0===i||null===(o=i.prebid)||void 0===o?void 0:o.type,d.hasOwnProperty(n)||(n=a.BANNER)}e.mediaType=n},t.SUPPORTED_MEDIA_TYPES=void 0;var n,i,o=(n=r(11))&&n.__esModule?n:{default:n},a=r(25),s=r(252);var d=(i={},(0,o.default)(i,a.BANNER,"banner"),(0,o.default)(i,a.NATIVE,"native"),(0,o.default)(i,a.VIDEO,"video"),i);t.SUPPORTED_MEDIA_TYPES=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setImpBidParams=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=n.adUnit,d=n.bidderRequests,c=n.index,u=void 0===c?i.auctionManager.index:c,l=n.bidderRegistry,f=void 0===l?o.default.bidderRegistry:l,p=t.params,g=f[t.bidder];g&&g.getSpec().transformBidParams&&(s=s||u.getAdUnit(t),d=d||[r.bidderRequest],p=g.getSpec().transformBidParams(p,!0,s,d));p&&(0,a.deepSetValue)(e,"ext.prebid.bidder.".concat(t.bidder),p)};var n,i=r(43),o=(n=r(29))&&n.__esModule?n:{default:n},a=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertCurrency=o,t.currencyNormalizer=a,t.currencyCompare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return[e.cpm,e.currency]},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return(0,i.keyCompare)((function(r){return t.apply(null,e(r))}))};var n=r(8),i=r(133);function o(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t===r)return e;var o=e;try{o=(0,n.getGlobal)().convertCurrency(e,t,r)}catch(e){if(!i)throw e}return o}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return function(n,i){return null==e&&(e=i),r(n,i,e,t)}}},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.emitAdRenderFail=function(e){var t=e.reason,r=e.message,n=e.bid,a=e.id,s={reason:t,message:r};n&&(s.bid=n);a&&(s.adId=a);(0,i.logError)(r),o.emit(d,s)},t.emitAdRenderSucceeded=function(e){var t=e.doc,r=e.bid,n=e.id,i={doc:t};r&&(i.bid=r);n&&(i.adId=n);o.emit(c,i)};var n,i=r(0),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var s=((n=r(20))&&n.__esModule?n:{default:n}).default.EVENTS,d=s.AD_RENDER_FAILED,c=s.AD_RENDER_SUCCEEDED},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findRootDomain=t.coreStorage=void 0;var n=r(0),i=(0,r(34).getCoreStorageManager)("fpdEnrichment");t.coreStorage=i;var o=(0,n.memoize)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!i.cookiesAreEnabled())return e;var t,r,o=e.split(".");if(2===o.length)return e;var a=-2,s="_rdc".concat(Date.now()),d="writeable";do{t=o.slice(a).join(".");var c=new Date((0,n.timestamp)()+1e4).toUTCString();i.setCookie(s,d,c,"Lax",t,void 0);var u=i.getCookie(s,void 0);u===d?(r=!1,i.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(a+=-1,r=Math.abs(a)<=o.length)}while(r);return t}));t.findRootDomain=o},function(e,t,r){var n=r(440);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceObserver=void 0;var n,i=r(5),o=(n=r(453))&&n.__esModule?n:{default:n};const a=(0,i.dom)().window.PerformanceObserver||o.default;t.PerformanceObserver=a},function(e,t,r){var n=r(155),i=r(119),o=r(203);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t){e.exports=/<%=([\s\S]+?)%>/g},function(e,t){e.exports=function(e){return e}},function(e,t,r){r(21),r(373),r(376),r(378),r(379),r(99),r(380),r(381),r(382),r(433),r(447),r(448),r(449),r(450),r(451),r(452),r(454),r(458),r(459),r(460),r(463),r(465),r(479),r(481),r(482),r(483),r(486),r(487),r(488),r(493),r(494),r(495),r(496),r(497),r(498),r(499),r(500),e.exports=r(501)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(135)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,r){var n=r(27),i=r(183),o=r(38),a=r(30),s=r(86),d=r(185);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),i=d(t),c=i.length,u=0;c>u;)o.f(e,r=i[u++],n[r]);return e}},function(e,t,r){var n=r(2),i=r(28),o=r(37),a=r(140),s=r(112),d=r(270),c=r(22),u=n.TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,n=s(e,l);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!o(r)||a(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),d(e,t)}},function(e,t,r){var n=r(2),i=r(28),o=r(16),a=r(37),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&o(r=e.toString)&&!a(n=i(r,e)))return n;if(o(r=e.valueOf)&&!a(n=i(r,e)))return n;if("string"!==t&&o(r=e.toString)&&!a(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},function(e,t,r){var n=r(67);e.exports=n("document","documentElement")},function(e,t,r){var n=r(2),i=r(16),o=r(145),a=n.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},function(e,t,r){var n=r(35),i=r(274),o=r(146),a=r(38);e.exports=function(e,t,r){for(var s=i(t),d=a.f,c=o.f,u=0;u<s.length;u++){var l=s[u];n(e,l)||r&&n(r,l)||d(e,l,c(t,l))}}},function(e,t,r){var n=r(67),i=r(12),o=r(148),a=r(191),s=r(30),d=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?d(t,r(e)):t}},function(e,t,r){var n=r(13),i=r(16),o=/#|\.prototype\./,a=function(e,t){var r=d[s(e)];return r==u||r!=c&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},d=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t,r){var n=r(13);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(2),i=r(16),o=n.String,a=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},function(e,t,r){var n=r(106),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},function(e,t,r){"use strict";r(280);var n=r(12),i=r(57),o=r(149),a=r(13),s=r(22),d=r(55),c=s("species"),u=RegExp.prototype;e.exports=function(e,t,r,l){var f=s(e),p=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!p||!g||r){var m=n(/./[f]),v=t(f,""[e],(function(e,t,r,i,a){var s=n(e),d=t.exec;return d===o||d===u.exec?p&&!a?{done:!0,value:m(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(u,f,v[1])}l&&d(u[f],"sham",!0)}},function(e,t,r){"use strict";var n=r(56),i=r(149);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,r){var n={};n[r(22)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){"use strict";var n=r(30);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(13),i=r(2).RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||n((function(){return!i("a","y").sticky})),s=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},function(e,t,r){var n=r(13),i=r(2).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,r){var n=r(13),i=r(2).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,r){"use strict";var n=r(150).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(12),i=r(44),o=Math.floor,a=n("".charAt),s=n("".replace),d=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,l,f){var p=r+e.length,g=n.length,m=u;return void 0!==l&&(l=i(l),m=c),s(f,m,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return d(t,0,r);case"'":return d(t,p);case"<":c=l[d(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>g){var f=o(u/10);return 0===f?i:f<=g?void 0===n[f-1]?a(s,1):n[f-1]+a(s,1):i}c=n[u-1]}return void 0===c?"":c}))}},function(e,t,r){var n=r(2),i=r(28),o=r(30),a=r(16),s=r(107),d=r(149),c=n.TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var n=i(r,e,t);return null!==n&&o(n),n}if("RegExp"===s(e))return i(d,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t){e.exports=function(e,t,r){if(!e)return r;var n,i;Array.isArray(t)&&(n=t.slice(0));"string"==typeof t&&(n=t.split("."));"symbol"==typeof t&&(n=[t]);if(!Array.isArray(n))throw new Error("props arg must be an array, a string or a symbol");for(;n.length;){if(i=n.shift(),!e)return r;if(void 0===(e=e[i]))return r}return e}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(151),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),d=Array(s);++a<s;)d[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=r(d),n(e,this,c)}}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(195),i=r(68);e.exports=function e(t,r,o,a,s,d){return i(t)&&i(r)&&(d.set(r,t),n(t,r,void 0,e,d),d.delete(r)),t}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(116),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(116);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(116);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(116);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(300),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(302)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var d=a[e?s:++i];if(!1===r(o[d],d,o))break}return t}}},function(e,t,r){var n=r(196),i=r(197),o=r(306),a=r(199),s=r(200),d=r(311),c=r(118),u=r(312),l=r(156),f=r(202),p=r(68),g=r(203),m=r(204),v=r(205),b=r(315);e.exports=function(e,t,r,y,h,I,S){var E=v(e,r),A=v(t,r),_=S.get(A);if(_)n(e,r,_);else{var w=I?I(E,A,r+"",e,t,S):void 0,O=void 0===w;if(O){var T=c(A),C=!T&&l(A),x=!T&&!C&&m(A);w=A,T||C||x?c(E)?w=E:u(E)?w=a(E):C?(O=!1,w=i(A,!0)):x?(O=!1,w=o(A,!0)):w=[]:g(A)||d(A)?(w=E,d(E)?w=b(E):p(E)&&!f(E)||(w=s(A))):O=!1}O&&(S.set(A,w),h(w,A,y,I,S),S.delete(A)),n(e,r,w)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(85))},function(e,t,r){var n=r(307);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(308);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(198).Uint8Array;e.exports=n},function(e,t,r){var n=r(68),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(313),i=r(119);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(202),i=r(314);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(79),i=r(92);e.exports=function(e){return n(e,i(e))}},function(e,t,r){"use strict";e.exports={getStackTrace:function(){let e="";try{throw new Error("")}catch(t){e=t.stack+""||""}return e}}},function(e,t){d.SYNC=1,d.ASYNC=2,d.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r},o=4===function(e,t){return t}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,r=a(arguments,1);return function(){return t.apply(e,r.concat(a(arguments)))}};function a(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return i.call(a(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function d(e){var t,c={},u=[];function l(e,t){return"function"==typeof e?m.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?m.apply(null,arguments):"object"==typeof e?f.apply(null,arguments):void 0}function f(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=m(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function p(e){var r=Array.isArray(e)?e:e.split(".");return i.call(r,(function(n,i,o){var a=n[i],s=!1;return a||(o===r.length-1?(t||u.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),n[i]=g((function(e){n[i]=e,s=!0}))):n[i]={})}),c)}function g(e){var t=[],r=[],i=function(){},o={before:function(e,r){return d.call(this,t,"before",e,r)},after:function(e,t){return d.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{s(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},a={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(o.after,a),o;function d(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function m(r,i,c){var l=i.after&&n.get(i.after);if(l){if(l.type!==r)throw"fun-hooks: recreated hookable with different type";return i}var f,m,v=c?p(c):g(),b={get:function(e,t){return v[t]||Reflect.get.apply(Reflect,arguments)}};return t||u.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?m=new Proxy(i,b):(m=function(){return b.apply?b.apply(i,this,a(arguments)):i.apply(this,arguments)},s(m,v)),n.get(m.after).install(r,m,(function(e,t){if(e.length||t.length){var n;if("sync"===r){var i,a="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(i=d(t,"a","n(function extract(s){r=s},e)")),e.length&&(a=d(e,"b","n(function extract(){"+a+";"+i+"},e)"),i=""),n=["var r,e={bail:function(a){r=a}}",a,i,"return r"].join(";")}else"async"===r&&(n="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+d(t,"a","z?n(z,e):[]")+"))",e.length&&(n="n(function partial(){"+n+"},e)"),n=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",d(e,"b",n)].join(";"));f=o.call(new Function("i,b,a,n,t,h,g",n),null,o,e,t,s)}else f=void 0;function d(e,t,n){for(var i=e.length;i-- >0;)0!==i||"async"===r&&"a"===t?(n="i.call("+t+"["+i+"].hook, h,"+n+")","async"===r&&"a"===t&&0===i||(n="n("+n+",e)")):n=t+"["+i+"].hook.apply(h,["+n+("b"===t?"].concat(g))":",r])");return n}y()})),m;function y(){!t&&("sync"!==r||e.ready&d.SYNC)&&("async"!==r||e.ready&d.ASYNC)?"sync"!==r&&e.ready&d.QUEUE?b.apply=function(){var e=arguments;u.push((function(){m.apply(e[1],e[2])}))}:b.apply=function(){throw"fun-hooks: hooked function not ready"}:b.apply=f}}return(e=s({},r,e)).ready?l.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(u)}:t=!0,l.get=p,l}e.exports=d},function(e,t){e.exports=function(e,t){var r={};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var n in e)e.hasOwnProperty&&!e.hasOwnProperty(n)||-1===t.indexOf(n)&&(r[n]=e[n]);return r}},function(e,t,r){var n=r(320);e.exports=function(e){return n(e,5)}},function(e,t,r){var n=r(115),i=r(321),o=r(206),a=r(322),s=r(323),d=r(197),c=r(199),u=r(324),l=r(326),f=r(213),p=r(328),g=r(214),m=r(329),v=r(330),b=r(200),y=r(118),h=r(156),I=r(331),S=r(68),E=r(332),A=r(120),_=r(92),w="[object Arguments]",O="[object Function]",T="[object Object]",C={};C[w]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[O]=C["[object WeakMap]"]=!1,e.exports=function e(t,r,x,P,R,D){var k,j=1&r,N=2&r,M=4&r;if(x&&(k=R?x(t,P,R,D):x(t)),void 0!==k)return k;if(!S(t))return t;var B=y(t);if(B){if(k=m(t),!j)return c(t,k)}else{var U=g(t),L=U==O||"[object GeneratorFunction]"==U;if(h(t))return d(t,j);if(U==T||U==w||L&&!R){if(k=N||L?{}:b(t),!j)return N?l(t,s(k,t)):u(t,a(k,t))}else{if(!C[U])return R?t:{};k=v(t,U,j)}}D||(D=new n);var V=D.get(t);if(V)return V;D.set(t,k),E(t)?t.forEach((function(n){k.add(e(n,r,x,n,t,D))})):I(t)&&t.forEach((function(n,i){k.set(i,e(n,r,x,i,t,D))}));var z=B?void 0:(M?N?p:f:N?_:A)(t);return i(z||t,(function(n,i){z&&(n=t[i=n]),o(k,i,e(n,r,x,i,t,D))})),k}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(79),i=r(120);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(79),i=r(92);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(79),i=r(325);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(79),i=r(327);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringFlags=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.constructor===Array&&(e=(0,i.default)(e).join(","));if(o[e])return o[e];const r=(0,i.default)(e.split(",")).reduce(a,{}),n={};for(const e in r)r.hasOwnProperty(e)&&("!"===e.charAt(0)?(e.indexOf("explicit")>=0?n.all=!0:e.indexOf("implicit")>=0&&(n.all=!1),n[e.replace("!","")]=!1):(e.indexOf("explicit")>=0?n.all=!1:e.indexOf("implicit")>=0&&(n.all=!0),n[e]=!0));return o[e]={string:e,specified:r,results:n,isEnabled:e=>s(e,n,t)},o[e]},r(17);var n,i=(n=r(334))&&n.__esModule?n:{default:n};const o={};function a(e,t){return e[t]=!0,e}function s(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0!==t[e]?t[e]:void 0!==t.implicit?t.implicit:void 0!==t.explicit?!t.explicit:void 0!==t.all?t.all:r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.default)(...arguments)},r(1);var n,i=(n=r(335))&&n.__esModule?n:{default:n}},function(e,t){e.exports=function(e,t,r){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a number or boolean for the second argument");if(null!=r&&"boolean"!=typeof r)throw new Error("expected a number or boolean for the third argument");if(!t&&r&&e[0]!==Object(e[0]))return function(e){for(var t={},r=e.length,n=0;n<r;n++)t[e[n]]=!0;return Object.keys(t)}(e);for(var n,i,o,a=[],s=e.length,d=0;d<s;d++){var c=e[d];"number"==typeof c&&isNaN(c)&&(n=i,i=!0),(n=n||o&&o===c)||t||(n=a.indexOf(c)>-1),n?n=!1:(a.push(c),o=c)}return a}},function(e,t){function r(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error("setting of prototype values not supported")}e.exports=function(e,t,n){"string"==typeof t&&(t=t.split("."));"symbol"==typeof t&&(t=[t]);var i,o=t.pop();if(!o)return!1;r(o);for(;i=t.shift();)if(r(i),void 0===e[i]&&(e[i]={}),!(e=e[i])||"object"!=typeof e)return!1;return e[o]=n,!0}},function(e,t,r){var n=r(115),i=r(338),o=r(343),a=r(344),s=r(214),d=r(118),c=r(156),u=r(204),l="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,v,b){var y=d(e),h=d(t),I=y?f:s(e),S=h?f:s(t),E=(I=I==l?p:I)==p,A=(S=S==l?p:S)==p,_=I==S;if(_&&c(e)){if(!c(t))return!1;y=!0,E=!1}if(_&&!E)return b||(b=new n),y||u(e)?i(e,t,r,m,v,b):o(e,t,I,r,m,v,b);if(!(1&r)){var w=E&&g.call(e,"__wrapped__"),O=A&&g.call(t,"__wrapped__");if(w||O){var T=w?e.value():e,C=O?t.value():t;return b||(b=new n),v(T,C,r,m,b)}}return!!_&&(b||(b=new n),a(e,t,r,m,v,b))}},function(e,t,r){var n=r(339),i=r(340),o=r(341);e.exports=function(e,t,r,a,s,d){var c=1&r,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var f=d.get(e),p=d.get(t);if(f&&p)return f==t&&p==e;var g=-1,m=!0,v=2&r?new n:void 0;for(d.set(e,t),d.set(t,e);++g<u;){var b=e[g],y=t[g];if(a)var h=c?a(y,b,g,t,e,d):a(b,y,g,e,t,d);if(void 0!==h){if(h)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(b===e||s(b,e,r,a,d)))return v.push(t)}))){m=!1;break}}else if(b!==y&&!s(b,y,r,a,d)){m=!1;break}}return d.delete(e),d.delete(t),m}},function(e,t,r){var n=r(118);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(342);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(213),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,a,s){var d=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!d)return!1;for(var l=u;l--;){var f=c[l];if(!(d?f in t:i.call(t,f)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=d;++l<u;){var b=e[f=c[l]],y=t[f];if(o)var h=d?o(y,b,f,t,e,s):o(b,y,f,e,t,s);if(!(void 0===h?b===y||a(b,y,r,o,s):h)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var I=e.constructor,S=t.constructor;I==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof I&&I instanceof I&&"function"==typeof S&&S instanceof S||(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expireAction=function(e,t){const r=(0,n.getExpiration)(e);r.isExpired?t():!e.forceUpdate&&i[e.id]||(i[e.id]=setTimeout((()=>{t()}),r.fromNowMs));return r};var n=r(217);const i={}},function(e,t,r){r(347)},function(e,t,r){"use strict";var n=r(56),i=r(44),o=r(49),a=r(54),s=r(87);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=o(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatConfigArrays=function(e,t){if((0,o.default)(t)&&(0,o.default)(e))return{};if((0,o.default)(t))return e;if((0,o.default)(e))return t;(0,i.default)(e,"bootstrap.renderScripts")&&(0,i.default)(t,"bootstrap.renderScripts")&&(e.bootstrap.renderScripts=(0,n.default)(e.bootstrap.renderScripts.concat(t.bootstrap.renderScripts),"id"));(0,i.default)(e,"bootstrap.renderImages")&&(0,i.default)(t,"bootstrap.renderImages")&&(e.bootstrap.renderImages=(0,n.default)(e.bootstrap.renderImages.concat(t.bootstrap.renderImages),"id"));(0,i.default)(e,"analytics.bidbarrel")&&(0,i.default)(t,"analytics.bidbarrel")&&(e.analytics.bidbarrel=(0,n.default)(e.analytics.bidbarrel.concat(t.analytics.bidbarrel),"id"));(0,i.default)(e,"analytics.prebid")&&(0,i.default)(t,"analytics.prebid")&&Array.isArray((0,i.default)(e,"analytics.prebid"))&&Array.isArray((0,i.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,n.default)(e.analytics.prebid.concat(t.analytics.prebid),"provider"):(0,i.default)(e,"analytics.prebid")&&(0,i.default)(t,"analytics.prebid")&&Array.isArray((0,i.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,n.default)([...(0,i.default)(t,"analytics.prebid"),(0,i.default)(e,"analytics.prebid")],"provider"):(0,i.default)(e,"analytics.prebid")&&(0,i.default)(t,"analytics.prebid")&&Array.isArray((0,i.default)(e,"analytics.prebid"))&&(e.analytics.prebid=(0,n.default)([...(0,i.default)(e,"analytics.prebid"),(0,i.default)(t,"analytics.prebid")],"provider"));(0,i.default)(e,"dynamicTargeting.rules")&&(0,i.default)(t,"dynamicTargeting.rules")&&(e.dynamicTargeting.rules=(0,n.default)(e.dynamicTargeting.rules.concat(t.dynamicTargeting.rules),"name"));if((0,i.default)(e,"video.getUnitSpec")&&(0,i.default)(t,"video.getUnitSpec")){const r=(0,a.createReduceMerger)();r.addConfig(t.video.getUnitSpec),r.addConfig(e.video.getUnitSpec),e.video.getUnitSpec=r.getMergeSet()}if((0,i.default)(e,"video.getSpec")&&(0,i.default)(t,"video.getSpec")){const r=(0,a.createReduceMerger)();r.addConfig(t.video.getSpec),r.addConfig(e.video.getSpec),e.video.getSpec=r.getMergeSet()}if((0,i.default)(e,"video.translateSpec")&&(0,i.default)(t,"video.translateSpec")){const r=(0,a.createReduceMerger)();r.addConfig(t.video.translateSpec),r.addConfig(e.video.translateSpec),e.video.translateSpec=r.getMergeSet()}if((0,i.default)(e,"video.getDefaultParamsOptions")&&(0,i.default)(t,"video.getDefaultParamsOptions")){const r=(0,a.createReduceMerger)();r.addConfig(t.video.getDefaultParamsOptions),r.addConfig(e.video.getDefaultParamsOptions),e.video.getDefaultParamsOptions=r.getMergeSet()}if(e&&e.dynamicBidders)for(const r in e.dynamicBidders)if(Object.prototype.hasOwnProperty.call(e.dynamicBidders,r))if("autoApplyBidders"!==r){const n=(0,a.createReduceMerger)();n.addConfig((0,i.default)(t,"dynamicBidders.".concat(r))||null),n.addConfig(e.dynamicBidders[r]),e.dynamicBidders[r]=n.getMergeSet()}else for(const r in e.dynamicBidders.autoApplyBidders)if(Object.prototype.hasOwnProperty.call(e.dynamicBidders.autoApplyBidders,r)){const n=(0,a.createReduceMerger)();n.addConfig((0,i.default)(t,"dynamicBidders.autoApplyBidders.".concat(r))||null),n.addConfig(e.dynamicBidders.autoApplyBidders[r]),e.dynamicBidders.autoApplyBidders[r]=n.getMergeSet()}return e},r(1);var n=s(r(349)),i=s(r(31)),o=s(r(45)),a=r(218);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;return e.filter((e=>{return n="function"==typeof t?t(e):e[t],!r.has(n)&&r.add(n);var n}))},r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.default)(...arguments)},r(1);var n,i=(n=r(351))&&n.__esModule?n:{default:n}},function(e,t){e.exports=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("expected both arguments to be arrays");for(var r=[],n=e.length,i=0;i<n;i++){var o=e[i];t.indexOf(o)>-1&&-1==r.indexOf(o)&&r.push(o)}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAbort=t.fetch=void 0;var n,i=r(5),o=(n=r(353))&&n.__esModule?n:{default:n};const a=void 0!==(0,i.dom)().window.AbortController,s=(0,i.dom)().window.fetch||o.default.default||o.default;t.fetch=s;t.fetchWithAbort=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=()=>!1;if(a){const e=new(0,(0,i.dom)().window.AbortController),n=e.signal;r=()=>e.abort(),t.signal=n}const n=s(e,t);return n.cancel=r,n}},function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return t=t||{},new Promise((function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},d=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:d,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),a.push([t,r]),s[t]=s[t]?s[t]+","+r:r})),r(d())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},function(e){e.exports=JSON.parse('{"us":["au","nz","us"],"ca":["ca"],"latam":["br","mx"],"emea":["af","ax","al","dz","ad","ao","am","at","az","bh","by","be","bj","ba","ba","bw","bv","bg","bf","bi","cm","cv","cf","td","km","ci","hr","cy","cz","cz","cd","dk","dj","eg","gq","er","ee","et","fk","fo","fi","fr","tf","ga","gm","ge","de","gh","gi","gr","gl","gg","gn","gw","hu","is","iq","ie","im","il","it","ci","je","jo","kz","ke","xk","kw","kg","lv","lb","ls","lr","ly","li","lt","lu","mk","mk","mg","mw","ml","mt","mr","mu","yt","md","mc","me","ma","mz","na","nl","ne","ng","no","om","ps","pl","pt","qa","cg","re","ro","ru","rw","sh","sm","st","sa","sn","rs","sc","sl","sk","si","so","za","gs","es","sd","sj","sz","se","ch","sy","tj","tz","tg","tn","tr","tm","ug","ua","ae","gb","uz","va","eh","ye","za","zm","zw"],"apac":["as","aq","bd","bt","io","bn","kh","cn","cx","cc","ck","fm","fj","pf","gu","hm","hk","in","id","ir","jp","ki","la","mo","my","mv","mh","fm","mn","mm","mm","mr","np","nc","nu","nf","kp","mp","pk","pw","pg","ph","pn","pn","pm","ws","sg","sb","kr","lk","tw","th","tl","tk","to","tv","um","vu","vn","wf"]}')},function(e){e.exports=JSON.parse('{"gam":{"advertiserIds":{"amazon":[40701249],"prebid":[4736223241,4782210656,4601135258,4778097280,4782945040,4650435032,4723722397,4777432019,4782935242]}},"refresh":{"eligibleAdvertiserIds":[25365849,74271009,58006449,40701249,77166969,77165049,37057689,57404889,78514569,30539289,73247289,27653889,35106969,46026969,25299489,24743529,71211729,74341569,81599889,74634489,38565369,59401089,80574729,74097369,82555689,4437422619,4579117585,4601135258,4650435032,4723722397,4736223241,4777432019,4778097280,4782210656,4782935242,4782945040,27137649]},"amazon":{"providerTranslations":{"16o47pc":"PubMatic","r4qy9s":"OpenX","1qnaz9c":"AppNexus","9dgxs0":"Rubicon","18w0yrk":"EMX","i93y0w":"DistrictM","1hrnz0g":"Facebook","htxj4":"Pulsepoint","100dyio":"MobFox","vkkge8":"Sovrn","1v34hds":"Centro","1dbugw0":"SpotX","moxg5c":"RhythmOne","1m7hh4w":"TripleLift","4xnfnk":"Smaato","14g7gn4":"Liftoff","ugm2v4":"C1X","1tz63uo":"Sonobi","cpc2dc":"lifestreet","1c7w3cw":"Comet","lkz2m8":"Verizon Media Group","1l3j3ls":"AdGeneration","3tp24g":"DMX","13c9340":"Yieldmo","ywfkzk":"Beachfront","1yezlz4":"GumGum","h55khs":"Conversant","1gnplhc":"Yahoo Japan","q0skqo":"PlatformOne","1pjclq8":"Kargo","89ik8w":"RhythmOne_UAM","17s2l8g":"Verve","s8pbsw":"InMobi","1rr9csg":"AdColony","ahfbb4":"SmartRTB+","19zzcao":"The Trade Desk","jd2bk0":"Adobe","1ivmcjk":"dataxu","u1a6m8":"9998880Bidder","r291xc":"Amazon","1129vy8":"AppNexus","afcv7k":"DistrictM","tal98g":"DMX","1itqg0":"EMX","1ycx5vk":"PubMatic","s6mvpc":"Pulsepoint","jazvgg":"Rubicon","wmgdts":"Smaato","12689hc":"Sonobi","1st5a80":"Yieldmo","lm7r64":"Amazon","105k2rk":"PubMatic","xxnbpc":"OpenX","1xg7cow":"AppNexus","g6db7k":"Rubicon","1foxc74":"EMX","p20bgg":"DistrictM","1okkcg0":"Facebook","7aqayo":"Pulsepoint","16taby8":"MobFox","thttkw":"Sovrn","1t0dukg":"Centro","1b93u2o":"SpotX","km6tc0":"RhythmOne","1k4qubk":"TripleLift","2uwsu8":"Smaato","12dgtts":"Liftoff","wtoy68":"C1X","1wc8z5s":"Sonobi","f2exog":"lifestreet","1ekyyo0":"Comet","ny1xxc":"Verizon Media - Marketplace","1nglyww":"AdGeneration","66rxfk":"DMX","15pbyf4":"Yieldmo","sdvg1s":"Beachfront","1rwfh1c":"GumGum","amlfk0":"Conversant","1a55gjk":"Yahoo Japan","ji8fsw":"PlatformOne","1j0sgsg":"Kargo","1qyfb4":"RhythmOne_UAM","119igao":"Verve","z1lp8g":"InMobi","1yk5q80":"AdColony","haboqo":"SmartRTB+","1gsvpq8":"The Trade Desk","q5yozk":"Adobe","1poipz4":"dataxu","8eoohs":"Verizon Media Group","j5l8n4":"AdsTxtTestBidder","x8bu2o":"9998880Bidder","xv5fcw":"Amazon","c5cvls":"Undertone"}}}')},function(e,t,r){var n,i;!function(o){if(void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var d in o)o[d]&&(s+="; "+d,!0!==o[d]&&(s+="="+o[d].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),d=s.slice(1).join("=");r||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var c=t(s[0]);if(d=(n.read||n)(d,c)||t(d),r)try{d=JSON.parse(d)}catch(e){}if(i[c]=d,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}))},function(e,t){e.exports=function(e,t){var r={};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var n=t.length,i=0;i<n;i++){var o=t[i];o in e&&(r[o]=e[o])}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitHasElement=function(e){const t="string"==typeof e?e:e.code;return!!(0,n.dom)().window.document.getElementById(t)};var n=r(5)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5),i=r(33),o=s(r(121)),a=s(r(31));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){let t,r=[],s=!1;function d(){if(s)return;const d="string"==typeof e?(0,a.default)((0,n.dom)().window,e):e();"undefined"===d||(0,o.default)(t,d)||(t=(0,i.cloneDeep)(d),function(){for(let e=0;e<r.length;e++){(0,r[e])(t)}}())}return d(),{check:d,onChange:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipInitialRun:!1};return!t||n&&("object"!=typeof n||n.skipInitialRun)||e(t),r.push(e),()=>{r=r.filter((t=>t===e))}},getResult:function(){return t},cancel:function(){s=!0}}};t.default=d},function(e,t,r){var n=r(115),i=r(216);e.exports=function(e,t,r,o){var a=r.length,s=a,d=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=r[a];if(d&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=r[a])[0],l=e[u],f=c[1];if(d&&c[2]){if(void 0===l&&!(u in e))return!1}else{var p=new n;if(o)var g=o(l,f,u,e,t,p);if(!(void 0===g?i(f,l,3,o,p):g))return!1}}return!0}},function(e,t,r){var n=r(362),i=r(120);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(68);e.exports=function(e){return e==e&&!n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(80))&&n.__esModule?n:{default:n},o=r(5);var a=(0,i.default)((function(e){if(!(0,o.dom)().window.document.createElement)return{};const t=(0,o.dom)().window.document.createElement("a");return t.href=e,t}));t.default=a},function(e,t,r){"use strict";r(365);var n,i=r(56),o=r(27),a=r(224),s=r(2),d=r(82),c=r(12),u=r(57),l=r(366),f=r(124),p=r(35),g=r(367),m=r(368),v=r(164),b=r(150).codeAt,y=r(371),h=r(77),I=r(76),S=r(227),E=r(228),A=r(60),_=A.set,w=A.getterFor("URL"),O=E.URLSearchParams,T=E.getState,C=s.URL,x=s.TypeError,P=s.parseInt,R=Math.floor,D=Math.pow,k=c("".charAt),j=c(/./.exec),N=c([].join),M=c(1..toString),B=c([].pop),U=c([].push),L=c("".replace),V=c([].shift),z=c("".split),q=c("".slice),F=c("".toLowerCase),G=c([].unshift),W="Invalid scheme",H="Invalid host",Y="Invalid port",X=/[a-z]/i,J=/[\d+-.a-z]/i,K=/\d/,Q=/^0x/i,$=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)G(t,e%256),e=R(e/256);return N(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=M(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=g({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),de=g({},se,{"#":1,"?":1,"{":1,"}":1}),ce=g({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var r=b(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},le={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var r;return 2==e.length&&j(X,k(e,0))&&(":"==(r=k(e,1))||!t&&"|"==r)},pe=function(e){var t;return e.length>1&&fe(q(e,0,2))&&(2==e.length||"/"===(t=k(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===F(e)},me={},ve={},be={},ye={},he={},Ie={},Se={},Ee={},Ae={},_e={},we={},Oe={},Te={},Ce={},xe={},Pe={},Re={},De={},ke={},je={},Ne={},Me=function(e,t,r){var n,i,o,a=h(e);if(t){if(i=this.parse(a))throw x(i);this.searchParams=null}else{if(void 0!==r&&(n=new Me(r,!0)),i=this.parse(a,null,n))throw x(i);(o=T(new O)).bindURL(this),this.searchParams=o}};Me.prototype={type:"URL",parse:function(e,t,r){var i,o,a,s,d,c=this,u=t||me,l=0,f="",g=!1,b=!1,y=!1;for(e=h(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=L(e,ne,"")),e=L(e,ie,""),i=m(e);l<=i.length;){switch(o=i[l],u){case me:if(!o||!j(X,o)){if(t)return W;u=be;continue}f+=F(o),u=ve;break;case ve:if(o&&(j(J,o)||"+"==o||"-"==o||"."==o))f+=F(o);else{if(":"!=o){if(t)return W;f="",u=be,l=0;continue}if(t&&(c.isSpecial()!=p(le,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&le[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=Ce:c.isSpecial()&&r&&r.scheme==c.scheme?u=ye:c.isSpecial()?u=Ee:"/"==i[l+1]?(u=he,l++):(c.cannotBeABaseURL=!0,U(c.path,""),u=ke)}break;case be:if(!r||r.cannotBeABaseURL&&"#"!=o)return W;if(r.cannotBeABaseURL&&"#"==o){c.scheme=r.scheme,c.path=v(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,u=Ne;break}u="file"==r.scheme?Ce:Ie;continue;case ye:if("/"!=o||"/"!=i[l+1]){u=Ie;continue}u=Ae,l++;break;case he:if("/"==o){u=_e;break}u=De;continue;case Ie:if(c.scheme=r.scheme,o==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query=r.query;else if("/"==o||"\\"==o&&c.isSpecial())u=Se;else if("?"==o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query="",u=je;else{if("#"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.path.length--,u=De;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=v(r.path),c.query=r.query,c.fragment="",u=Ne}break;case Se:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,u=De;continue}u=_e}else u=Ae;break;case Ee:if(u=Ae,"/"!=o||"/"!=k(f,l+1))continue;l++;break;case Ae:if("/"!=o&&"\\"!=o){u=_e;continue}break;case _e:if("@"==o){g&&(f="%40"+f),g=!0,a=m(f);for(var I=0;I<a.length;I++){var S=a[I];if(":"!=S||y){var E=ue(S,ce);y?c.password+=E:c.username+=E}else y=!0}f=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(g&&""==f)return"Invalid authority";l-=m(f).length+1,f="",u=we}else f+=o;break;case we:case Oe:if(t&&"file"==c.scheme){u=Pe;continue}if(":"!=o||b){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return H;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",u=Re,t)return;continue}"["==o?b=!0:"]"==o&&(b=!1),f+=o}else{if(""==f)return H;if(s=c.parseHost(f))return s;if(f="",u=Te,t==Oe)return}break;case Te:if(!j(K,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=f){var A=P(f,10);if(A>65535)return Y;c.port=c.isSpecial()&&A===le[c.scheme]?null:A,f=""}if(t)return;u=Re;continue}return Y}f+=o;break;case Ce:if(c.scheme="file","/"==o||"\\"==o)u=xe;else{if(!r||"file"!=r.scheme){u=De;continue}if(o==n)c.host=r.host,c.path=v(r.path),c.query=r.query;else if("?"==o)c.host=r.host,c.path=v(r.path),c.query="",u=je;else{if("#"!=o){pe(N(v(i,l),""))||(c.host=r.host,c.path=v(r.path),c.shortenPath()),u=De;continue}c.host=r.host,c.path=v(r.path),c.query=r.query,c.fragment="",u=Ne}}break;case xe:if("/"==o||"\\"==o){u=Pe;break}r&&"file"==r.scheme&&!pe(N(v(i,l),""))&&(fe(r.path[0],!0)?U(c.path,r.path[0]):c.host=r.host),u=De;continue;case Pe:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&fe(f))u=De;else if(""==f){if(c.host="",t)return;u=Re}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",u=Re}continue}f+=o;break;case Re:if(c.isSpecial()){if(u=De,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=n&&(u=De,"/"!=o))continue}else c.fragment="",u=Ne;else c.query="",u=je;break;case De:if(o==n||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(d=F(d=f))||"%2e."===d||".%2e"===d||"%2e%2e"===d?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||U(c.path,"")):ge(f)?"/"==o||"\\"==o&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&fe(f)&&(c.host&&(c.host=""),f=k(f,0)+":"),U(c.path,f)),f="","file"==c.scheme&&(o==n||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)V(c.path);"?"==o?(c.query="",u=je):"#"==o&&(c.fragment="",u=Ne)}else f+=ue(o,de);break;case ke:"?"==o?(c.query="",u=je):"#"==o?(c.fragment="",u=Ne):o!=n&&(c.path[0]+=ue(o,ae));break;case je:t||"#"!=o?o!=n&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":ue(o,ae)):(c.fragment="",u=Ne);break;case Ne:o!=n&&(c.fragment+=ue(o,se))}l++}},parseHost:function(e){var t,r,n;if("["==k(e,0)){if("]"!=k(e,e.length-1))return H;if(t=function(e){var t,r,n,i,o,a,s,d=[0,0,0,0,0,0,0,0],c=0,u=null,l=0,f=function(){return k(e,l)};if(":"==f()){if(":"!=k(e,1))return;l+=2,u=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=r=0;r<4&&j(ee,f());)t=16*t+P(f(),16),l++,r++;if("."==f()){if(0==r)return;if(l-=r,c>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;l++}if(!j(K,f()))return;for(;j(K,f());){if(o=P(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;l++}d[c]=256*d[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;d[c++]=t}else{if(null!==u)return;l++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=d[c],d[c--]=d[u+a-1],d[u+--a]=s;else if(8!=c)return;return d}(q(e,1,-1)),!t)return H;this.host=t}else if(this.isSpecial()){if(e=y(e),j(te,e))return H;if(t=function(e){var t,r,n,i,o,a,s,d=z(e,".");if(d.length&&""==d[d.length-1]&&d.length--,(t=d.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=d[n]))return e;if(o=10,i.length>1&&"0"==k(i,0)&&(o=j(Q,i)?16:8,i=q(i,8==o?1:2)),""===i)a=0;else{if(!j(10==o?Z:8==o?$:ee,i))return e;a=P(i,o)}U(r,a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=D(256,5-t))return null}else if(a>255)return null;for(s=B(r),n=0;n<r.length;n++)s+=r[n]*D(256,3-n);return s}(e),null===t)return H;this.host=t}else{if(j(re,e))return H;for(t="",r=m(e),n=0;n<r.length;n++)t+=ue(r[n],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(le,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,d=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=oe(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(c+="?"+s),null!==d&&(c+="#"+d),c},setHref:function(e){var t=this.parse(e);if(t)throw x(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(h(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(h(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ue(t[r],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(h(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ue(t[r],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,we)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getPort:function(){var e=this.port;return null===e?"":h(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=h(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=h(e))?this.query=null:("?"==k(e,0)&&(e=q(e,1)),this.query="",this.parse(e,je)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=h(e))?("#"==k(e,0)&&(e=q(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=f(this,Ue),r=S(arguments.length,1)>1?arguments[1]:void 0,n=_(t,new Me(e,!1,r));o||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ue=Be.prototype,Le=function(e,t){return{get:function(){return w(this)[e]()},set:t&&function(e){return w(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(l(Ue,"href",Le("serialize","setHref")),l(Ue,"origin",Le("getOrigin")),l(Ue,"protocol",Le("getProtocol","setProtocol")),l(Ue,"username",Le("getUsername","setUsername")),l(Ue,"password",Le("getPassword","setPassword")),l(Ue,"host",Le("getHost","setHost")),l(Ue,"hostname",Le("getHostname","setHostname")),l(Ue,"port",Le("getPort","setPort")),l(Ue,"pathname",Le("getPathname","setPathname")),l(Ue,"search",Le("getSearch","setSearch")),l(Ue,"searchParams",Le("getSearchParams")),l(Ue,"hash",Le("getHash","setHash"))),u(Ue,"toJSON",(function(){return w(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return w(this).serialize()}),{enumerable:!0}),C){var Ve=C.createObjectURL,ze=C.revokeObjectURL;Ve&&u(Be,"createObjectURL",d(Ve,C)),ze&&u(Be,"revokeObjectURL",d(ze,C))}I(Be,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Be})},function(e,t,r){"use strict";var n=r(150).charAt,i=r(77),o=r(60),a=r(188),s="String Iterator",d=o.set,c=o.getterFor(s);a(String,"String",(function(e){d(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(190),i=r(38);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},function(e,t,r){"use strict";var n=r(27),i=r(12),o=r(28),a=r(13),s=r(185),d=r(191),c=r(189),u=r(44),l=r(105),f=Object.assign,p=Object.defineProperty,g=i([].concat);e.exports=!f||a((function(){if(n&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||s(f({},t)).join("")!=i}))?function(e,t){for(var r=u(e),i=arguments.length,a=1,f=d.f,p=c.f;i>a;)for(var m,v=l(arguments[a++]),b=f?g(s(v),f(v)):s(v),y=b.length,h=0;y>h;)m=b[h++],n&&!o(p,v,m)||(r[m]=v[m]);return r}:f},function(e,t,r){"use strict";var n=r(2),i=r(82),o=r(28),a=r(44),s=r(369),d=r(225),c=r(162),u=r(49),l=r(226),f=r(163),p=r(125),g=n.Array;e.exports=function(e){var t=a(e),r=c(this),n=arguments.length,m=n>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,n>2?arguments[2]:void 0));var b,y,h,I,S,E,A=p(t),_=0;if(!A||this==g&&d(A))for(b=u(t),y=r?new this(b):g(b);b>_;_++)E=v?m(t[_],_):t[_],l(y,_,E);else for(S=(I=f(t,A)).next,y=r?new this:[];!(h=o(S,I)).done;_++)E=v?s(I,m,[h.value,_],!0):h.value,l(y,_,E);return y.length=_,y}},function(e,t,r){var n=r(30),i=r(370);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},function(e,t,r){var n=r(28),i=r(30),o=r(112);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},function(e,t,r){"use strict";var n=r(2),i=r(12),o=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",c=n.RangeError,u=i(s.exec),l=Math.floor,f=String.fromCharCode,p=i("".charCodeAt),g=i([].join),m=i([].push),v=i("".replace),b=i("".split),y=i("".toLowerCase),h=function(e){return e+22+75*(e<26)},I=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},S=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=p(e,r++);if(i>=55296&&i<=56319&&r<n){var o=p(e,r++);56320==(64512&o)?m(t,((1023&i)<<10)+(1023&o)+65536):(m(t,i),r--)}else m(t,i)}return t}(e);var r,n,i=e.length,a=128,s=0,u=72;for(r=0;r<e.length;r++)(n=e[r])<128&&m(t,f(n));var v=t.length,b=v;for(v&&m(t,"-");b<i;){var y=o;for(r=0;r<e.length;r++)(n=e[r])>=a&&n<y&&(y=n);var S=b+1;if(y-a>l((o-s)/S))throw c(d);for(s+=(y-a)*S,a=y,r=0;r<e.length;r++){if((n=e[r])<a&&++s>o)throw c(d);if(n==a){for(var E=s,A=36;;){var _=A<=u?1:A>=u+26?26:A-u;if(E<_)break;var w=E-_,O=36-_;m(t,f(h(_+w%O))),E=l(w/O),A+=36}m(t,f(h(E))),u=I(s,S,b==v),s=0,b++}}s++,a++}return g(t,"")};e.exports=function(e){var t,r,n=[],i=b(v(y(e),s,"."),".");for(t=0;t<i.length;t++)r=i[t],m(n,u(a,r)?"xn--"+S(r):r);return g(n,".")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adIdentifier=void 0;var n=r(14),i=r(3),o=r(10),a=r(98),s=l(r(7)),d=l(r(51)),c=r(39),u=r(19);function l(e){return e&&e.__esModule?e:{default:e}}const f={prebid:(e,t,r)=>({cpm:parseFloat(t.slot.getTargeting("hb_pb"))})},{IDENTIFIED:p}=s.default.EVENTS,g=function(){let e={};function t(t,r){const s=function(e,t){const r=parseInt(t.advertiserId),n=t.slot;let i=n.getTargeting("hb_bidder"),a=n.getTargeting("amznp");i.length>0&&(i=i[0]);if(a.length>0){const e=(0,o.getConfig)("identity.amazon.providerTranslations");a=(e[a[0]]?e[a[0]]:a[0]).toLowerCase()}const s={prebid:{provider:"prebid",subprovider:i},amazon:{provider:"amazon",subprovider:a}};let d={provider:"google",subprovider:"unknown"};const c=(0,o.getConfig)("identity.gam.advertiserIds");for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e)){c[e].indexOf(r)>=0&&(d=s[e])}return d}(0,r);"prebid"===s.provider&&(s.bid=a.bidCache.getLatestPendingBid(t.code));let c={...s,code:t.code};c.size="prebid"===c.provider&&c.bid?c.bid.size.split("x").map(Number):r.size,c.gpt={advertiserId:r.advertiserId,orderId:r.campaignId,creativeId:r.creativeId,lineId:r.lineItemId,size:r.size};const u=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="display";t.size&&"5x5"===t.size.join("x")&&(i="skybox");("native"===n.mediaType||t.size&&"11x11"===t.size.join("x")||"prebid"===r.provider&&"medianet"===r.subprovider)&&(i="native");(t.size&&"6x6"===t.size.join("x")||n&&"6x6"===n.size||"prebid"===r.provider&&"kargo"===r.subprovider||("gumgum"===r.subprovider||"undertone"===r.subprovider)&&e.code.indexOf("omni")>=0)&&(i="adhesion");t.size&&"7x7"===t.size.join("x")&&(i="flex");return i}(t,r,s,c.bid||{});c.type=u;const l=function(e,t,r){if("medianet"===r.subprovider){const e=a.bidCache.getAllBids()[t.slot.getTargeting("hb_adid")].creativeId.toString(),r=e.substr(3,parseInt(e.charAt(2)));return(0,o.getConfig)("identity.medianet.providerIds")[r]||r}return null}(0,r,s);var g,m;c.dsp=l,f[c.vendor]&&(c={...c,...f[c.vendor](t,r,c)}),e[c.code]&&(c={...c,...e[c.code]},e=(0,d.default)(e,[c.code])),i.bbLogger.logInfo("Ad Identified",t.code,c),n.eventEmitter.emit((g=c,m=t.code,["".concat(p),"".concat(m,".").concat(p),"".concat(p,".").concat(g.type),"".concat(m,".").concat(p,".").concat(g.type)]),c,t,r)}return u.exposureApi.expose({selfIdentify:function(t){t.code&&(0,c.makeSafe)((()=>{e[t.code]=t,n.eventEmitter.on("".concat(t.code,".slotRenderEnded"),(()=>{setTimeout((()=>{e=(0,d.default)(e,[t.code])}),50)}),!0)}))}},!0),{setupListeners:function(){n.eventEmitter.on("rendered",t)}}}();t.adIdentifier=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optanon=t.optanonBase=void 0,r(1),r(17);var n=r(46),i=r(95),o=r(3),a=r(21),s=A(r(51)),d=A(r(31)),c=r(71),u=r(223),l=r(5),f=r(62),p=r(99),g=r(10),m=r(14),v=A(r(45)),b=A(r(26)),y=r(220),h=r(219),I=r(70),S=A(r(7)),E=r(81);function A(e){return e&&e.__esModule?e:{default:e}}const{OPTANON:_}=S.default.MODULES,w=function(){let e=!1;const t=[],r=[],S=(0,i.runQueue)("consentGiven"),A=(0,i.runQueue)("npaFlagSet");let w,O={};function T(e){(0,l.dom)().window.cbsoptanon.cmd.push((t=>{t.ot.addOnConsentChangedHandler((()=>{t.ads.getNpaFlag((t=>{e(0==t)}))}))}))}function C(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,l.dom)().window.cbsoptanon.config.settings&&(0,l.dom)().window.cbsoptanon.config.settings.tfcd||!1;o.bbLogger.logInfo("Optanon tfcd",n),n&&(t=!1,(0,g.setConfig)("coppa",1),o.bbLogger.logInfo("Optanon tfcd=true, setting consentGiven=false and coppa=1")),e=t,(0,g.setConfig)("consent",e),o.bbLogger.logInfo("Consent Given",e),p.gptModule.setPrivacyFlags(!!e,!!n),x(),e&&!0!==a.moduleManager.gateways.isOpen("consentGiven")&&a.moduleManager.gateways.open("consentGiven"),!0!==a.moduleManager.gateways.isOpen("npaFlagSet")&&a.moduleManager.gateways.open("npaFlagSet"),r||(m.eventEmitter.emit("consentReady",e),T((t=>{o.bbLogger.logInfo("Consent Changed",t),e||C(t,!0),m.eventEmitter.emit("consentChanged",t)})))}function x(){if(!(0,g.getConfig)("clientInfo.data.country"))try{const e=I.storage.getCookie("OptanonConsent",!1);if(e){const t=e.split("&").reduce(((e,t)=>{const[r,n]=t.split("=");return e[r]=n,e}),{});let r=t.geolocation.toLowerCase(),n=null;if(t.geolocation.indexOf(";")>=0){const[e,i]=t.geolocation.toLowerCase().split(";");r=e,n=i}let i=t.datestamp.split("+").find((e=>e.indexOf("GMT")>=0));if(i){i=i.replace("GMT","");const e=i.charAt(0),t=parseInt(i.replace(e,""));i=e+t}const a=(0,g.getConfig)("clientInfo.data")||{},s={country:r,gmtOffset:i};n&&(s.region=n);const d=(0,b.default)(s,a);o.bbLogger.logInfo("Extracted ClientInfo from OptanonConsent cookie",s),(0,g.setConfig)("clientInfo.data",d)}}catch(e){o.bbLogger.logInfo("Unable to parse OptanonConsent cookie",e)}}function P(e){e&&"object"==typeof e&&!Array.isArray(e)&&(0,l.dom)().window.cbsoptanon.config.push(e)}return{onConsentGiven:S.push,onNpaFlagSet:A.push,name:_,register:function(){var i,o,m,v,b;(0,g.setConfig)("consent",!1),(0,l.dom)().window.googletag=(0,l.dom)().window.googletag||{},(0,l.dom)().window.googletag.cmd=(0,l.dom)().window.googletag.cmd||[],i=["onIframesReady","onFormsReady","onScriptsReady","onAdsReady"],o=(0,l.dom)().window,v="cmd",b="config",o[m="cbsoptanon"]=o[m]?o[m]:{},o[m][v]=o[m][v]?o[m][v]:[],o[m][b]=o[m][b]?o[m][b]:[],i.forEach((function(e){o[m][e]=o[m][e]||function(){var t=arguments;o[m][v].push((function(){o[m][e].apply(o[m],t)}))}})),a.moduleManager.gateways.register("consentGiven"),a.moduleManager.gateways.register("npaFlagSet"),a.moduleManager.gateways.onOpen((()=>{A.run(e?0:1)}),"npaFlagSet"),a.moduleManager.gateways.onOpen((()=>{S.run(e)}),"consentGiven"),c.renderScript.before(((e,r)=>{t.indexOf(r.id)>=0||(0,d.default)(r,"filter.requiresConsent",!1)?S.push((()=>e(r))):e(r)}),1),u.renderImage.before(((e,t)=>{r.indexOf(t.id)>=0||(0,d.default)(t,"filter.requiresConsent",!1)?S.push((()=>e(t))):e(t)}),1),y.cookieStorageEngine.setCookie.before((function(t){if(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t(...n)}else t(null)}),1),y.cookieStorageEngine.raw.setValue.before((function(t){if(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t(...n)}else t(null)}),1),y.cookieStorageEngine.getCookie.before((function(t){if(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t(...n)}else t(null)}),1),y.cookieStorageEngine.raw.getValue.before((function(t){if(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t(...n)}else t(null)}),1),h.localStorageEngine.raw.setValue.before((function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e?t(...n):S.push((()=>h.localStorageEngine.raw.setValue(...n)))}),1),h.localStorageEngine.raw.getValue.before((function(t){if(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t(...n)}else t(null)}),1),f.setInitialPageTargeting.before((function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e?t(r,n):(S.push((()=>{w(),t(r,!0)})),w=A.push((()=>t(r,n))))}),1),p.gptModule.enableGoogletagServices.before((e=>{A.push((()=>e()))}),1),n.auction.before(((e,t)=>{A.push((()=>e(t)))}),1),(0,l.dom)().window.cbsoptanon.cmd.push((e=>{e.gpp.get((e=>{}))})),(0,l.dom)().window.cbsoptanon.cmd.push((e=>{!function(e){const t=(0,d.default)(e,"constants.VERSION.major"),r=(0,d.default)(e,"constants.VERSION.minor");return t&&r&&t>=1&&r>=1}(e)?(0,l.dom)().window.cbsoptanon.onAdsReady(((e,t)=>{C(0==t.npaFlag)})):(0,l.dom)().window.cbsoptanon.cmd.push((e=>{e.ot.awaitOneTrustSettings().then((function(){e.ot.targetingAllowed((e=>{C(e)}))}))}))})),(0,g.getConfig)("optanon",(e=>{O=e,P((0,s.default)(e,["scriptUrls","renderScript"]))}))},initialize:function(){(0,v.default)(O)&&(O=(0,g.getConfig)("optanon"),P((0,s.default)(O,["scriptUrls","renderScript"]))),(0,g.getConfig)("optanon.renderScript")&&(0,c.renderScript)({async:!0,id:"bb-cbsoptanon",shouldRender:()=>0===(0,l.dom)().window.document.querySelectorAll("script[src*='cdn.privacy.paramount.com']").length,src:(0,E.isStagingEnv)()?O.scriptUrls.dev:O.scriptUrls.prod})}}}();t.optanonBase=w;const O=a.moduleManager.register(w);t.optanon=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adRefresh=void 0;var n,i=r(14),o=r(99),a=r(10),s=(n=r(7))&&n.__esModule?n:{default:n},d=r(3),c=r(5);const{AD_VIEWABLE:u,AD_LOADED:l,AD_VISIBILITY_CHANGED:f}=s.default.EVENTS,p=function(){const e={},t=(0,d.logger)({name:"refresh",bgColor:"#008080",textColor:"#FFF"});let r={};function n(e){const t=e.getResponseInformation(),r={elementId:e.getSlotElementId()};return r.advertiserId=t&&t.advertiserId||"",r.creativeId=t&&t.creativeId||"",r.isBackfill=t&&!!t.isBackfill,r.lineItemId=t&&t.lineItemId||"",r}function s(r){const n=r.target.id;e[n]&&(e[n].disableRefresh=!0,clearTimeout(e[n].interval),t.atVerbosity(3).logInfo("Pausing display unit refresh due to mouse interaction :",n))}function p(n){const i=n.target.id,o=e[i],a=r.refreshRateAdvertiserIdOverrides[""+o.advertiserId]||r.defaultRefreshRate;e[i]&&(o.disableRefresh=!1,o.interval=o.interval||0,clearTimeout(o.interval),o.interval=setTimeout((function(){g(o.slot,i)}),a),t.atVerbosity(3).logInfo("Resuming display unit refresh :",i))}function g(n,i){const a=e[i],s=a.inViewPercentage,d=r.minimumViewPercentage||50,c=r.refreshRateAdvertiserIdOverrides[""+a.advertiserId]||r.defaultRefreshRate;+s>d&&function(e){const r=document.querySelector("#"+e);if(null===r)return!1;const n=window.getComputedStyle(r),i={x:r.getBoundingClientRect().left+r.offsetWidth/2,y:r.getBoundingClientRect().top+r.offsetHeight/2};let o=document.elementFromPoint(i.x,i.y);if("none"===n.display)return t.atVerbosity(3).logInfo("Refresh skipped, element's display is set to 'none' :",e),!1;if("visible"!==n.visibility)return t.atVerbosity(3).logInfo("Refresh skipped, element's visibility is not set to 'visible' :",e),!1;if(n.opacity<.1)return t.atVerbosity(3).logInfo("Refresh skipped, element's opacity is less than 0 :",e),!1;if(0===r.offsetHeight||0===r.offsetHeight)return t.atVerbosity(3).logInfo("Refresh skipped, element's height or width is set to 0 :",e),!1;if(i.x<0)return t.atVerbosity(3).logInfo("Refresh skipped, element's x-coordinate is off screen:",e),!1;if(i.x>(document.documentElement.clientWidth||window.innerWidth))return t.atVerbosity(3).logInfo("Refresh skipped, element's x-coordinate is off screen:",e),!1;if(i.y<0)return t.atVerbosity(3).logInfo("Refresh skipped, element's y-coordinate is off screen:",e),!1;if(i.y>(document.documentElement.clientHeight||window.innerHeight))return t.atVerbosity(3).logInfo("Refresh skipped, element's y-coordinate is off screen:",e),!1;do{if(o===r)return t.atVerbosity(3).logInfo("Refresh enabled, this element is visible to the user :",e),!0}while(null!==(o=o.parentNode));return t.atVerbosity(3).logInfo("Refresh skipped, no visible element at this element's coordinates is in the viewport :",e),!1}(i)&&!a.disableRefresh?(t.atVerbosity(3).logInfo("'"+i+"' is "+s+"% in-view, refreshing..."),o.gptModule.refreshSlot(n)):(a.interval=a.interval||0,clearTimeout(a.interval),a.interval=setTimeout((function(){g(n,a.elementId)}),c))}return(0,a.getConfig)("refresh",(o=>{r=o,r.enabled&&(window.utag_data=window.utag_data||{},window.utag_data.mii=window.utag_data.mii||{},window.utag_data.mii.refresh="0",i.eventEmitter.on(l,(r=>function(r){const i=r.slot,o=n(i);-1!==((0,a.getConfig)("identity.refresh.eligibleAdvertiserIds")||[]).indexOf(+o.advertiserId)?(t.logInfo("Setting up supported unit for refresh",o),e[o.elementId]=function(e,t){const r={};let n=null;return r.slot=e,r.inViewPercentage=-1,r.targeting=t.targeting,r.elementId=t.elementId,r.advertiserId=t.advertiserId,r.creativeId=t.creativeId,r.isBackfill=t.isBackfill,r.lineItemId=t.lineItemId,r.disableRefresh=!1,n=(0,c.dom)().window.document.getElementById(t.elementId),n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",p),r}(i,o)):t.atVerbosity(3).logInfo("'"+o.elementId+"' is not eligible for refresh, skipping refresh setup.")}(r))),i.eventEmitter.on(u,(i=>function(i){const o=i.slot,a=n(o),s=e[a.elementId];if(s){const e=r.refreshRateAdvertiserIdOverrides[""+s.advertiserId]||r.defaultRefreshRate;t.atVerbosity(3).logInfo("Ad unit impression registered, counting down to refresh in "+e/1e3+" seconds.",s),s.interval=s.interval||0,clearTimeout(s.interval),s.interval=setTimeout((function(){g(o,s.elementId)}),e)}}(i))),i.eventEmitter.on(f,(r=>function(r){const i=r.inViewPercentage,o=n(r.slot).elementId;e[o]&&(e[o].inViewPercentage=i,t.atVerbosity(3).logInfo("Updating unit in-view percentage :",o,i))}(r))))})),{}}();t.adRefresh=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adReauction=void 0;var n,i=r(14),o=r(99),a=r(10),s=(n=r(7))&&n.__esModule?n:{default:n},d=r(3),c=r(5),u=r(46);const{AD_VIEWABLE:l,AD_LOADED:f,AD_VISIBILITY_CHANGED:p}=s.default.EVENTS,g=function(){const e={},t=(0,d.logger)({name:"reauction",bgColor:"#008080",textColor:"#FFF"});let r={};function n(e){const t=e.getResponseInformation(),r={elementId:e.getSlotElementId()};return r.advertiserId=t&&t.advertiserId||"",r.creativeId=t&&t.creativeId||"",r.isBackfill=t&&!!t.isBackfill,r.lineItemId=t&&t.lineItemId||"",r}function s(r){const n=r.target.id;e[n]&&(e[n].disableRefresh=!0,clearTimeout(e[n].interval),t.atVerbosity(3).logInfo("Pausing display unit refresh due to mouse interaction :",n))}function g(n){const i=n.target.id,o=e[i],a=r.refreshRateAdvertiserIdOverrides[""+o.advertiserId]||r.defaultRefreshRate;e[i]&&(o.disableRefresh=!1,o.interval=o.interval||0,clearTimeout(o.interval),o.interval=setTimeout((function(){m(o.slot,i)}),a),t.atVerbosity(3).logInfo("Resuming display unit refresh :",i))}function m(n,i){const a=e[i],s=a.inViewPercentage,d=r.minimumViewPercentage||50,c=r.refreshRateAdvertiserIdOverrides[""+a.advertiserId]||r.defaultRefreshRate,l=a.bbSlot.targeting||{};a.interval=a.interval||0,clearTimeout(a.interval),+s>d&&function(e){const r=document.querySelector("#"+e);if(null===r)return!1;const n=window.getComputedStyle(r),i={x:r.getBoundingClientRect().left+r.offsetWidth/2,y:r.getBoundingClientRect().top+r.offsetHeight/2};let o=document.elementFromPoint(i.x,i.y);if("none"===n.display)return t.atVerbosity(3).logInfo("Refresh skipped, element's display is set to 'none' :",e),!1;if("visible"!==n.visibility)return t.atVerbosity(3).logInfo("Refresh skipped, element's visibility is not set to 'visible' :",e),!1;if(n.opacity<.1)return t.atVerbosity(3).logInfo("Refresh skipped, element's opacity is less than 0 :",e),!1;if(0===r.offsetHeight||0===r.offsetHeight)return t.atVerbosity(3).logInfo("Refresh skipped, element's height or width is set to 0 :",e),!1;if(i.x<0)return t.atVerbosity(3).logInfo("Refresh skipped, element's x-coordinate is off screen:",e),!1;if(i.x>(document.documentElement.clientWidth||window.innerWidth))return t.atVerbosity(3).logInfo("Refresh skipped, element's x-coordinate is off screen:",e),!1;if(i.y<0)return t.atVerbosity(3).logInfo("Refresh skipped, element's y-coordinate is off screen:",e),!1;if(i.y>(document.documentElement.clientHeight||window.innerHeight))return t.atVerbosity(3).logInfo("Refresh skipped, element's y-coordinate is off screen:",e),!1;do{if(o===r)return t.atVerbosity(3).logInfo("Refresh enabled, this element is visible to the user :",e),!0}while(null!==(o=o.parentNode));return t.atVerbosity(3).logInfo("Refresh skipped, no visible element at this element's coordinates is in the viewport :",e),!1}(i)&&!a.disableRefresh?(t.atVerbosity(3).logInfo("'"+i+"' is "+s+"% in-view, re-auctioning..."),a.interval=a.interval||0,clearTimeout(a.interval),o.gptModule.destroySlots([i]),l.mivr=l.mivr&&++l.mivr||1,(0,u.auction)([a.bbSlot]),delete e[i]):a.interval=setTimeout((function(){m(n,a.elementId)}),c)}return(0,a.getConfig)("reauction",(o=>{r=o,r.enabled?(t.atVerbosity(3).logInfo("Enabling reauction functionality."),window.utag_data=window.utag_data||{},window.utag_data.mii=window.utag_data.mii||{},window.utag_data.mii.refresh="0",i.eventEmitter.on(f,(r=>function(r){const i=r.slot,o=n(i);-1!==((0,a.getConfig)("identity.refresh.eligibleAdvertiserIds")||[]).indexOf(+o.advertiserId)?(t.logInfo("Setting up supported unit for refresh",o),e[o.elementId]=function(e,t,r){const n=t&&t[t.elementId]||{};let i=null;return n.slot=e,n.inViewPercentage=-1,n.targeting=t.targeting,n.elementId=t.elementId,n.advertiserId=t.advertiserId,n.creativeId=t.creativeId,n.isBackfill=t.isBackfill,n.lineItemId=t.lineItemId,n.bbSlot=r,n.disableRefresh=!1,n.mivr=n.mivr&&n.mivr++||1,i=(0,c.dom)().window.document.getElementById(t.elementId),i.addEventListener("mouseenter",s),i.addEventListener("mouseleave",g),n}(i,o,r)):t.atVerbosity(3).logInfo("'"+o.elementId+"' is not eligible for refresh, skipping refresh setup.")}(r))),i.eventEmitter.on(l,(i=>function(i){const o=i.slot,a=n(o),s=e[a.elementId];if(s){const e=r.refreshRateAdvertiserIdOverrides[""+s.advertiserId]||r.defaultRefreshRate;t.atVerbosity(3).logInfo("Ad unit impression registered, counting down to refresh in "+e/1e3+" seconds.",s),s.interval=s.interval||0,clearTimeout(s.interval),s.interval=setTimeout((function(){m(o,s.elementId)}),e)}}(i))),i.eventEmitter.on(p,(r=>function(r){const i=r.inViewPercentage,o=n(r.slot).elementId;e[o]&&(e[o].inViewPercentage=i,t.atVerbosity(3).logInfo("Updating unit in-view percentage :",o,i))}(r)))):t.atVerbosity(3).logInfo("Reauction configuration not found, disabling...")})),{}}();t.adReauction=g},function(e,t,r){"use strict";r(377)},function(e,t,r){(function(t,r){(()=>{var n={15:e=>{e.exports=function(e,t,r){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a boolean, null or undefined for the second argument");if(null!=r&&"boolean"!=typeof r)throw new Error("expected a boolean, null or undefined for the third argument");if(!t&&r&&e[0]!==Object(e[0]))return function(e){for(var t={},r=e.length,n=0;n<r;n++)t[e[n]]=!0;return Object.keys(t)}(e);for(var n,i,o,a=[],s=e.length,d=0;d<s;d++){var c=e[d];"number"==typeof c&&isNaN(c)&&(n=i,i=!0),(n=n||o&&o===c)||t||(n=a.indexOf(c)>-1),n?n=!1:(a.push(c),o=c)}return a}},273:e=>{e.exports=function(e){function t(){try{return void 0!==e.localStorage}catch(e){return!1}}return{name:"localStorageDriver",getValue:function(r){return t()?JSON.parse(e.localStorage.getItem(r)):null},setValue:function(r,n){t()&&e.localStorage.setItem(r,JSON.stringify(n))}}}},351:(e,t,r)=>{const n=r(42),{getLocalWindow:i}=r(426),o={method:"POST"},a="fmscw_resp",s={name:"stubDriver - does nothing",getValue:()=>Promise.resolve(null),setValue:()=>Promise.resolve(!1)};e.exports={FMS:function(e,t){const r=t.storageDriver||s,d=t.url,c=["userid","idfv","ifa","subscriberid","emailhash","liveramp_idl"];function u(t){return n(t,e)}function l(e,t={}){return new Promise((r=>{const n=t;let a,s,u=!1;const l=n=>{const i=function(e,t){const r=Object.keys(e.identifiers);let n,i=r.sort(((e,t)=>c.indexOf(e)>c.indexOf(t)?-1:1))[0];e.app.coppa&&(n="7777777777",e.identifiers&&e.identifiers.userid?i="userid":e.identifiers&&!e.identifiers.userid&&(e[i]=n));const o=e.app&&e.app.googledai?"imafw_fms_":"fms_",a=e.app&&e.app.googledai?"imafw__fw_vcid2":"_fw_vcid2";return{_fmscw:{origin:"error"},fms_id_ttl:t||3600,fms_params:r.reduce(((t,r)=>(t[o+r]=void 0===n||"userid"===r?e.identifiers[r]:n,t)),{[a]:e.identifiers[i],[o+"vcid2type"]:i})}}(e,t.errorResponseTTL);f(i,e),u=!0,console.error(n),a&&clearTimeout(a),r(i)};if(n.timeout&&"number"==typeof n.timeout){const e=i().AbortController?new AbortController:{signal:void 0,abort:()=>!1,available:!1};!1!==e.available?(a=setTimeout((()=>{e.abort()}),n.timeout),n.signal=e.signal):a=setTimeout((()=>{l(new Error("FMS Lookup API request timeout exceeded ("+(Date.now()-s)+"ms)"))}),n.timeout)}s=Date.now();const{timeout:p,errorResponseTTL:g,url:m,...v}=n;i().fetch(n.url||d,{...o,body:JSON.stringify(e),...v}).then((e=>e.json())).then((t=>{console.log("FMS Lookup API successful ("+(Date.now()-s)+"ms)"),u||(a&&clearTimeout(a),f(t,e),r({_fmscw:{origin:"api"},...t}))})).catch((e=>{l(new Error("FMS Lookup API request aborted, likely a timeout ("+(Date.now()-s)+"ms)"))}))}))}function f(e,t){if(e.fms_id_ttl){const n=1e3*e.fms_id_ttl,i=Date.now()+n;try{r.setValue(a,{expires:i,params:t,value:e})}catch(e){console.error(e)}}}function p(e,t,r=null){if(!e&&!t)return!1;if(!e&&t)return!0;let n=!1;if(r&&Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];if(n=e[o]!==t[o],n)break}else if("object"==typeof t&&"object"==typeof e)for(const r in t)if(Object.hasOwnProperty.call(t,r)&&(n=e[r]!==t[r],n))break;return n}return{retrieve:async function(e,t={}){const n=u(e);if(void 0===n.app||void 0===n.app.coppa)throw new Error("fmscw.retrieve({...}) requires the passing of app.coppa to indicate if the page content is child directed.");const i=await async function(){const e=await r.getValue(a);return e?Date.now()>=e.expires?null:e:null}();let o;var s,f,g;return o=i?i.params&&(f=i.params,function(e,t){if(!t)return!0;const r=c,n=Math.max(...Object.keys(e).map((e=>r.indexOf(e)))),i=Math.max(...Object.keys(t).map((e=>r.indexOf(e))));return n>i}((g=n).identifiers,f.identifiers)||p(f.app,g.app)||p(f.device,g.device,["lat"]))?await l(n,{...t,url:(s=t.url||d,s+(s.indexOf("?")>=0?"&":"?")+`v=${Date.now()}`)}):{...i.value,_fmscw:{origin:"storage"}}:await l(n,t),o},getReqParams:u,storageDriver:r,apiUrl:d,IDENTIFIER_KEYS:c}},storageDriverStub:s}},42:(e,t,r)=>{const n=r(15);e.exports=function(e={},t={}){const r={},i=n([...Object.keys(e),...Object.keys(t)]);for(let n=0;n<i.length;n++){const o=i[n],a=t[o],s=e[o];r[o]="object"==typeof s&&"object"==typeof a?{...a,...s}:s||a}return r}},117:e=>{e.exports=function(e,t){if(!e||!e.cookie)return;const r=e.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return r?r[2]:void 0}},39:e=>{const t="imasdk.googleapis.com/js/sdkloader/ima3_dai.js";let r=0;e.exports={getDAI:function(e,n){if(0===r){if(void 0!==e.google&&e.google&&e.google.ima&&e.google.ima.dai)return r=1,r;let i=!1;void 0!==e.performance&&void 0!==e.performance.getEntriesByType&&(i=!!e.performance.getEntriesByType("resource").find((e=>e.name.indexOf(t)>=0))),!i&&n&&void 0!==e.performance&&void 0!==e.performance.getEntriesByType&&(i=!!n.performance.getEntriesByType("resource").find((e=>e.name.indexOf(t)>=0))),r=i?1:0}return r},DEFAULT_DAI:0,resetDai:function(){r=0}}},248:e=>{e.exports=function(e){return e.split(".").slice(-2).join(".")}},426:e=>{let r;e.exports={setLocalWindow:function(e={}){r=e},getLocalWindow:function(e){return e?r=e:r||"undefined"!=typeof window?r||(r=window):r=t,r}}},834:e=>{e.exports={getNPAFlag:async function(e){return new Promise((t=>{e.cbsoptanon&&e.cbsoptanon.cmd?e.cbsoptanon.cmd.push((r=>{r.constants.VERSION.major>=1&&r.constants.VERSION.minor>=1?r.ot.targetingAllowed((e=>{t(!e)})):e.cbsoptanon.onAdsReady(((e,r)=>{t(r.npaFlag)}))})):t(1)}))},DEFAULT_LAT:1}},486:e=>{let r;e.exports={getWindow:function(e){if(e&&(r=e),!r)if("undefined"==typeof window)r=t;else try{window.top.location.origin;r=window.top}catch(e){try{window.parent.location.origin;r=window.parent}catch(e){r=window}}return r},setWindow:function(e={}){r=e}}},552:(e,t,r)=>{const{FMS:n}=r(351),{getWindow:i}=r(486),{getLocalWindow:o}=r(426),a=r(738)(i(),o());o().FMS=n,i().fmscw=a,e.exports=a},738:(e,t,r)=>{const n=r(42),{FMS:i}=r(351),o=r(273),a=r(117),{getNPAFlag:s,DEFAULT_LAT:d}=r(834),c=r(248),{getDAI:u,DEFAULT_DAI:l}=r(39),f="_pubcid";e.exports=function(e,t=null){let r={device:{lat:d},app:{bundle:"",googledai:l},identifiers:{}},p=!1;const g=async function(){const t=await s(e);r.device.lat=t?1:0,!t&&a(f)&&(r.identifiers.userid=a(e.document,f));p=!0}(),m=i({app:{webhost:c(e.location.hostname),googledai:u(e,t),bundle:""},device:{ua:e.navigator.userAgent}},{storageDriver:o(e),url:"https://fms.viacomcbs.digital/lookup/bidbarrel"}),v=m.getReqParams;return m.getReqParams=function(e){return v(n(e,r))},{...m,retrieve:async function(i,o){return p||await g,void 0!==i&&void 0!==i.app&&void 0!==i.app.googledai||(r.app.googledai=u(e,t)),m.retrieve(n(i,r),o)}}}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e](r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab=r+"/";var a=o(552);e.exports=a})()}).call(this,r(85),"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geo=void 0,r(1);var n=r(3),i=r(95),o=y(r(45)),a=r(19),s=r(21),d=r(231),c=r(46),u=r(41),l=r(10),f=r(5),p=r(69),g=y(r(7)),m=r(40),v=r(71),b=y(r(31));function y(e){return e&&e.__esModule?e:{default:e}}const{GEOLOCATION:h}=g.default.MODULES,I=function(){const e={};let t=null,r=null,s=[],g=[],y={},I=null,S=!1;function E(t,i){t(i.map((t=>(t.bids=function(t,i){let a=P();if(e[i+a])return e[i+a];let s=[];Array.isArray(t)?s=t:"object"==typeof t&&void 0!==t[r]?s=t[r]:"object"==typeof t&&void 0!==t[y.failsafeRegionCode]?(n.bbLogger.logWarn(i,"Region not configured among bid set.",r,"Using fallback",y.failsafeRegionCode),s=t[y.failsafeRegionCode],a=y.failsafeRegionCode):("object"==typeof t&&(0,o.default)(t)||n.bbLogger.logWarn(i,"Unrecognized bids property",t),s=[]);return e[i+a]=s,s}(t.bids,t.code),t))))}function A(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!r){const e=Math.round(y.failsafeTimeout-((0,f.dom)().window.performance.now()-I));n.bbLogger.logInfo("Geolocation detection module intercepting auction request. Delaying until region can be determined. Failsafes will be applied in",e,"milleseconds, code:",y.failsafeCountryCode)}k((()=>{e(...i)}))}function _(e,t){const r=(0,b.default)(t,"filter.regions"),n=(0,b.default)(t,"filter.countries"),i=t;r?k((t=>{r.indexOf(t)>=0&&e(i)})):n?D((t=>{n.indexOf(t)>=0&&e(i)})):e(i)}function w(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(r||!r&&!t)&&(t=p.features.getValue("countryCode")||e,n.bbLogger.logInfo("Country Code Set:",t),O(T(),r),s.run(e))}function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(t||!t&&!r)&&(r=p.features.getValue("regionCode")||e,n.bbLogger.logInfo("Region Code Set:",r),(0,l.setConfig)("geo.regionCode",r),g.run())}function T(){if(t){let e=C(t);return e||(n.bbLogger.logWarn("Region code for country is not set (",t,") using failsafe:",y.failsafeCountryCode),e=C(y.failsafeCountryCode)),e}}function C(e){const t=(0,l.getConfig)("geo.regionDefinitions");for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(t[r].indexOf(e)>=0)return r}}function x(){return t}function P(){return r}function R(){return(0,l.getConfig)("geo.regionDefinitions")}function D(e){s.push(e)}function k(e){g.push(e)}let j=[];function N(){return j.length||(j=Object.values(R()).reduce(((e,t)=>e.concat(t)),[])),j}let M=[];return a.exposureApi.expose({getRegionCode:P,getRegionMappings:R,getMappedCountries:N,getMappedRegions:function(){return M.length||(M=Object.keys(R())),M},getCountryCode:x,onCountrySet:D,onRegionSet:k}),{initialize:function(){S||(S=!0,n.bbLogger.logInfo("Initializing Geolocation detection module",y),g=(0,i.runQueue)("onRegionSet",g,(0,n.debugOn)()),function(){const e=Object.keys(R()).find((e=>"us"===e));e&&(0,l.setConfig)("geo.overrideRegionCode",e);return e||y.overrideCountryCode||y.overrideRegionCode}()?function(){y.overrideRegionCode&&(R()[y.overrideRegionCode]?O(y.overrideRegionCode,!0):(n.bbLogger.logWarn("Region code for override is not mapped (",y.overrideRegionCode,") using failsafe as fallback:",y.failsafeRegionCode),O(y.failsafeRegionCode,!0)));y.overrideCountryCode&&(N().indexOf(y.overrideCountryCode)>=0?(s={push:e=>e(y.overrideCountryCode),run:()=>!1,cancel:()=>!1},w(y.overrideCountryCode,!0)):(n.bbLogger.logWarn("Country code for override is not mapped (",y.overrideCountryCode,") using failsafe as fallback:",y.failsafeCountryCode),s={push:e=>e(y.failsafeCountryCode),run:()=>!1,cancel:()=>!1},w(y.failsafeCountryCode,!0)))}():(s=(0,i.runQueue)("onCountrySet",s,(0,n.debugOn)()),d.clientInfo.getCountryCode(),(0,l.getConfig)("clientInfo.data.country",(e=>{s.run(e.toLowerCase())})),s.push((e=>{n.bbLogger.logInfo("Successfully applied the location code",e),w(e)})),function(){if(y.failsafeCountryCode&&y.failsafeTimeout)I=(0,f.dom)().window.performance.now(),setTimeout((()=>{t||(n.bbLogger.logInfo("Unable to successfully apply the country code. Using fail safe country code",y.failsafeCountryCode),w(y.failsafeCountryCode))}),y.failsafeTimeout);else{n.bbLogger.logError("Geo Module fail safe values not set correctly:",{failsafeCountryCode:y.failsafeCountryCode,failsafeTimeout:y.failsafeTimeout});const e=new Error("Geo Module fail safe values not set correctly:",JSON.stringify({failsafeCountryCode:y.failsafeCountryCode,failsafeTimeout:y.failsafeTimeout}));m.errorReporting.report(e)}}()),c.auction.before(A),u.getUnitCollection.after(E))},deregister:function(){c.auction.getHooks({hook:A}).remove(),u.getUnitCollection.getHooks({hook:E}).remove()},onRegionSet:k,onCountrySet:D,getRegionCode:P,getCountryCode:x,protected:!0,register:function(){(0,l.getConfig)("geo",(e=>{y=e})),v.renderScript.before(_)},name:h}}(),S=s.moduleManager.register(I);t.geo=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confiant=void 0,r(1);var n=r(14),i=r(21),o=r(71),a=r(5),s=m(r(7)),d=r(41),c=r(3),u=r(98),l=r(10),f=r(46),p=r(40),g=m(r(50));function m(e){return e&&e.__esModule?e:{default:e}}const{EVENTS:{BAD_BID:v,BAD_AD:b},MODULES:{CONFIANT:y}}=s.default,h=function(){let e=()=>!1;return{name:y,register:function(){var e,t;e="6NAGEHPQTIMciZyoLrUIDQZlmus",(t=(0,a.dom)().window).confiant=t.confiant||{},t.confiant[e]=t.confiant[e]||{clientSettings:{}},(window.confiant[e].clientSettings||(window.confiant[e].clientSettings={})).callback=function(e,t,r,i,o,a){try{const e=(0,d.getUnits)();let t;a&&a.prebid&&a.prebid.adId?(t=a.prebid.s,n.eventEmitter.emit(v,a.prebid.adId,e[a.prebid.s],u.bidCache.getBidByAdId(a.prebid.adId),...arguments)):t=a.dfp.s,c.bbLogger.atVerbosity(4).logInfo("Confiant Blocked an ad",e[t],arguments),n.eventEmitter.emit(b,e[t],...arguments)}catch(e){c.bbLogger.logError("Error in confiant bad ad detected callback",e);const t=new Error("Error in confiant bad ad detected callback. ".concat(JSON.stringify(e,g.default)));p.errorReporting.report(t)}},(0,o.renderScript)({src:"https://cdn.confiant-integrations.net/6NAGEHPQTIMciZyoLrUIDQZlmus/gpt_and_prebid/config.js",async:!0,id:"bb-confiant"})},initialize:function(){(0,l.getConfig)("confiant.badAdRefresh")&&(e=n.eventEmitter.on(b,(e=>{c.bbLogger.logInfo("Refreshing unit due to bad ad detected",e),(0,f.auction)([e.code])})))},deregister:function(){e()}}}(),I=i.moduleManager.register(h);t.confiant=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicBidders=void 0;var n=r(3),i=r(218),o=r(33),a=v(r(26)),s=r(21),d=r(41),c=r(10),u=r(46),l=v(r(7)),f=v(r(45)),p=r(40),g=v(r(50)),m=r(62);function v(e){return e&&e.__esModule?e:{default:e}}const{DYNAMIC_BIDDERS:b}=l.default.MODULES,y=function(){let e={},t={};function r(t){return e[t]||(e[t]={}),{dfpPath:(0,c.getConfig)("dfpPathObj"),regionCode:()=>(0,c.getConfig)("geo.regionCode")||"us",isMobile:u.isMobile,bidderContext:e[t],pageTargeting:(0,m.getPageTargeting)()}}function s(e,t,n,o){return(0,i.createReduceMerger)(e).processObject(n,{arguments:[t,r(o)]})}return{bidRequest:function(r){return r=r.map((e=>(e.bids=function(e,r){const i=[];for(let c=0;c<e.length;c++){const u=(0,o.cloneDeep)(e[c]);if(t[u.bidder])try{const e=s(t[u.bidder],(0,d.getUnits)()[r],u.params,u.bidder);if(e){const t=e=>{if(!e)return;const t={bidder:u.bidder,params:(0,a.default)({},e,u.params)};void 0!==t.params.included&&delete t.params.included,(0,f.default)(t.params)||i.push(t)};if(Array.isArray(e))for(let r=0;r<e.length;r++){t(e[r])}else t(e)}else n.bbLogger.atVerbosity(3).logInfo("Excluding bidder",u.bidder,"from",r,"dynamic bidder evaluated to falsy")}catch(e){n.bbLogger.atVerbosity(1).logError("Issue evaluating dynamic bidder for ad unit",r,e);const t=new Error("Issue evaluating dynamic bidder for ad unit. ".concat(JSON.stringify(e,g.default)));t.unit=r,p.errorReporting.report(t)}else i.push(u)}return i}(e.bids,e.code),e))),n.bbLogger.logInfo("Bidder Contexts:",JSON.parse(JSON.stringify(e))),e={},n.bbLogger.atVerbosity(1).logInfo("Applied Dynamic Bidders",r),r},register:function(){(0,c.getConfig)("dynamicBidders",(e=>{t=e}))},protected:!0,name:b}}(),h=s.moduleManager.register(y,null,{gate:"consentGiven"});t.dynamicBidders=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amazon=void 0,r(1);var n=r(3),i=r(158),o=r(71),a=r(32),s=r(33),d=w(r(80)),c=r(19),u=r(21),l=r(14),f=r(69),p=r(10),g=r(99),m=r(5),v=w(r(7)),b=r(41),y=r(61),h=w(r(93)),I=w(r(31)),S=w(r(194)),E=w(r(51)),A=r(40),_=w(r(50));function w(e){return e&&e.__esModule?e:{default:e}}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}const T=(0,n.logger)({name:"amazon",textColor:"#FFF",bgColor:"#f08804"}),{MODULES:{AMAZON_HEADER_BIDDING:C,GEOLOCATION:x,VIDEO:P},EVENTS:{HEADER_BIDDING_REQUEST:R,HEADER_BIDDING_RESPONSE:D},QUERY_PARAMS:{BID_SUPPRESS:k}}=v.default,j=6e5,N=function(){let e=!1,t=!1;const r=[];let n=[];const v={},w=(0,a.hookedFn)("sync",(()=>{T.atVerbosity(3).logInfo("Initialized"),function(){const e=(e,t)=>(0,m.dom)().window.apstag._Q.push([e,t]);(0,m.dom)().window.apstag=(0,m.dom)().window.apstag||{_Q:[],init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){}},(0,o.renderScript)({id:"bb-amazon",async:!0,src:"//c.amazon-adsystem.com/aax2/apstag.js"})}(),u.moduleManager.viaModule(P,(e=>{let{getVideoUnitParams:t}=e;t.before(M)})),i.requestManager.register("amazon")}));const N=(0,d.default)((e=>{const t=e.elementId||e.code,r={slotID:t,slotName:(0,p.getConfig)("dfpPathObj.string")+"/"+t};return e.isVideo?r.mediaType="video":r.sizes=e.getSizes().filter((e=>"string"!=typeof e&&n.indexOf(e.join("x"))>=0)),r}),(e=>(0,p.getConfig)("dfpPathObj.string")+(e.elementId||e.code)));function M(e,t,r,n){const i=(0,I.default)(n,"params.cust_params")||{},o=(0,E.default)(v[t.code],["timeout"]);(0,h.default)(n,"params.cust_params",(0,S.default)(o,i)),e(t,r,n)}function B(){return r}return c.exposureApi.expose({getAmazonBids:B}),{initialize:w,register:function(){(0,p.getConfig)("amazon.allowedSizes",(e=>{n=e.map((e=>e.join("x")))})),t||u.moduleManager.viaModule(x,(e=>{let{onRegionSet:r,getRegionCode:n}=e;t=!0;const i=()=>{let e={};(0,p.getConfig)("amazon.regionConfig.".concat(n()))&&(e=(0,p.getConfig)("amazon.regionConfig.".concat(n())),T.atVerbosity(3).logInfo("Applying region based config",e)),(0,p.setConfig)("amazon",{...(0,p.getConfig)("amazon"),...e})};n()?i():(T.atVerbosity(3).logInfo("Listening for region code"),r(i))}))},getAmazonBids:B,name:C,bidRequest:function(t){if(f.features.get(["".concat(k,".amazon"),"".concat(k,".all")]))return i.requestManager.done("amazon"),t;const[n,o]=function(e){const t=[],r=[];for(let n=0;n<e.length;n++){const i=e[n],o=(0,s.cloneDeep)(i);o.bids=[];for(let e=0;e<i.bids.length;e++){const r=i.bids[e];"amazon"!==r.bidder||f.features.get(["".concat(k,".").concat(i.code,".amazon"),"".concat(k,".").concat(i.code,".all")])?o.bids.push(r):"1"===r.params.included||!0===r.params.included?t.push(N(i)):t.push(O({},N(i),r.params))}r.push(o)}return[t,r]}(t);return n.length>0?function(t){new Promise(((n,o)=>{try{e||((0,m.dom)().window.apstag.init({pubID:(0,p.getConfig)("amazon.pubID"),timeout:(0,p.getConfig)("bidderTimeout"),adServer:(0,p.getConfig)("amazon.adServer")}),e=!0),T.atVerbosity(1).logMessage("Amazon - Fetching bids",t),(0,m.dom)().window.apstag.fetchBids({slots:t,timeout:(0,p.getConfig)("bidderTimeout")},(e=>{!function(e){r.push(e),T.atVerbosity(1).logInfo("Amazon - Bids Returned",e),g.gptModule.gptAction((t=>{(0,m.dom)().window.apstag.setDisplayBids();const r=function(e){const t=(0,b.getUnits)(),r=[];for(let n=0;n<e.length;n++){const{slotID:i,qsParams:o}=e[n];if(t[i].isVideo){const e=(0,y.urlQueryAsObject)("a?".concat(o));v[i]&&v[i].timeout&&clearTimeout(v[i].timeout),v[i]=e,v[i].timeout=setTimeout((()=>{v[i].amzniid&&v[i].amzniid===e.amzniid&&(v[i]={})}),j)}else r.push(e[n])}return r}(e);setTimeout((()=>{for(let e=0;e<r.length;e++){const t=r[e];if("2"!==t.amznbid){const e=g.gptModule.getSlotTargeting(t.slotID);if(e.amzniid===t.amzniid&&t.slotID&&e.amzniid===t.amzniid){const e=g.gptModule.getSlot(t.slotID);e&&(T.logInfo("Clearing Amazon Targeting on unit",t.slotID,t),e.clearTargeting(Object.keys(t)))}}}}),j),i.requestManager.done("amazon")}))}(e),l.eventEmitter.emit([D,"".concat(C,".").concat(D)],C,t,e),n(this)})),l.eventEmitter.emit([R,"".concat(C,".").concat(R)],C,t)}catch(e){T.atVerbosity(1).logError("Amazon Fetch Bids Error -",e.message);const t=new Error("Amazon Fetch Bids Error - ".concat(e.message,". ").concat(JSON.stringify(e,_.default)));A.errorReporting.report(t),i.requestManager.done("amazon"),o(e)}}))}(n):i.requestManager.done("amazon"),o}}}(),M=u.moduleManager.register(N,null,{gate:"consentGiven"});t.amazon=M},function(e,t,r){"use strict";r(9),r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.resetSyncedStatus=function(){C=0},t.resetWurlMap=function(){k={}},t.PrebidServer=B,t.processPBSRequest=t.s2sDefaultConfig=void 0;var n=r(8),i=E(r(233)),o=r(0),a=E(r(20)),s=S(r(29)),d=r(4),c=r(36),u=S(r(53)),l=r(15),f=r(421),p=r(72),g=r(24),m=r(175),v=r(422),b=r(48),y=r(65),h=r(66);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function E(e){return e&&e.__esModule?e:{default:e}}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}var _,w,O=d.config.getConfig,T=a.default.S2S.SRC,C=0,x={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};function P(e){if(e){var t=Array.isArray(e)?e:[e],r=[];return t.every((function(t,n,i){!function(e){["endpoint","syncEndpoint"].forEach((function(t){if((0,o.isStr)(e[t])){var r=e[t];e[t]={p1Consent:r,noP1Consent:r}}!(0,o.isPlainObject)(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((function(r){e[t][r]||(0,o.logWarn)("s2sConfig.".concat(t,".").concat(r," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e);var a=function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!f.S2S_VENDORS[t])return(0,o.logError)("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(f.S2S_VENDORS[t]).forEach((function(n){x[n]!==e[n]&&(0,l.includes)(r,n)||(e[n]=f.S2S_VENDORS[t][n])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t);if(!1!==a){var s=function(e){var t=Object.keys(e);if(["accountId","endpoint"].filter((function(e){return!(0,l.includes)(t,e)&&((0,o.logError)(e+" missing in server to server config"),!0)})).length>0)return!1}(t);if(!1!==s)return Array.isArray(t.bidders)&&(i[n].bidders=t.bidders.filter((function(e){return-1===r.indexOf(e)&&(r.push(e),!0)}))),!0}return(0,o.logWarn)("prebidServer: s2s config is disabled"),!1}))?_=t:void 0}}function R(e,t,r,n,i){if(_.length!==C){C++;var a={},s=O("userSync.filterSettings");if(s){var d=s.all,c=s.iframe||d,u=s.image||d;c&&(a=A({iframe:c},a)),u&&(a=A({image:u},a))}var l={uuid:(0,o.generateUUID)(),bidders:e,account:i.accountId,filterSettings:a},f=i.userSyncLimit;(0,o.isNumber)(f)&&f>0&&(l.limit=f),t&&(l.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(l.gdpr_consent=t.consentString)),r&&(l.us_privacy=r),n&&(l.gpp_sid=n.applicableSections.join(),l.gpp=n.gppString),"boolean"==typeof i.coopSync&&(l.coopSync=i.coopSync);var g=JSON.stringify(l);(0,p.ajax)(N(i.syncEndpoint,t),(function(e){try{D((e=JSON.parse(e)).bidder_status,i)}catch(e){(0,o.logError)(e)}}),g,{contentType:"text/plain",withCredentials:!0})}}function D(e,t){if(0!==e.length){var r=e.shift();r.no_cookie?function(e,t,r,n,i){i.syncUrlModifier&&"function"==typeof i.syncUrlModifier[r]&&(t=i.syncUrlModifier[r](e,t,r));!function(e,t,r,n,i){t?"image"===e||"redirect"===e?((0,o.logMessage)('Invoking image pixel user sync for bidder: "'.concat(r,'"')),(0,o.triggerPixel)(t,n,i)):"iframe"===e?((0,o.logMessage)('Invoking iframe user sync for bidder: "'.concat(r,'"')),(0,o.insertUserSyncIframe)(t,n,i)):((0,o.logError)('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):((0,o.logError)('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}(e,t,r,n,i.syncTimeout)}(r.usersync.type,r.usersync.url,r.bidder,D.bind(null,e,t),t):D(e,t)}}t.s2sDefaultConfig=x,d.config.setDefaults({s2sConfig:x}),O("s2sConfig",(function(e){return P(e.s2sConfig)}));var k={};function j(e){var t,r,n=function(e,t){if([e,t].every(o.isStr))return k["".concat(e).concat(t)]}(e.auctionId,e.adId);(0,o.isStr)(n)&&((0,o.logMessage)('Invoking image pixel for wurl on BID_WIN: "'.concat(n,'"')),(0,o.triggerPixel)(n),t=e.auctionId,r=e.adId,[t,r].every(o.isStr)&&(k["".concat(t).concat(r)]=void 0))}function N(e,t){return(0,m.hasPurpose1Consent)(t)?e.p1Consent:e.noP1Consent}function M(e){var t,r,n;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,r=e[0].uspConsent,n=e[0].gppConsent),{gdprConsent:t,uspConsent:r,gppConsent:n}}function B(){var e=new i.default("prebidServer");return e.callBids=function(e,t,r,n,i){var l=e.metrics=(0,b.useMetrics)((0,o.deepAccess)(t,"0.metrics")).newMetrics().renameWith((function(t){return["adapter.s2s.".concat(t),"adapters.s2s.".concat(e.s2sConfig.defaultVendor,".").concat(t)]}));n=l.startTiming("total").stopBefore(n),t.forEach((function(e){return(0,b.useMetrics)(e.metrics).join(l,{continuePropagation:!1})}));var f=M(t),p=f.gdprConsent,g=f.uspConsent,m=f.gppConsent;if(Array.isArray(_)){if(e.s2sConfig&&e.s2sConfig.syncEndpoint&&N(e.s2sConfig.syncEndpoint,p))R(e.s2sConfig.bidders.map((function(e){return s.default.aliasRegistry[e]||e})).filter((function(e,t,r){return r.indexOf(e)===t})),p,g,m,e.s2sConfig);U(e,t,i,{onResponse:function(r,i,o){r&&t.forEach((function(e){return u.emit(a.default.EVENTS.BIDDER_DONE,e)})),function(e,t){var r,n;return(null==e||null===(r=e.extPrebid)||void 0===r?void 0:r.returnallbidstatus)&&(null==t||null===(n=t.ext)||void 0===n?void 0:n.seatnonbid)}(e.s2sConfig,o)&&u.emit(a.default.EVENTS.SEAT_NON_BID,{seatnonbid:o.ext.seatnonbid,auctionId:t[0].auctionId,requestedBidders:i,response:o,adapterMetrics:l}),n(),function(e,t,r,n){e.forEach((function(e){var i=s.default.getBidAdapter(e);i&&i.registerSyncs&&d.config.runWithBidder(e,i.registerSyncs.bind(i,[],t,r,n))}))}(i,p,g,m)},onError:function(e,r){(0,o.logError)("Prebid server call failed: '".concat(e,"'"),r),t.forEach((function(e){return u.emit(a.default.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:e})})),n()},onBid:function(t){var n,i,s,d=t.adUnit,u=t.bid,l=u.metrics=e.metrics.fork().renameWith();l.checkpoint("addBidResponse"),null!=u.requestId&&null!=u.requestBidder||e.s2sConfig.allowUnknownBidderCodes?l.measureTime("addBidResponse.validate",(function(){return(0,c.isValid)(d,u)}))?(r(d,u),u.pbsWurl&&(n=u.auctionId,i=u.adId,s=u.pbsWurl,[n,i].every(o.isStr)&&(k["".concat(n).concat(i)]=s))):r.reject(d,u,a.default.REJECTION_REASON.INVALID):((0,o.logWarn)("PBS adapter received bid from unknown bidder (".concat(u.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),r.reject(d,u,a.default.REJECTION_REASON.BIDDER_DISALLOWED))},onFledge:function(e){var r=e.adUnitCode,n=e.config;(0,c.addComponentAuction)(t[0].auctionId,r,n)}})}},u.on(a.default.EVENTS.BID_WON,j),A(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:T})}var U=(0,g.hook)("sync",(function(e,t,r,n){var i=n.onResponse,a=n.onError,d=n.onBid,c=n.onFledge,u=M(t).gdprConsent,f=(0,o.deepClone)(e.ad_units),p=f.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(o.uniques)})).reduce(o.flatten,[]).filter(o.uniques),g=e.metrics.measureTime("buildRequests",(function(){return(0,v.buildPBSRequest)(e,t,f,p,w)})),m=g&&JSON.stringify(g);(0,o.logInfo)("BidRequest: "+m);var b=N(e.s2sConfig.endpoint,u);if(g&&m&&b){var I=e.metrics.startTiming("net");r(b,{success:function(t){var r;I();try{r=JSON.parse(t);var n=e.metrics.measureTime("interpretResponse",(function(){return(0,v.interpretPBSResponse)(r,g)})),a=n.bids,s=n.fledgeAuctionConfigs;a.forEach(d),s&&s.forEach(c)}catch(e){(0,o.logError)(e)}!r||r.status&&(0,l.includes)(r.status,"Error")?((0,o.logError)("error parsing response: ",r?r.status:"not valid JSON"),i(!1,p)):i(!0,p,r)},error:function(){I(),a.apply(this,arguments)}},m,{contentType:"text/plain",withCredentials:!0,browsingTopics:(0,y.isActivityAllowed)(h.ACTIVITY_TRANSMIT_UFPD,(0,s.s2sActivityParams)(e.s2sConfig))})}else(0,o.logError)("PBS request not made.  Check endpoints.")}),"processPBSRequest");t.processPBSRequest=U,(0,o.getPrebidInternal)().setEidPermissions=function(e){w=e},s.default.registerBidAdapter(new B,"prebidServer"),(0,n.registerModule)("prebidServerBidAdapter")},function(e,t,r){"use strict";var n=r(56),i=r(2),o=r(28),a=r(27),s=r(384),d=r(63),c=r(386),u=r(124),l=r(75),f=r(55),p=r(389),g=r(89),m=r(235),v=r(236),b=r(110),y=r(35),h=r(78),I=r(37),S=r(140),E=r(74),A=r(111),_=r(91),w=r(148).f,O=r(391),T=r(392).forEach,C=r(396),x=r(38),P=r(146),R=r(60),D=r(397),k=R.get,j=R.set,N=x.f,M=P.f,B=Math.round,U=i.RangeError,L=c.ArrayBuffer,V=L.prototype,z=c.DataView,q=d.NATIVE_ARRAY_BUFFER_VIEWS,F=d.TYPED_ARRAY_CONSTRUCTOR,G=d.TYPED_ARRAY_TAG,W=d.TypedArray,H=d.TypedArrayPrototype,Y=d.aTypedArrayConstructor,X=d.isTypedArray,J="BYTES_PER_ELEMENT",K="Wrong length",Q=function(e,t){Y(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},$=function(e,t){N(e,t,{get:function(){return k(this)[t]}})},Z=function(e){var t;return A(V,e)||"ArrayBuffer"==(t=h(e))||"SharedArrayBuffer"==t},ee=function(e,t){return X(e)&&!S(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=b(t),ee(e,t)?l(2,e[t]):M(e,t)},re=function(e,t,r){return t=b(t),!(ee(e,t)&&I(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?N(e,t,r):(e[t]=r.value,e)};a?(q||(P.f=te,x.f=re,$(H,"buffer"),$(H,"byteOffset"),$(H,"byteLength"),$(H,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,d=e+(r?"Clamped":"")+"Array",c="get"+e,l="set"+e,p=i[d],b=p,y=b&&b.prototype,h={},S=function(e,t){N(e,t,{get:function(){return function(e,t){var r=k(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=k(e);r&&(n=(n=B(n))<0?0:n>255?255:255&n),i.view[l](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};q?s&&(b=t((function(e,t,r,n){return u(e,y),D(I(t)?Z(t)?void 0!==n?new p(t,v(r,a),n):void 0!==r?new p(t,v(r,a)):new p(t):X(t)?Q(b,t):o(O,b,t):new p(m(t)),e,b)})),_&&_(b,W),T(w(p),(function(e){e in b||f(b,e,p[e])})),b.prototype=y):(b=t((function(e,t,r,n){u(e,y);var i,s,d,c=0,l=0;if(I(t)){if(!Z(t))return X(t)?Q(b,t):o(O,b,t);i=t,l=v(r,a);var f=t.byteLength;if(void 0===n){if(f%a)throw U(K);if((s=f-l)<0)throw U(K)}else if((s=g(n)*a)+l>f)throw U(K);d=s/a}else d=m(t),i=new L(s=d*a);for(j(e,{buffer:i,byteOffset:l,byteLength:s,length:d,view:new z(i)});c<d;)S(e,c++)})),_&&_(b,W),y=b.prototype=E(H)),y.constructor!==b&&f(y,"constructor",b),f(y,F,b),G&&f(y,G,d);var A=b!=p;h[d]=b,n({global:!0,constructor:!0,forced:A,sham:!q},h),J in b||f(b,J,a),J in y||f(y,J,a),C(d)}):e.exports=function(){}},function(e,t,r){var n=r(2),i=r(13),o=r(385),a=r(63).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,d=n.Int8Array;e.exports=!a||!i((function(){d(1)}))||!i((function(){new d(-1)}))||!o((function(e){new d,new d(null),new d(1.5),new d(e)}),!0)||i((function(){return 1!==new d(new s(2),1,void 0).length}))},function(e,t,r){var n=r(22)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(2),i=r(12),o=r(27),a=r(234),s=r(147),d=r(55),c=r(229),u=r(13),l=r(124),f=r(54),p=r(89),g=r(235),m=r(387),v=r(114),b=r(91),y=r(148).f,h=r(38).f,I=r(388),S=r(164),E=r(76),A=r(60),_=s.PROPER,w=s.CONFIGURABLE,O=A.get,T=A.set,C="ArrayBuffer",x="DataView",P="Wrong index",R=n.ArrayBuffer,D=R,k=D&&D.prototype,j=n.DataView,N=j&&j.prototype,M=Object.prototype,B=n.Array,U=n.RangeError,L=i(I),V=i([].reverse),z=m.pack,q=m.unpack,F=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return z(e,23,4)},X=function(e){return z(e,52,8)},J=function(e,t){h(e.prototype,t,{get:function(){return O(this)[t]}})},K=function(e,t,r,n){var i=g(r),o=O(e);if(i+t>o.byteLength)throw U(P);var a=O(o.buffer).bytes,s=i+o.byteOffset,d=S(a,s,s+t);return n?d:V(d)},Q=function(e,t,r,n,i,o){var a=g(r),s=O(e);if(a+t>s.byteLength)throw U(P);for(var d=O(s.buffer).bytes,c=a+s.byteOffset,u=n(+i),l=0;l<t;l++)d[c+l]=u[o?l:t-l-1]};if(a){var $=_&&R.name!==C;if(u((function(){R(1)}))&&u((function(){new R(-1)}))&&!u((function(){return new R,new R(1.5),new R(NaN),$&&!w})))$&&w&&d(R,"name",C);else{(D=function(e){return l(this,k),new R(g(e))}).prototype=k;for(var Z,ee=y(R),te=0;ee.length>te;)(Z=ee[te++])in D||d(D,Z,R[Z]);k.constructor=D}b&&v(N)!==M&&b(N,M);var re=new j(new D(2)),ne=i(N.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||c(N,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else k=(D=function(e){l(this,k);var t=g(e);T(this,{bytes:L(B(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,N=(j=function(e,t,r){l(this,N),l(e,k);var n=O(e).byteLength,i=f(t);if(i<0||i>n)throw U("Wrong offset");if(i+(r=void 0===r?n-i:p(r))>n)throw U("Wrong length");T(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)}).prototype,o&&(J(D,"byteLength"),J(j,"buffer"),J(j,"byteLength"),J(j,"byteOffset")),c(N,{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return H(K(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return H(K(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return q(K(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return q(K(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,F,t)},setUint8:function(e,t){Q(this,1,e,F,t)},setInt16:function(e,t){Q(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});E(D,C),E(j,x),e.exports={ArrayBuffer:D,DataView:j}},function(e,t,r){var n=r(2).Array,i=Math.abs,o=Math.pow,a=Math.floor,s=Math.log,d=Math.LN2;e.exports={pack:function(e,t,r){var c,u,l,f=n(r),p=8*r-t-1,g=(1<<p)-1,m=g>>1,v=23===t?o(2,-24)-o(2,-77):0,b=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(u=e!=e?1:0,c=g):(c=a(s(e)/d),e*(l=o(2,-c))<1&&(c--,l*=2),(e+=c+m>=1?v/l:v*o(2,1-m))*l>=2&&(c++,l/=2),c+m>=g?(u=0,c=g):c+m>=1?(u=(e*l-1)*o(2,t),c+=m):(u=e*o(2,m-1)*o(2,t),c=0));t>=8;)f[y++]=255&u,u/=256,t-=8;for(c=c<<t|u,p+=t;p>0;)f[y++]=255&c,c/=256,p-=8;return f[--y]|=128*b,f},unpack:function(e,t){var r,n=e.length,i=8*n-t-1,a=(1<<i)-1,s=a>>1,d=i-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;d>0;)l=256*l+e[c--],d-=8;for(r=l&(1<<-d)-1,l>>=-d,d+=t;d>0;)r=256*r+e[c--],d-=8;if(0===l)l=1-s;else{if(l===a)return r?NaN:u?-1/0:1/0;r+=o(2,t),l-=s}return(u?-1:1)*r*o(2,l-t)}}},function(e,t,r){"use strict";var n=r(44),i=r(141),o=r(49);e.exports=function(e){for(var t=n(this),r=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),d=a>2?arguments[2]:void 0,c=void 0===d?r:i(d,r);c>s;)t[s++]=e;return t}},function(e,t,r){var n=r(37),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t,r){var n=r(2),i=r(54),o=n.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw o("The argument can't be less than 0");return t}},function(e,t,r){var n=r(82),i=r(28),o=r(237),a=r(44),s=r(49),d=r(163),c=r(125),u=r(225),l=r(63).aTypedArrayConstructor;e.exports=function(e){var t,r,f,p,g,m,v=o(this),b=a(e),y=arguments.length,h=y>1?arguments[1]:void 0,I=void 0!==h,S=c(b);if(S&&!u(S))for(m=(g=d(b,S)).next,b=[];!(p=i(m,g)).done;)b.push(p.value);for(I&&y>2&&(h=n(h,arguments[2])),r=s(b),f=new(l(v))(r),t=0;r>t;t++)f[t]=I?h(b[t],t):b[t];return f}},function(e,t,r){var n=r(82),i=r(12),o=r(105),a=r(44),s=r(49),d=r(393),c=i([].push),u=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,l=6==e,f=7==e,p=5==e||l;return function(g,m,v,b){for(var y,h,I=a(g),S=o(I),E=n(m,v),A=s(S),_=0,w=b||d,O=t?w(g,A):r||f?w(g,0):void 0;A>_;_++)if((p||_ in S)&&(h=E(y=S[_],_,I),e))if(t)O[_]=h;else if(h)switch(e){case 3:return!0;case 5:return y;case 6:return _;case 2:c(O,y)}else switch(e){case 4:return!1;case 7:c(O,y)}return l?-1:i||u?u:O}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,r){var n=r(394);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},function(e,t,r){var n=r(2),i=r(395),o=r(162),a=r(37),s=r(22)("species"),d=n.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===d||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?d:t}},function(e,t,r){var n=r(107);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(67),i=r(38),o=r(22),a=r(27),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(16),i=r(37),o=r(91);e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},function(e,t,r){"use strict";var n=r(63),i=r(49),o=r(54),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=a(this),r=i(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},function(e,t,r){var n=r(109).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},function(e,t,r){var n=r(109);e.exports=/MSIE|Trident/.test(n)},function(e,t,r){var n=r(109).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},function(e,t,r){var n=r(239);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},function(e,t,r){"use strict";function n(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?r:typeof(n=s[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}r.r(t),r.d(t,"dset",(function(){return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetAuctionState=function(){k.length=0,[R,D].forEach((function(e){return Object.keys(e).forEach((function(t){delete e[t]}))}))},t.newAuction=function(e){var t=e.adUnits,r=e.adUnitCodes,n=e.callback,o=e.cbTimeout,a=e.labels,s=e.auctionId,d=e.ortb2Fragments,u=e.metrics;u=(0,S.useMetrics)(u);var l,f,p,g,m=t,v=a,E=r,A=s||(0,i.generateUUID)(),_=o,w=new Set,O=(0,I.defer)(),N=[],M=n,V=[],z=[],q=[],F=[],G=[];function W(){return{auctionId:A,timestamp:l,auctionEnd:f,auctionStatus:g,adUnits:m,adUnitCodes:E,labels:v,bidderRequests:V,noBids:q,bidsReceived:z,bidsRejected:N,winningBids:F,timeout:_,metrics:u,seatNonBids:G}}function H(e){if(e||clearTimeout(p),void 0===f){var r=[];e&&((0,i.logMessage)("Auction ".concat(A," timedOut")),(r=V.filter((function(e){return!w.has(e.bidderRequestId)})).flatMap((function(e){return e.bids}))).length&&b.emit(h.default.EVENTS.BID_TIMEOUT,r)),g=P,f=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),O.resolve(),b.emit(h.default.EVENTS.AUCTION_END,W()),U(m,(function(){try{if(null!=M){var n=z.filter((function(e){return E.includes(e.adUnitCode)})).reduce(ce,{});M.apply(j,[n,e,A]),M=null}}catch(e){(0,i.logError)("Error executing bidsBackHandler",null,e)}finally{r.length&&y.default.callTimedOutBidders(t,r,_);var o=c.config.getConfig("userSync")||{};o.enableOverride||T(o.syncDelay)}}))}}function Y(){c.config.resetBidder(),(0,i.logInfo)("Bids Received for Auction with id: ".concat(A),z),g=P,H(!1)}function X(e){w.add(e)}function J(e){var t=this;e.forEach((function(e){var t;t=e,V=V.concat(t)}));var r={},n={bidRequests:e,run:function(){p=setTimeout((function(){return H(!0)}),_),g=x,b.emit(h.default.EVENTS.AUCTION_INIT,W());var n=L(Y,t);y.default.callBids(m,e,n.addBidResponse,n.adapterDone,{request:function(e,t){a(R,t),a(r,e),D[e]||(D[e]={SRA:!0,origin:t}),r[e]>1&&(D[e].SRA=!1)},done:function(e){R[e]--,k[0]&&o(k[0])&&k.shift()}},_,X,d)}};function o(e){var t=!0,r=c.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===h.default.S2S.SRC?"s2s":e.bidderCode;return D[i]&&(!1===D[i].SRA&&(n=Math.min(e.bids.length,r)),R[D[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}o(n)||((0,i.logWarn)("queueing auction due to limited endpoint capacity"),k.push(n))}return b.on(h.default.EVENTS.SEAT_NON_BID,(function(e){var t;e.auctionId===A&&(t=e.seatnonbid,G=G.concat(t))})),{addBidReceived:function(e){z=z.concat(e)},addBidRejected:function(e){N=N.concat(e)},addNoBid:function(e){q=q.concat(e)},callBids:function(){g=C,l=Date.now();var e=u.measureTime("requestBids.makeRequests",(function(){return y.default.makeBidRequests(m,l,A,_,v,d,u)}));(0,i.logInfo)("Bids Requested for Auction with id: ".concat(A),e),u.checkpoint("callBids"),e.length<1?((0,i.logWarn)("No valid bid requests returned for auction"),Y()):B.call({dispatch:J,context:this},e)},addWinningBid:function(e){var r=t.find((function(t){return t.transactionId===e.transactionId}));F=F.concat(e),y.default.callBidWonBidder(e.adapterCode||e.bidder,e,t),r&&!r.deferBilling&&y.default.callBidBillableBidder(e)},setBidTargeting:function(e){y.default.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return F},getAuctionStart:function(){return l},getAuctionEnd:function(){return f},getTimeout:function(){return _},getAuctionId:function(){return A},getAuctionStatus:function(){return g},getAdUnits:function(){return m},getAdUnitCodes:function(){return E},getBidRequests:function(){return V},getBidsReceived:function(){return z},getNoBids:function(){return q},getNonBids:function(){return G},getFPD:function(){return d},getMetrics:function(){return u},end:O.promise}},t.auctionCallbacks=L,t.addBidToAuction=V,t.getMediaTypeGranularity=Q,t.getStandardBidderSettings=oe,t.getKeyValueTargetingPairs=ae,t.adjustBids=de,t.getPrimaryCatId=t.getDSP=t.getAdvertiserDomain=t.getCreativeId=t.getPriceByGranularity=t.getPriceGranularity=t.callPrebidCache=t.batchingCache=t.bidsBackCallback=t.addBidderRequests=t.responsesReady=t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0,r(1),r(64),r(9),r(126),r(416);var n=w(r(18)),i=r(0),o=r(241),a=r(83),s=r(417),d=r(52),c=r(4),u=r(127),l=r(24),f=r(15),p=r(103),g=r(25),m=r(43),v=r(58),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),y=w(r(29)),h=w(r(20)),I=r(42),S=r(48),E=r(245),A=r(8);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}var T=u.userSync.syncUsers,C="started";t.AUCTION_STARTED=C;var x="inProgress";t.AUCTION_IN_PROGRESS=x;var P="completed";t.AUCTION_COMPLETED=P,b.on(h.default.EVENTS.BID_ADJUSTMENT,(function(e){de(e)}));var R={},D={},k=[],j=(0,A.getGlobal)();var N=(0,l.hook)("sync",(function(e,t,r){this.dispatch.call(null,e,t)}),"addBidResponse");t.addBidResponse=N;var M=(0,l.hook)("sync",(function(e){return e}),"responsesReady");t.responsesReady=M;var B=(0,l.hook)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests");t.addBidderRequests=B;var U=(0,l.hook)("async",(function(e,t){t&&t()}),"bidsBackCallback");function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.index,a=(void 0===o&&m.auctionManager.index,0),s=!1,d=new Set,u={};function l(){a--,s&&0===a&&e()}function p(e,t,r){return u[t.requestId]=!0,J(t,e),a++,r(l)}function v(e,r){p(e,r,(function(e){var i=K(r);i.mediaType===g.VIDEO?z(t,i,e):(null!=i.native&&"object"===(0,n.default)(i.native)&&G(i),V(t,i),e())}))}function y(e,r,n){return p(e,r,(function(e){r.rejectionReason=n,(0,i.logWarn)("Bid from ".concat(r.bidder||"unknown bidder"," was rejected: ").concat(n),r),b.emit(h.default.EVENTS.BID_REJECTED,r),t.addBidRejected(r),e()}))}function S(){var r=t.getBidRequests(),n=c.config.getConfig("auctionOptions");if(d.add(this),n&&!(0,i.isEmpty)(n)){var o=n.secondaryBidders;o&&!r.every((function(e){return(0,f.includes)(o,e.bidderCode)}))&&(r=r.filter((function(e){return!(0,f.includes)(o,e.bidderCode)})))}s=r.every((function(e){return d.has(e)})),this.bids.forEach((function(e){u[e.bidId]||(t.addNoBid(e),b.emit(h.default.EVENTS.NO_BID,e))})),s&&0===a&&e()}return{addBidResponse:function(){function e(e,t){var r;N.call({dispatch:v},e,t,(r=!1,function(n){r||(y(e,t,n),r=!0)}))}return e.reject=y,e}(),adapterDone:function(){var e=this;M(I.GreedyPromise.resolve()).finally((function(){return S.call(e)}))}}}function V(e,t){!function(e){var t,r=!0===v.bidderSettings.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(r||e.dealId)&&(t=ae(e.bidderCode,e));e.adserverTargeting=O(e.adserverTargeting||{},t)}(t),(0,S.useMetrics)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),b.emit(h.default.EVENTS.BID_RESPONSE,t)}function z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.index,a=void 0===o?m.auctionManager.index:o,s=!0,d=(0,i.deepAccess)(a.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),u=d&&(0,i.deepAccess)(d,"context"),l=d&&(0,i.deepAccess)(d,"useCacheKey");c.config.getConfig("cache.url")&&(l||u!==p.OUTSTREAM)&&(!t.videoCacheKey||c.config.getConfig("cache.ignoreBidderCacheKey")?(s=!1,X(e,t,r,d)):t.vastUrl||((0,i.logError)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(V(e,t),r())}t.bidsBackCallback=U;var q,F,G=function(e){var t,r,n=null===(t=m.auctionManager.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,i=null===(r=e.native)||void 0===r?void 0:r.ortb;if(n&&i){var o=(0,a.toLegacyResponse)(i,n);O(e.native,o)}},W=function(e){(0,s.store)(e.map((function(e){return e.bidResponse})),(function(t,r){r.forEach((function(r,n){var o=e[n],a=o.auctionInstance,d=o.bidResponse,c=o.afterBidAdded;t?(0,i.logWarn)("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")):""===r.uuid?(0,i.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(d.videoCacheKey=r.uuid,d.vastUrl||(d.vastUrl=(0,s.getCacheUrl)(d.videoCacheKey)),V(a,d),c())}))}))};c.config.getConfig("cache",(function(e){q="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,F="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W,r=[[]],n=!1,i=function(e){return e()};return function(o,a,s){var d=F>0?e:i;r[r.length-1].length>=q&&r.push([]),r[r.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),n||(n=!0,d((function(){r.forEach(t),r=[[]],n=!1}),F))}};t.batchingCache=H;var Y=H(),X=(0,l.hook)("async",(function(e,t,r,n){Y(e,t,r)}),"callPrebidCache");function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,o=void 0===n?m.auctionManager.index:n,a=o.getBidderRequest(e),s=o.getAdUnit(e),d=a&&a.start||e.requestTimestamp;O(e,{responseTimestamp:e.responseTimestamp||(0,i.timestamp)(),requestTimestamp:e.requestTimestamp||d,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==s?void 0:s.ttlBuffer)&&(e.ttlBuffer=s.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function K(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.index,a=void 0===i?m.auctionManager.index:i;b.emit(h.default.EVENTS.BID_ADJUSTMENT,e);var s=(null===(t=a.getBidRequest(e))||void 0===t?void 0:t.renderer)||a.getAdUnit(e).renderer,u=e.mediaType,l=a.getMediaTypes(e),f=l&&l[u],p=f&&f.renderer,g=null;p&&p.url&&p.render&&(!0!==p.backupOnly||!e.renderer)?g=p:s&&s.url&&s.render&&(!0!==s.backupOnly||!e.renderer)&&(g=s),g&&(e.renderer=d.Renderer.install({url:g.url,config:g.options}),e.renderer.setRender(g.render));var v=Q(e.mediaType,l,c.config.getConfig("mediaTypePriceGranularity")),y=(0,o.getPriceBucketString)(e.cpm,"object"===(0,n.default)(v)?v:c.config.getConfig("customPriceBucket"),c.config.getConfig("currency.granularityMultiplier"));return e.pbLg=y.low,e.pbMg=y.med,e.pbHg=y.high,e.pbAg=y.auto,e.pbDg=y.dense,e.pbCg=y.custom,e}function Q(e,t,r){if(e&&r){if(e===g.VIDEO){var n=(0,i.deepAccess)(t,"".concat(g.VIDEO,".context"),"instream");if(r["".concat(g.VIDEO,"-").concat(n)])return r["".concat(g.VIDEO,"-").concat(n)]}return r[e]}}t.callPrebidCache=X;var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index,n=void 0===r?m.auctionManager.index:r,i=Q(e.mediaType,n.getMediaTypes(e),c.config.getConfig("mediaTypePriceGranularity")),o="string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":c.config.getConfig("priceGranularity");return o};t.getPriceGranularity=$;var Z=function(e){return function(t){var r=e||$(t);return r===h.default.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===h.default.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===h.default.GRANULARITY_OPTIONS.LOW?t.pbLg:r===h.default.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===h.default.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===h.default.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};t.getPriceByGranularity=Z;var ee=function(){return function(e){return e.creativeId?e.creativeId:""}};t.getCreativeId=ee;var te=function(){return function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""}};t.getAdvertiserDomain=te;var re=function(){return function(e){return e.meta&&(e.meta.networkId||e.meta.networkName)?(0,i.deepAccess)(e,"meta.networkName")||(0,i.deepAccess)(e,"meta.networkId"):""}};t.getDSP=re;var ne=function(){return function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""}};function ie(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return(0,i.getValue)(e,t)}}}function oe(e,t){var r=h.default.TARGETING_KEYS,n=O({},v.bidderSettings.settingsFor(null));if(n[h.default.JSON_MAPPING.ADSERVER_TARGETING]||(n[h.default.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=h.default.TARGETING_KEYS;return[ie(e.BIDDER,"bidderCode"),ie(e.AD_ID,"adId"),ie(e.PRICE_BUCKET,Z()),ie(e.SIZE,"size"),ie(e.DEAL,"dealId"),ie(e.SOURCE,"source"),ie(e.FORMAT,"mediaType"),ie(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),ie(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""})),ie(e.DSP,re()),ie(e.CRID,(function(e){return e.creativeId?e.creativeId:""}))]}()),"video"===e){var o=n[h.default.JSON_MAPPING.ADSERVER_TARGETING].slice();if(n[h.default.JSON_MAPPING.ADSERVER_TARGETING]=o,[r.UUID,r.CACHE_ID].forEach((function(e){void 0===(0,f.find)(o,(function(t){return t.key===e}))&&o.push(ie(e,"videoCacheKey"))})),c.config.getConfig("cache.url")&&(!t||!1!==v.bidderSettings.get(t,"sendStandardTargeting"))){var a=(0,i.parseUrl)(c.config.getConfig("cache.url"));void 0===(0,f.find)(o,(function(e){return e.key===r.CACHE_HOST}))&&o.push(ie(r.CACHE_HOST,(function(e){return(0,i.deepAccess)(e,"adserverTargeting.".concat(r.CACHE_HOST))?e.adserverTargeting[r.CACHE_HOST]:a.hostname})))}}return n}function ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,i=void 0===n?m.auctionManager.index:n;if(!t)return{};var o=i.getBidRequest(t),s={},d=oe(t.mediaType,e);return se(s,d,t,o),e&&v.bidderSettings.getOwn(e,h.default.JSON_MAPPING.ADSERVER_TARGETING)&&(se(s,v.bidderSettings.ownSettingsFor(e),t,o),t.sendStandardTargeting=v.bidderSettings.get(e,"sendStandardTargeting")),t.native&&(s=O({},s,(0,a.getNativeTargeting)(t))),s}function se(e,t,r,n){var o=t[h.default.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),(o||[]).forEach((function(o){var a=o.key,s=o.val;if(e[a]&&(0,i.logWarn)("The key: "+a+" is being overwritten"),(0,i.isFn)(s))try{s=s(r,n)}catch(e){(0,i.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==h.default.TARGETING_KEYS.DEAL&&a!==h.default.TARGETING_KEYS.ACAT&&a!==h.default.TARGETING_KEYS.DSP&&a!==h.default.TARGETING_KEYS.CRID||!(0,i.isEmptyStr)(s)&&null!=s?e[a]=s:(0,i.logInfo)("suppressing empty key '"+a+"' from adserver targeting")})),e}function de(e){var t=(0,E.adjustCpm)(e.cpm,e);t>=0&&(e.cpm=t)}function ce(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}t.getPrimaryCatId=ne},function(e,t,r){var n=r(2);e.exports=n.Promise},function(e,t,r){var n=r(30),i=r(237),o=r(22)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n=r(30),i=r(37),o=r(415);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(88),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},function(e,t,r){r(87)("flat")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.ajaxBuilder,o={puts:e.map(s)},a=r(i.config.getConfig("cache.timeout"));a(i.config.getConfig("cache.url"),d(t),JSON.stringify(o),{contentType:"text/plain",withCredentials:!0})},t.getCacheUrl=function(e){return"".concat(i.config.getConfig("cache.url"),"?uuid=").concat(e)};var n=r(72),i=r(4),o=r(43);function a(e,t){var r=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index,n=void 0===r?o.auctionManager.index:r,s=e.vastXml?e.vastXml:a(e.vastUrl,e.vastImpUrl),d=n.getAuction(e),c=Number(e.ttl)+15,u={type:"xml",value:s,ttlseconds:c};return i.config.getConfig("cache.vasttrack")&&(u.bidder=e.bidder,u.bidid=e.requestId,u.aid=e.auctionId),null!=d&&(u.timestamp=d.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(u.key=e.customCacheKey),u}function d(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(r))),[])}}}},function(e,t){s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function o(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return i.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function s(e){var t,d={},c=[];function u(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=g(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function f(e){var r=Array.isArray(e)?e:e.split(".");return i.call(r,(function(n,i,o){var a=n[i],s=!1;return a||(o===r.length-1?(t||c.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),n[i]=p((function(e){n[i]=e,s=!0}))):n[i]={})}),d)}function p(e){var t=[],r=[],i=function(){},o={before:function(e,r){return d.call(this,t,"before",e,r)},after:function(e,t){return d.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{a(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(o.after,s),o;function d(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function g(r,i,d){var u=i.after&&n.get(i.after);if(u){if(u.type!==r)throw"fun-hooks: recreated hookable with different type";return i}var l,g,m=d?f(d):p(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return t||c.push(b),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(i,v):(g=function(){return v.apply?v.apply(i,this,o(arguments)):i.apply(this,arguments)},a(g,m)),n.get(g.after).install(r,g,(function(e,t){var n,i=[];e.length||t.length?(e.forEach(a),n=i.push(void 0)-1,t.forEach(a),l=function(e,t,a){var s,d=0,c="async"===r&&"function"==typeof a[a.length-1]&&a.pop();function u(e){"sync"===r?s=e:c&&c.apply(null,arguments)}function l(e){if(i[d]){var n=o(arguments);return l.bail=u,n.unshift(l),i[d++].apply(t,n)}"sync"===r?s=e:c&&c.apply(null,arguments)}return i[n]=function(){var n=o(arguments,1);"async"===r&&c&&(delete l.bail,n.push(l));var i=e.apply(t,n);"sync"===r&&l(i)},l.apply(null,a),s}):l=void 0;function a(e){i.push(e.hook)}b()})),g;function b(){!t&&("sync"!==r||e.ready&s.SYNC)&&("async"!==r||e.ready&s.ASYNC)?"sync"!==r&&e.ready&s.QUEUE?v.apply=function(){var e=arguments;c.push((function(){g.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=l}}return(e=a({},r,e)).ready?u.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(c)}:t=!0,u.get=f,u}e.exports=s},function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.AuctionIndex=function(e){n(this,{getAuction:function(t){var r=t.auctionId;if(null!=r)return e().find((function(e){return e.getAuctionId()===r}))},getAdUnit:function(t){var r=t.transactionId;if(null!=r)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===r}))},getMediaTypes:function(e){var t=e.transactionId,r=e.requestId;if(null!=r){var n=this.getBidRequest({requestId:r});if(null!=n&&(null==t||n.transactionId===t))return n.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var r=t.requestId,n=t.bidderRequestId;if(null!=r||null!=n){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=n&&(i=i.filter((function(e){return e.bidderRequestId===n}))),null==r?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===r}))}))}},getBidRequest:function(t){var r=t.requestId;if(null!=r)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===r}))}})},r(64)},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S2S_VENDORS=void 0;t.S2S_VENDORS={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPBSRequest=function(e,t,r,n,o){var a=(0,d.timestamp)(),s=new Set,u=[],l=(0,b.s2sActivityParams)(e.s2sConfig),f=(p=(0,v.redactor)(l),g={},function(e){return null==e?p:(g.hasOwnProperty(e)||(g[e]=(0,v.redactor)((0,y.activityParams)(h.MODULE_TYPE_BIDDER,e))),g[e])});var p,g;(r=r.map((function(e){return f().bidRequest(e)}))).forEach((function(e){var n=new Map;r.bids=e.bids.map((function(e){return f(e.bidder).bidRequest(e)})),e.bids.forEach((function(r){null!=r.mediaTypes&&(0,d.logWarn)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(e.code,", bidder: ").concat(r.bidder)),n.set(r.bidder,(0,d.getBidRequest)(r.bid_id,t))}));for(var i=e.code,o=1;s.has(i);)o++,i="".concat(e.code,"-").concat(o);s.add(i),u.push(x(x(x({},e),{},{adUnitCode:e.code},(0,d.getDefinedParams)(n.values().next().value||{},["userId","userIdAsEids","schain"])),{},{pbsData:{impId:i,actualBidRequests:n,adUnit:e}}))}));var m=x(x({},Object.fromEntries(Object.entries(t[0]).filter((function(e){var t=(0,i.default)(e,1)[0];return!P.has(t)})))),{},{fledgeEnabled:t.some((function(e){return e.fledgeEnabled}))});return R.toORTB({bidderRequest:m,bidRequests:u,context:{currency:c.config.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:a,s2sBidRequest:e,requestedBidders:n,actualBidderRequests:t,eidPermissions:o,nativeRequest:e.s2sConfig.ortbNative,getRedactor:f,transmitTids:(0,I.isActivityAllowed)(S.ACTIVITY_TRANSMIT_TID,l)}})},t.interpretPBSResponse=function(e,t){return R.fromORTB({response:e,request:t})},r(1),r(9),r(64);var n,i=_(r(6)),o=_(r(18)),a=_(r(11)),s=r(131),d=r(0),c=r(4),u=_(r(20)),l=r(128),f=r(254),p=r(256),g=r(255),m=r(59),v=r(250),b=r(29),y=r(102),h=r(47),I=r(65),S=r(66),E=r(257),A=r(133);function _(e){return e&&e.__esModule?e:{default:e}}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),R=(0,s.ortbConverter)({processors:f.pbsExtensions,context:{netRevenue:!0},imp:function(e,t,r){w(r,t.pbsData);var n=e(t,r);if((t.bids||[]).forEach((function(e){e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&(0,d.deepSetValue)(n,"ext.prebid.imp.".concat(e.bidder),e.ortb2Imp)})),Object.values(g.SUPPORTED_MEDIA_TYPES).some((function(e){return n[e]})))return n.secure=r.s2sBidRequest.s2sConfig.secure,n},request:function(e,t,r,n){if(t.length){var i=n.s2sBidRequest,o=n.requestedBidders,a=n.eidPermissions,s=e(t,r,n);return s.tmax=i.s2sConfig.timeout,[s.app,s.dooh,s.site].forEach((function(e){var t;!e||null!==(t=e.publisher)&&void 0!==t&&t.id||(0,d.deepSetValue)(e,"publisher.id",i.s2sConfig.accountId)})),(0,d.isArray)(a)&&a.length>0&&(o&&(0,d.isArray)(o)&&(a=a.map((function(e){return x(x({},e),{},{bidders:e.bidders.filter((function(e){return o.includes(e)}))})}))),(0,d.deepSetValue)(s,"ext.prebid.data.eidpermissions",a)),n.transmitTids||(0,d.deepSetValue)(s,"ext.prebid.createtids",!1),s}(0,d.logError)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse:function(e,t,r){var n,i,o=r.actualBidRequests.get(r.seatbid.seat);null==o&&(o=r.actualBidRequests.get(null)),o&&w(r,{bidRequest:o,bidderRequest:r.actualBidderRequests.find((function(e){return e.bidderCode===o.bidder}))});var a=e(t,r);return a.requestBidder=null===(n=o)||void 0===n?void 0:n.bidder,null!==(i=a.native)&&void 0!==i&&i.ortb&&(a.adm=a.native.ortb),a.requestTimestamp=r.requestTimestamp,{bid:w((0,l.createBid)(u.default.STATUS.GOOD,{src:u.default.S2S.SRC,bidId:o?o.bidId||o.bid_Id:null,transactionId:r.adUnit.transactionId,auctionId:r.bidderRequest.auctionId}),a),adUnit:r.adUnit.code}},overrides:(n={},(0,a.default)(n,m.IMP,{id:function(e,t,r,n){t.id=n.impId},params:function(e,t,r,n){var i,o=n.s2sBidRequest.s2sConfig.adapterOptions,a=O(n.actualBidRequests.values());try{for(a.s();!(i=a.n()).done;){var s=i.value;(0,p.setImpBidParams)(t,s,n,n),o&&o[s.bidder]&&w(t.ext.prebid.bidder[s.bidder],o[s.bidder])}}catch(e){a.e(e)}finally{a.f()}},bidfloor:function(e,t,r,n){var i,o,a=(0,A.minimum)((0,E.currencyCompare)((function(e){return[e.bidfloor,e.bidfloorcur]}))),s=O(n.actualBidRequests.values());try{for(s.s();!(o=s.n()).done;){var d=o.value,c={};if(e(c,d,n),null==c.bidfloorcur||null==c.bidfloor){i=null;break}i=null==i?c:a(i,c)}}catch(e){s.e(e)}finally{s.f()}null!=i&&w(t,i)}}),(0,a.default)(n,m.REQUEST,{fpd:function(e,t,r,n){var a,s,c;(n.transmitTids&&(0,d.deepSetValue)(t,"source.tid",r.auctionId),(0,d.mergeDeep)(t,null===(a=n.s2sBidRequest.ortb2Fragments)||void 0===a?void 0:a.global),n.s2sBidRequest.s2sConfig.extPrebid&&"object"===(0,o.default)(n.s2sBidRequest.s2sConfig.extPrebid))&&(0,d.deepSetValue)(t,"ext.prebid",(0,d.mergeDeep)((null===(c=t.ext)||void 0===c?void 0:c.prebid)||{},n.s2sBidRequest.s2sConfig.extPrebid));n.getRedactor().ortb2(t);var u=Object.entries((null===(s=n.s2sBidRequest.ortb2Fragments)||void 0===s?void 0:s.bidder)||{}).filter((function(e){var t=(0,i.default)(e,1)[0],r=n.s2sBidRequest.s2sConfig.bidders;return n.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||r&&r.includes(t)})).map((function(e){var t=(0,i.default)(e,2),r=t[0],o=t[1];return{bidders:[r],config:{ortb2:n.getRedactor(r).ortb2(o)}}}));u.length&&(0,d.deepSetValue)(t,"ext.prebid.bidderconfig",u)},extPrebidAliases:function(e,t,r,n){n.actualBidderRequests.forEach((function(r){return e(t,r,n)}))},sourceExtSchain:function(e,t,r,n){var i,o=(0,d.deepAccess)(t,"ext.prebid.schains")||[],a=new Set(o.flatMap((function(e){return e.bidders})));o=Object.values(o.concat(n.actualBidderRequests.filter((function(e){return!a.has(e.bidderCode)})).map((function(e){return{bidders:[e.bidderCode],schain:(0,d.deepAccess)(e,"bids.0.schain")}}))).filter((function(e){var t=e.bidders,r=e.schain;return(null==t?void 0:t.length)>0&&r})).reduce((function(e,t){var r=t.bidders,n=t.schain,o=JSON.stringify(n);return e.hasOwnProperty(o)||(e[o]={bidders:new Set,schain:n}),r.forEach((function(t){return e[o].bidders.add(t)})),(null==i||e[o].bidders.size>i.bidders.size)&&(i=e[o]),e}),{})).map((function(e){var t=e.bidders,r=e.schain;return{bidders:Array.from(t),schain:r}})),null!=i&&(0,d.deepSetValue)(t,"source.ext.schain",i.schain),o.length&&(0,d.deepSetValue)(t,"ext.prebid.schains",o)}}),(0,a.default)(n,m.RESPONSE,{serverSideStats:function(e,t,r,n){n.actualBidderRequests.forEach((function(i){return e(t,r,x(x({},n),{},{bidderRequest:i,bidRequests:i.bids}))}))},fledgeAuctionConfigs:function(e,t,r,n){var i=Object.values(n.impContext).flatMap((function(e){return(e.fledgeConfigs||[]).map((function(t){return{adUnitCode:e.adUnit.code,config:t.config}}))}));i.length>0&&(t.fledgeAuctionConfigs=i)}}),n)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o.has(e)){var r=Object.entries(e);r.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),o.set(e,r.map((function(e){var t=(0,i.default)(e,2);return[t[0],t[1].fn]})))}var n=o.get(e).filter((function(e){var r=(0,i.default)(e,1)[0];return!t.hasOwnProperty(r)||t[r]})).map((function(e){var r=(0,i.default)(e,2),n=r[0],o=r[1];return t.hasOwnProperty(n)?t[n].bind(this,o):o}));return function(){var e=this,t=Array.from(arguments);n.forEach((function(r){r.apply(e,t)}))}},r(1);var n,i=(n=r(6))&&n.__esModule?n:{default:n};var o=new WeakMap},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROCESSORS=void 0;var n,i=p(r(11)),o=p(r(6)),a=r(0),s=r(425),d=r(426),c=r(252),u=r(427),l=r(59),f=r(132);function p(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}var m=(n={},(0,i.default)(n,l.REQUEST,{fpd:{priority:99,fn:function(e,t){(0,a.mergeDeep)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:(0,f.clientSectionChecker)("ORTB request")},props:{fn:function(e,t){g(e,{id:e.id||(0,a.generateUUID)(),test:e.test||0});var r=parseInt(t.timeout,10);isNaN(r)||(e.tmax=r)}}}),(0,i.default)(n,l.IMP,{fpd:{priority:99,fn:function(e,t){(0,a.mergeDeep)(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:s.fillBannerImp},pbadslot:{fn:function(e){var t,r,n,i,o=null===(t=e.ext)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.pbadslot;o&&"string"==typeof o||(null===(n=e.ext)||void 0===n||(null===(i=n.data)||void 0===i||delete i.pbadslot))}}}),(0,i.default)(n,l.BID_RESPONSE,{mediaType:{priority:99,fn:c.setResponseMediaType},banner:{fn:(0,s.bannerResponseProcessor)()},props:{fn:function(e,t,r){var n;Object.entries({requestId:null===(n=r.bidRequest)||void 0===n?void 0:n.bidId,seatBidId:t.id,cpm:t.price,currency:r.ortbResponse.cur||r.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||r.ttl,netRevenue:r.netRevenue}).filter((function(e){var t=(0,o.default)(e,2);t[0];return void 0!==t[1]})).forEach((function(t){var r=(0,o.default)(t,2),n=r[0],i=r[1];return e[n]=i})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}),n);t.DEFAULT_PROCESSORS=m,m[l.IMP].native={fn:u.fillNativeImp},m[l.BID_RESPONSE].native={fn:u.fillNativeResponse},m[l.IMP].video={fn:d.fillVideoImp},m[l.BID_RESPONSE].video={fn:d.fillVideoResponse}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillBannerImp=function(e,t,r){if(r.mediaType&&r.mediaType!==i.BANNER)return;var a=(0,n.deepAccess)(t,"mediaTypes.banner");if(a){var s={topframe:!0===(0,n.inIframe)()?0:1};a.sizes&&(s.format=(0,o.sizesToFormat)(a.sizes)),a.hasOwnProperty("pos")&&(s.pos=a.pos),e.banner=(0,n.mergeDeep)(s,e.banner)}},t.bannerResponseProcessor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createPixel,r=void 0===t?function(e){return(0,n.createTrackPixelHtml)(decodeURIComponent(e))}:t;return function(e,t){e.mediaType===i.BANNER&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=r(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))}};var n=r(0),i=r(25),o=r(251)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillVideoImp=function(e,t,r){if(r.mediaType&&r.mediaType!==a.VIDEO)return;var n=(0,o.deepAccess)(t,"mediaTypes.video");if(!(0,o.isEmpty)(n)){var l=Object.fromEntries(Object.entries(n).filter((function(e){var t=(0,i.default)(e,1)[0];return c.has(t)})));if(n.playerSize){var f=(0,s.sizesToFormat)(n.playerSize);f.length>1&&(0,o.logWarn)("video request specifies more than one playerSize; all but the first will be ignored"),d(l,f[0])}var p=u[n.context];null!=p&&(l.placement=p),e.video=(0,o.mergeDeep)(l,e.video)}},t.fillVideoResponse=function(e,t,r){if(e.mediaType===a.VIDEO){if((0,o.deepAccess)(r.imp,"video.w")&&(0,o.deepAccess)(r.imp,"video.h")){var n=[r.imp.video.w,r.imp.video.h];e.playerWidth=n[0],e.playerHeight=n[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}},r(1);var n,i=(n=r(6))&&n.__esModule?n:{default:n},o=r(0),a=r(25),s=r(251);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var c=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),u={instream:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillNativeImp=function(e,t,r){if(r.mediaType&&r.mediaType!==i.NATIVE)return;var a=t.nativeOrtbRequest;if(a){var s;a=o({},r.nativeRequest,a),null!==(s=a.assets)&&void 0!==s&&s.length?e.native=(0,n.mergeDeep)({},{request:JSON.stringify(a),ver:a.ver},e.native):(0,n.logWarn)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t)}},t.fillNativeResponse=function(e,t){if(e.mediaType===i.NATIVE){var r;if(r="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,n.isPlainObject)(r)||!Array.isArray(r.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:r}}};var n=r(0),i=r(25);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PBS_PROCESSORS=void 0;var n,i=g(r(11)),o=g(r(6)),a=r(59),s=r(0),d=r(255),c=r(429),u=r(256),l=r(430),f=r(431),p=r(432);function g(e){return e&&e.__esModule?e:{default:e}}var m=(n={},(0,i.default)(n,a.REQUEST,{extPrebid:{fn:f.setRequestExtPrebid},extPrebidChannel:{fn:f.setRequestExtPrebidChannel},extPrebidAliases:{fn:c.setRequestExtPrebidAliases}}),(0,i.default)(n,a.IMP,{params:{fn:u.setImpBidParams},adUnitCode:{fn:l.setImpAdUnitCode}}),(0,i.default)(n,a.BID_RESPONSE,{mediaType:{fn:d.extPrebidMediaType,priority:99},videoCache:{fn:p.setBidResponseVideoCache,priority:-10},bidderCode:{fn:function(e,t,r){var n;e.bidderCode=r.seatbid.seat,e.adapterCode=(0,s.deepAccess)(t,"ext.prebid.meta.adaptercode")||(null===(n=r.bidRequest)||void 0===n?void 0:n.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,t){var r=(0,s.deepAccess)(t,"ext.prebid.bidid");(0,s.isStr)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn:function(e,t){var r=(0,s.deepAccess)(t,"ext.prebid.targeting");(0,s.isPlainObject)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn:function(e,t){e.meta=(0,s.mergeDeep)({},(0,s.deepAccess)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,t){var r=(0,s.deepAccess)(t,"ext.prebid.events.win");(0,s.isStr)(r)&&(e.pbsWurl=r)}}}),(0,i.default)(n,a.RESPONSE,{serverSideStats:{fn:function(e,t,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var n=(0,o.default)(e,2),i=n[0],a=n[1],d=(0,s.deepAccess)(t,"ext.".concat(i,".").concat(r.bidderRequest.bidderCode));d&&(r.bidderRequest[a]=d,r.bidRequests.forEach((function(e){return e[a]=d})))}))}}}),n);t.PBS_PROCESSORS=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRequestExtPrebidAliases=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.am,s=void 0===a?i.default:a;if(s.aliasRegistry[t.bidderCode]){var d=s.bidderRegistry[t.bidderCode];d&&d.getSpec().skipPbsAliasing||(0,o.deepSetValue)(e,"ext.prebid.aliases.".concat(t.bidderCode),s.aliasRegistry[t.bidderCode])}};var n,i=(n=r(29))&&n.__esModule?n:{default:n},o=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setImpAdUnitCode=function(e,t){var r=t.adUnitCode;r&&(0,n.deepSetValue)(e,"ext.prebid.adunitcode",r)};var n=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRequestExtPrebid=function(e,t){var r;(0,n.deepSetValue)(e,"ext.prebid",(0,n.mergeDeep)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(r=e.ext)||void 0===r?void 0:r.prebid)),i.config.getConfig("debug")&&(e.ext.prebid.debug=!0)},t.setRequestExtPrebidChannel=function(e){var t,r;(0,n.deepSetValue)(e,"ext.prebid.channel",a({name:"pbjs",version:(0,o.getGlobal)().version},null===(t=e.ext)||void 0===t||null===(r=t.prebid)||void 0===r?void 0:r.channel))};var n=r(0),i=r(4),o=r(8);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBidResponseVideoCache=function(e,t){if(e.mediaType===n.VIDEO){var r=(0,i.deepAccess)(t,"ext.prebid.cache.vastXml")||{},a=r.cacheId,s=r.url;if(!a||!s){var d=(0,i.deepAccess)(t,"ext.prebid.targeting")||{},c=d.hb_uuid,u=d.hb_cache_host,l=d.hb_cache_path;c&&u&&l&&(a=c,s="https://".concat(u).concat(l,"?uuid=").concat(c))}a&&s&&o(e,{videoCacheKey:a,vastUrl:s})}};var n=r(25),i=r(0);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runPrebidQueue=x,t.prebidModule=void 0,r(434),r(439),r(441);var n=r(8),i=r(158),o=r(21),a=h(r(26)),s=h(r(80)),d=r(61),c=r(19),u=r(14),l=r(3),f=h(r(93)),p=h(r(31)),g=r(5),m=r(10),v=r(46),b=r(62),y=h(r(7));function h(e){return e&&e.__esModule?e:{default:e}}const I=(0,n.getGlobal)(),{MODULES:{GEOLOCATION:S,PREBID_HEADER_BIDDING:E,VIDEO:A,GOOGLE_PUBLISHER_TAG:_},EVENTS:{HEADER_BIDDING_REQUEST:w,HEADER_BIDDING_RESPONSE:O}}=y.default,T=function(){const e=(0,d.urlQueryAsObject)();let t=!1,n=[];function y(e,t,r,n){const i=n,o=(0,p.default)(i,"params.cust_params")||{},s=t.code+"--".concat(r);l.bbLogger.logInfo("Applying Video params for unit code",s);let d=I.getAdserverTargetingForAdUnitCode(s,{forTargeting:!0,match:{video:t.getVideoSpec(r)}});const c=(0,p.default)(d,"hb_bidder"),u=(0,p.default)(d,"hb_cache_id");c&&u&&(d=(0,a.default)({},function(e,t){const r=(0,m.getConfig)("prebid.cacheUrlConfigs.bidders"),n=(0,m.getConfig)("prebid.cacheUrlConfigs.prefix"),i=(0,a.default)({},r[e]||{},r.default,{value:t}),o={};for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=i[e];o["".concat(n).concat(e)]=t}return o}(c,u),d)),(0,f.default)(i,"params.cust_params",(0,a.default)(d,o)),e(t,r,i)}const h=(0,s.default)((e=>e.sizes.filter((e=>"string"!=typeof e&&n.indexOf(e.join("x"))>=0))),(e=>e.code));function T(e){const t=h(e);let r=e.code;e.allowedTypes.banner&&(0,f.default)(e,"mediaTypes.banner.sizes",t),e.allowedTypes.native&&((0,f.default)(e,"mediaTypes.native.sendTargetingKeys",!1),(0,f.default)(e,"mediaTypes.native.image.required",!0),(0,f.default)(e,"mediaTypes.native.image.aspect_ratios",[{ratio_width:4,ratio_height:3,min_width:400,min_height:300}]),(0,f.default)(e,"mediaTypes.native.title.required",!0),(0,f.default)(e,"mediaTypes.native.title.len",140),(0,f.default)(e,"mediaTypes.native.sponsoredBy.required",!0),(0,f.default)(e,"mediaTypes.native.clickUrl.required",!0),(0,f.default)(e,"mediaTypes.native.body.required",!1)),(e.allowedTypes.video||e.isVideo)&&((0,f.default)(e,"mediaTypes.video",(0,a.default)((0,p.default)(e,"mediaTypes.video")||{},e.getLatestVideoSpec())),r+="--".concat(e.getVideoSpecIndex()));const{mediaTypes:n,bids:i,ortb2Imp:o,labelAny:s,labelAll:d}=e;return{code:r,mediaTypes:n,bids:i,sizes:t,ortb2Imp:o,labelAny:s,labelAll:d}}function C(t){const i=(0,a.default)({},{debug:"true"===e.pbjs_debug},t.pbjsConfig);o.moduleManager.viaModule(S,(e=>{let{isEnabled:n,onRegionSet:i,getRegionCode:a}=e;!function(e){(0,g.dom)().window.cbsoptanon.cmd.push((function(t){const n=e.pbjsConfig.consentManagement;n&&n.gdpr&&(l.bbLogger.logInfo("Config expects TCF-2 enforcement, verifying CMP availability."),t.tcf.getConsentData((function(){(0,g.dom)().window.__tcfapi||(0,g.dom)().window.__cmp?(l.bbLogger.logInfo("Found CMP TCF-2 module, requiring this module."),r(442)):l.bbLogger.logError("No CMP TCF-2 module found despite enabled config, skipping this module.")}))),n&&n.gpp&&(l.bbLogger.logInfo("Config expects GPP enforcement, verifying CMP availability."),t.gpp.get((function(){(0,g.dom)().window.__gpp?(l.bbLogger.logInfo("Found CMP GPP module, requiring this module."),r(443)):l.bbLogger.logError("No CMP GPP module found despite enabled config, skipping this module.")}))),n&&n.usp&&(l.bbLogger.logInfo("Config expects USP enforcement, verifying CMP availability."),t.ot.awaitOneTrustSettings().then((function(){(0,g.dom)().window.__uspapi?(l.bbLogger.logInfo("Found CMP USP API module, requiring this module."),r(446)):l.bbLogger.logError("No CMP USP API module found despite enabled config, skipping this module.")})))}))}(t),n&&t.enabledRegions&&i((()=>{-1===t.enabledRegions.indexOf(a())&&(l.bbLogger.logInfo("Prebid not enabled for this region, deregistering module."),o.moduleManager.deregister(E))}))})),I.que.push((()=>{I.setConfig(i),t.bidderSettings&&(I.bidderSettings=t.bidderSettings)})),t.allowedSizes&&(n=t.allowedSizes.map((e=>e.join("x"))))}function P(e,t){I.que.push((()=>{t&&t.length&&o.moduleManager.viaModule(_,(e=>{let{gptAction:r}=e;r((()=>{I.setTargetingForGPTAsync(t.filter((e=>e.bids&&e.bids.length>0)).map((e=>e.code)))}))})),e(t)}))}return c.exposureApi.rootScope({get pbjsUnits(){return I.adUnits&&I.adUnits.length?I.adUnits[0].constructor===Array?I.adUnits[0]:I.adUnits:[]}}),{name:E,register:function(){(0,g.dom)().window.pbjs=(0,g.dom)().window.pbjs||{},(0,g.dom)().window.pbjs.que=(0,g.dom)().window.pbjs.que||[]},initialize:function(){i.requestManager.register(E),b.setBidTargeting.before(P),o.moduleManager.viaModule(A,(e=>{let{getVideoUnitParams:t}=e;t.before(y)})),t=!0,(0,m.setConfig)("bidderTimeout",(0,m.getConfig)("timeouts.bidder")),(0,m.getConfig)("highFrequencyAdRequest",(e=>{(0,m.setConfig)("bidderTimeout",e?(0,m.getConfig)("timeouts.hfar"):(0,m.getConfig)("timeouts.bidder"))})),(0,v.getQueue)().push((e=>{x(),(0,m.getConfig)("prebid",C),e()}))},deregister:function(){t&&(b.setBidTargeting.getHook({hook:P}).remove(),i.requestManager.deregister(E))},bidRequest:function(e){return I.que.push((()=>{I.adUnits=[];for(let t=0;t<e.length;t++){const r=e[t];if(r.bids&&r.bids.length>0){r.isVideo||r.allowedTypes.video;const e=T(r);I.addAdUnits(e)}}const t=I.requestBids({bidsBackHandler:r=>{u.eventEmitter.emit([O,"".concat(E,".").concat(O)],E,r,e,t),i.requestManager.done(E)},timeout:(0,m.getConfig)("bidderTimeout")});u.eventEmitter.emit([w,"".concat(E,".").concat(w)],E,e,t)})),e}}}(),C=o.moduleManager.register(T,[_],{gate:"consentGiven"});function x(){I&&I.processQueue&&I.processQueue()}t.prebidModule=C},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.executeCallbacks=de,t.default=t.startAuction=t.checkAdUnitSetup=t.adUnitSetupChecks=void 0,r(9);var n=R(r(6)),i=R(r(11)),o=r(8),a=r(0),s=r(435),d=r(127),c=r(4),u=r(43),l=r(436),f=r(24),p=r(437),g=r(15),m=r(247),v=r(52),b=r(128),y=r(34),h=r(258),I=P(r(29)),S=R(r(20)),E=P(r(53)),A=r(48),_=r(42),w=r(134),O=r(130),T=r(133),C=r(103);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function R(e){return e&&e.__esModule?e:{default:e}}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}var k=(0,o.getGlobal)(),j=d.userSync.triggerUserSyncs,N=S.default.EVENTS,M=N.ADD_AD_UNITS,B=N.BID_WON,U=N.REQUEST_BIDS,L=N.SET_TARGETING,V=N.STALE_RENDER,z=S.default.AD_RENDER_FAILED_REASON,q=z.PREVENT_WRITING_ON_MAIN_DOCUMENT,F=z.NO_AD,G=z.EXCEPTION,W=z.CANNOT_FIND_AD,H=z.MISSING_DOC_OR_ADID,Y={bidWon:function(e){if(!u.auctionManager.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(a.flatten).filter(a.uniques).includes(e))return void(0,a.logError)('The "'+e+'" placement is not defined.');return!0}};function X(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function J(e,t){var r=[];return(0,a.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return(0,a.isArrayOfNums)(e,2)}))?r=e:(0,a.isArrayOfNums)(e,2)&&r.push(e)),r}function K(e){var t=(0,a.deepClone)(e),r=t.mediaTypes.banner,n=J(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):((0,a.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Q(e){var t=(0,a.deepClone)(e),r=t.mediaTypes.video;if(r.playerSize){var n="number"==typeof r.playerSize[0]?2:1,i=J(r.playerSize,n);i.length>0?(2===n&&(0,a.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,t.sizes=i):((0,a.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function $(e){var t=(0,a.deepClone)(e),r=t.mediaTypes.native;if(r.ortb){var n=Object.keys(S.default.NATIVE_KEYS).filter((function(e){return S.default.NATIVE_KEYS[e].includes("hb_native_")})),i=Object.keys(r).filter((function(e){return n.includes(e)}));i.length>0&&((0,a.logError)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(i," keys from request.")),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,a.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,a.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,a.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Z(e,t){var r=(0,a.deepAccess)(e,"mediaTypes.".concat(t,".pos"));if(!(0,a.isNumber)(r)||isNaN(r)||!isFinite(r)){var n="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,a.logWarn)(n),E.emit(S.default.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:n}),delete e.mediaTypes[t].pos}return e}function ee(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},r=e.mediaTypes,n=e.bids;return null==n||(0,a.isArray)(n)?null==n&&null==e.ortb2Imp?((0,a.logError)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=n&&0!==n.length||(e.bids=[{bidder:null}],(0,a.logMessage)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,a.logError)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,a.logError)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(0,p.loadSession)(),k.bidderSettings=k.bidderSettings||{},k.libLoaded=!0,k.version="v8.20.0",(0,a.logInfo)("Prebid.js v8.20.0 loaded"),k.installedModules=k.installedModules||[],k.adUnits=k.adUnits||[],k.triggerUserSyncs=j;var te={validateAdUnit:ee,validateBannerMediaType:K,validateSizes:J};t.adUnitSetupChecks=te,D(te,{validateNativeMediaType:$}),D(te,{validateVideoMediaType:Q});var re,ne=(0,f.hook)("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=ee(e))){var r,n,i,o=e.mediaTypes;o.banner&&(r=K(e),o.banner.hasOwnProperty("pos")&&(r=Z(r,"banner"))),o.video&&(n=Q(r||e),o.video.hasOwnProperty("pos")&&(n=Z(n,"video"))),o.native&&(i=$(n||(r||e)));var a=D({},r,n,i);t.push(a)}})),t}),"checkAdUnitSetup");function ie(e){e.forEach((function(e){return(0,C.fillVideoDefaults)(e)}))}function oe(e){var t=u.auctionManager[e]().filter((function(e){return u.auctionManager.getAdUnitCodes().includes(e.adUnitCode)})),r=u.auctionManager.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(a.uniques).map((function(e){return t.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return(0,i.default)({},e[0].adUnitCode,{bids:e})})).reduce((function(e,t){return D(e,t)}),{})}function ae(e,t,r){var n=t.querySelector(r);e.parentNode&&e.parentNode===n||(0,a.insertElement)(e,t,r)}t.checkAdUnitSetup=ne,k.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,a.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=k.getAdserverTargetingForAdUnitCode(e);return(0,a.transformAdServerTargetingObj)(t)}(0,a.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},k.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=u.auctionManager.getAllBidsForAdUnitCode(e).filter(l.isBidUsable);return t.length?t.reduce(T.getHighestCpm):{}}(0,a.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},pbjs.getAdserverTargetingForAdUnitCode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1};return pbjs.getAdserverTargeting(e,t)[e]},pbjs.getAdserverTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1};return(0,a.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),l.targeting.getAllTargeting(e,l.targeting.getBidsReceived(),t)},k.getConsentMetadata=function(){return(0,a.logInfo)("Invoking pbjs.getConsentMetadata"),O.allConsent.getConsentMeta()},k.getNoBids=function(){return(0,a.logInfo)("Invoking pbjs.getNoBids",arguments),oe("getNoBids")},k.getNoBidsForAdUnitCode=function(e){return{bids:u.auctionManager.getNoBids().filter((function(t){return t.adUnitCode===e}))}},k.getBidResponses=function(){return(0,a.logInfo)("Invoking pbjs.getBidResponses",arguments),oe("getBidsReceived")},k.getBidResponsesForAdUnitCode=function(e){return{bids:u.auctionManager.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},k.setTargetingForGPTAsync=function(e,t){if((0,a.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,a.isGptPubadsDefined)()){var r=l.targeting.getAllTargeting(e,l.targeting.getBidsReceived(),{forTargeting:!0});l.targeting.resetPresetTargeting(e,t),l.targeting.setTargetingForGPT(r,t),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&u.auctionManager.setStatusForBids(r[e][t],S.default.BID_STATUS.BID_TARGETING_SET)}))})),E.emit(L,r)}else(0,a.logError)("window.googletag is not defined on the page")},k.setTargetingForAst=function(e){(0,a.logInfo)("Invoking pbjs.setTargetingForAn",arguments),l.targeting.isApntagDefined()?(l.targeting.setTargetingForAst(e),E.emit(L,l.targeting.getAllTargeting())):(0,a.logError)("window.apntag is not defined on the page")},k.renderAd=(0,f.hook)("async",(function(e,t,r){if((0,a.logInfo)("Invoking pbjs.renderAd",arguments),(0,a.logMessage)("Calling renderAd with adId :"+t),t)try{var n=u.auctionManager.findBidByAdId(t);if(!n){var i="Error trying to write ad. Cannot find ad by given id : ".concat(t);return void(0,h.emitAdRenderFail)({reason:W,message:i,id:t})}if(n.status===S.default.BID_STATUS.RENDERED&&((0,a.logWarn)("Ad id ".concat(n.adId," has been rendered before")),E.emit(V,n),(0,a.deepAccess)(c.config.getConfig("auctionOptions"),"suppressStaleRender")))return;if(n.ad=(0,a.replaceAuctionPrice)(n.ad,n.originalCpm||n.cpm),n.adUrl=(0,a.replaceAuctionPrice)(n.adUrl,n.originalCpm||n.cpm),r&&r.clickThrough){var o=r.clickThrough;n.ad=(0,a.replaceClickThrough)(n.ad,o),n.adUrl=(0,a.replaceClickThrough)(n.adUrl,o)}u.auctionManager.addWinningBid(n),E.emit(B,n);var s=n.height,d=n.width,l=n.ad,f=n.mediaType,p=n.adUrl,g=n.renderer,m=n.adUnitCode,b=k.adUnits.filter((function(e){return e.code===m})),y=k.videoModule;if(b.video&&y)return void y.renderBid(b.video.divId,n);if(!e){var I="Error trying to write ad Id :".concat(t," to the page. Missing document");return void(0,h.emitAdRenderFail)({reason:H,message:I,id:t})}var A=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if((0,a.insertElement)(A,e,"html"),(0,v.isRendererRequired)(g))(0,v.executeRenderer)(g,n,e),ae(A,e,"html"),(0,h.emitAdRenderSucceeded)({doc:e,bid:n,id:t});else if(e===document&&!(0,a.inIframe)()||"video"===f){var _="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");(0,h.emitAdRenderFail)({reason:q,message:_,bid:n,id:t})}else if(l)e.write(l),e.close(),X(e,d,s),ae(A,e,"html"),(0,a.callBurl)(n),(0,h.emitAdRenderSucceeded)({doc:e,bid:n,id:t});else if(p){var w=(0,a.createInvisibleIframe)();w.height=s,w.width=d,w.style.display="inline",w.style.overflow="hidden",w.src=p,(0,a.insertElement)(w,e,"body"),X(e,d,s),ae(A,e,"html"),(0,a.callBurl)(n),(0,h.emitAdRenderSucceeded)({doc:e,bid:n,id:t})}else{var O="Error trying to write ad. No ad for bid response id: ".concat(t);(0,h.emitAdRenderFail)({reason:F,message:O,bid:n,id:t})}}catch(e){var T="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);(0,h.emitAdRenderFail)({reason:G,message:T,id:t})}else{var C="Error trying to write ad Id :".concat(t," to the page. Missing adId");(0,h.emitAdRenderFail)({reason:H,message:C,id:t})}})),k.removeAdUnit=function(e){((0,a.logInfo)("Invoking pbjs.removeAdUnit",arguments),e)?((0,a.isArray)(e)?e:[e]).forEach((function(e){for(var t=k.adUnits.length-1;t>=0;t--)k.adUnits[t].code===e&&k.adUnits.splice(t,1)})):k.adUnits=[]},k.requestBids=(re=(0,f.hook)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,i=e.adUnits,o=e.adUnitCodes,s=e.labels,d=e.auctionId,u=e.ttlBuffer,l=e.ortb2,f=e.metrics,p=e.defer;E.emit(U);var m=r||c.config.getConfig("bidderTimeout");(0,a.logInfo)("Invoking pbjs.requestBids",arguments),o&&o.length?i=i.filter((function(e){return(0,g.includes)(o,e.code)})):o=i&&i.map((function(e){return e.code}));var v={global:(0,a.mergeDeep)({},c.config.getAnyConfig("ortb2")||{},l||{}),bidder:Object.fromEntries(Object.entries(c.config.getBidderConfig()).map((function(e){var t=(0,n.default)(e,2);return[t[0],t[1].ortb2]})).filter((function(e){var t=(0,n.default)(e,2);return t[0],null!=t[1]})))};return(0,w.enrichFPD)(_.GreedyPromise.resolve(v.global)).then((function(e){return v.global=e,se({bidsBackHandler:t,timeout:m,adUnits:i,adUnitCodes:o,labels:s,auctionId:d,ttlBuffer:u,ortb2Fragments:v,metrics:f,defer:p})}))}),"requestBids"),(0,f.wrapHook)(re,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||k.adUnits;return e.adUnits=(0,a.isArray)(t)?t.slice():[t],e.metrics=(0,A.newMetrics)(),e.metrics.checkpoint("requestBids"),e.defer=(0,_.defer)({promiseFactory:function(e){return new Promise(e)}}),re.call(this,e),e.defer.promise})));var se=(0,f.hook)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,i=e.ttlBuffer,o=e.adUnitCodes,s=e.labels,d=e.auctionId,f=e.ortb2Fragments,p=e.metrics,v=e.defer,b=(0,I.getS2SBidderSet)(c.config.getConfig("s2sConfig")||[]);function y(e,r,n){if("function"==typeof t)try{t(e,r,n)}catch(e){(0,a.logError)("Error executing bidsBackHandler",null,e)}v.resolve({bids:e,timedOut:r,auctionId:n})}if(ie(n),(n=(0,A.useMetrics)(p).measureTime("requestBids.validate",(function(){return ne(n)}))).forEach((function(e){var t,r,n=Object.keys(e.mediaTypes||{banner:"banner"}),o=e.bids.map((function(e){return e.bidder})),s=I.default.bidderRegistry,d=o.filter((function(e){return!b.has(e)})),c=(null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid)||(0,a.generateUUID)();e.transactionId=c,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),(0,a.deepSetValue)(e,"ortb2Imp.ext.tid",c),d.forEach((function(t){var r=s[t],i=r&&r.getSpec&&r.getSpec(),o=i&&i.supportedMediaTypes||["banner"];n.some((function(e){return(0,g.includes)(o,e)}))?m.adunitCounter.incrementBidderRequestsCounter(e.code,t):((0,a.logWarn)((0,a.unsupportedBidderMessage)(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))})),m.adunitCounter.incrementRequestsCounter(e.code)})),n&&0!==n.length){var h=u.auctionManager.createAuction({adUnits:n,adUnitCodes:o,callback:y,cbTimeout:r,labels:s,auctionId:d,ortb2Fragments:f,metrics:p}),S=n.length;S>15&&(0,a.logInfo)("Current auction ".concat(h.getAuctionId()," contains ").concat(S," adUnits."),n),o.forEach((function(e){return l.targeting.setLatestAuctionForAdUnit(e,h.getAuctionId())})),h.callBids()}else(0,a.logMessage)("No adUnits configured. No bids requested."),y()}),"startAuction");function de(e,t){function r(e){for(var t;t=e.shift();)t()}r(y.storageCallbacks),r(ce),e.call(this,t)}t.startAuction=se,k.requestBids.before(de,49),k.addAdUnits=function(e){(0,a.logInfo)("Invoking pbjs.addAdUnits",arguments),k.adUnits.push.apply(k.adUnits,(0,a.isArray)(e)?e:[e]),E.emit(M)},k.onEvent=function(e,t,r){(0,a.logInfo)("Invoking pbjs.onEvent",arguments),(0,a.isFn)(t)?!r||Y[e].call(null,r)?E.on(e,t,r):(0,a.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,a.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},k.offEvent=function(e,t,r){(0,a.logInfo)("Invoking pbjs.offEvent",arguments),r&&!Y[e].call(null,r)||E.off(e,t,r)},k.getEvents=function(){return(0,a.logInfo)("Invoking pbjs.getEvents"),E.getEvents()},k.registerBidAdapter=function(e,t){(0,a.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{I.default.registerBidAdapter(e(),t)}catch(e){(0,a.logError)("Error registering bidder adapter : "+e.message)}},k.registerAnalyticsAdapter=function(e){(0,a.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{I.default.registerAnalyticsAdapter(e)}catch(e){(0,a.logError)("Error registering analytics adapter : "+e.message)}},k.createBid=function(e){return(0,a.logInfo)("Invoking pbjs.createBid",arguments),(0,b.createBid)(e)};var ce=[],ue=(0,f.hook)("async",(function(e){e&&!(0,a.isEmpty)(e)?((0,a.logInfo)("Invoking pbjs.enableAnalytics for: ",e),I.default.enableAnalytics(e)):(0,a.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");k.enableAnalytics=function(e){ce.push(ue.bind(this,e))},k.aliasBidder=function(e,t,r){(0,a.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?I.default.aliasBidAdapter(e,t,r):(0,a.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},k.aliasRegistry=I.default.aliasRegistry,c.config.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete k.aliasRegistry})),k.getAllWinningBids=function(){return u.auctionManager.getAllWinningBids()},k.getAllPrebidWinningBids=function(){return u.auctionManager.getBidsReceived().filter((function(e){return e.status===S.default.BID_STATUS.BID_TARGETING_SET}))},k.getHighestCpmBids=function(e){return l.targeting.getWinningBids(e)},k.markWinningBidAsUsed=function(e){var t=le(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&u.auctionManager.addWinningBid(t[0])};var le=function(e,t){var r=[];return e.adUnitCode&&e.adId?r=u.auctionManager.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?r=l.targeting.getWinningBids(e.adUnitCode):e.adId?r=u.auctionManager.getBidsReceived().filter((function(t){return t.adId===e.adId})):(0,a.logWarn)(t),r};function fe(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,a.logError)("Error processing command :","prebid.js",e)}}))}k.getConfig=c.config.getAnyConfig,k.readConfig=c.config.readAnyConfig,k.mergeConfig=c.config.mergeConfig,k.mergeBidderConfig=c.config.mergeBidderConfig,k.setConfig=c.config.setConfig,k.setBidderConfig=c.config.setBidderConfig,k.que.push((function(){return(0,s.listenMessagesFromCreative)()})),k.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,a.logError)("Error processing command :",e.message,e.stack)}else(0,a.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},k.que.push=k.cmd.push,k.processQueue=function(){f.hook.ready(),fe(k.que),fe(k.cmd)},k.triggerBilling=function(e){var t=le(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),r=t.find((function(t){return t.requestId===e.requestId}))||t[0];if(t.length>0&&r)try{I.default.callBidBillableBidder(r)}catch(e){(0,a.logError)("Error when triggering billing :",e)}else(0,a.logWarn)("The bid provided to triggerBilling did not match any bids received.")};var pe=k;t.default=pe},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){window.addEventListener("message",I,!1)},t.getReplier=h,t.receiveMessage=I,t._sendAdToCreative=S,r(1);var n,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),o=r(83),a=(n=r(20))&&n.__esModule?n:{default:n},s=r(0),d=r(43),c=r(15),u=r(52),l=r(4),f=r(258);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}var m=a.default.EVENTS.BID_WON,v=a.default.EVENTS.STALE_RENDER,b=new WeakSet,y={"Prebid Request":function(e,t,r){if(null==r)return void(0,f.emitAdRenderFail)({reason:a.default.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '".concat(t.adId,"'"),id:t.adId});if(r.status===a.default.BID_STATUS.RENDERED&&((0,s.logWarn)("Ad id ".concat(r.adId," has been rendered before")),i.emit(v,r),(0,s.deepAccess)(l.config.getConfig("auctionOptions"),"suppressStaleRender")))return;try{S(r,e)}catch(e){return void(0,f.emitAdRenderFail)({reason:a.default.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:r})}d.auctionManager.addWinningBid(r),i.emit(m,r)},"Prebid Event":function(e,t,r){if(null==r)return void(0,s.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"));if(r.status!==a.default.BID_STATUS.RENDERED)return void(0,s.logWarn)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));switch(t.event){case a.default.EVENTS.AD_RENDER_FAILED:(0,f.emitAdRenderFail)({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case a.default.EVENTS.AD_RENDER_SUCCEEDED:(0,f.emitAdRenderSucceeded)({doc:null,bid:r,id:t.adId});break;default:(0,s.logError)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}}};function h(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,s.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}function I(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){var n=(0,c.find)(d.auctionManager.getBidsReceived(),(function(e){return e.adId===r.adId}));y.hasOwnProperty(r.message)&&y[r.message](h(e),r,n)}}function S(e,t){var r=e.adId,n=e.ad,i=e.adUrl,o=e.width,a=e.height,d=e.renderer,c=e.cpm,l=e.originalCpm;(0,u.isRendererRequired)(d)?(0,u.executeRenderer)(d,e):r&&(E(e),t({message:"Prebid Response",ad:(0,s.replaceAuctionPrice)(n,l||c),adUrl:(0,s.replaceAuctionPrice)(i,l||c),adId:r,width:o,height:a}))}function E(e){var t=e.adId,r=e.adUnitCode,n=e.width,i=e.height;["div","iframe"].forEach((function(e){var o=function(e){var n=function(e,t){return(0,s.isGptPubadsDefined)()?function(e){var t=(0,c.find)(window.googletag.pubads().getSlots(),(function(t){return(0,c.find)(t.getTargetingKeys(),(function(r){return(0,c.includes)(t.getTargeting(r),e)}))}));return t?t.getSlotElementId():null}(e):(0,s.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(o){var a=o.style;a.width=n?n+"px":"100%",a.height=i+"px"}else(0,s.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))}))}g(y,{"Prebid Native":function(e,t,r){if(null==r)return void(0,s.logError)("Cannot find ad for x-origin event request: '".concat(t.adId,"'"));b.has(r)||(b.add(r),d.auctionManager.addWinningBid(r),i.emit(m,r));switch(t.action){case"assetRequest":e((0,o.getAssetMessage)(t,r));break;case"allAssetRequest":e((0,o.getAllAssetsMessage)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,E(r);break;default:(0,o.fireNativeTrackers)(t,r)}}})},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.isBidUsable=w,t.sortByDealAndPriceBucketOrCpm=T,t.newTargeting=C,t.targeting=t.getHighestCpmBidsFromBidPool=t.filters=t.TARGETING_KEYS=void 0;var n=v(r(11)),i=v(r(23)),o=r(0),a=r(4),s=r(83),d=r(43),c=r(25),u=r(24),l=(r(58),r(15)),f=v(r(20)),p=r(133),g=r(246),m=r(98);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}var y=[],h=20,I="targetingControls.allowTargetingKeys",S="targetingControls.addTargetingKeys",E='Only one of "'.concat(I,'" or "').concat(S,'" can be set'),A=Object.keys(f.default.TARGETING_KEYS).map((function(e){return f.default.TARGETING_KEYS[e]}));t.TARGETING_KEYS=A;var _={isActualBid:function(e){return e.getStatusCode()===f.default.STATUS.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(0,g.getTTL)(e)>(0,o.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!(0,l.includes)([f.default.BID_STATUS.RENDERED],e.status)||!e.status)}};function w(e){return!Object.values(_).some((function(t){return!t(e)}))}t.filters=_;var O=(0,u.hook)("sync",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n){var s=[],d=a.config.getConfig("sendBidsControl.dealPrioritization"),c=(0,o.groupBy)(e,"adUnitCode");return Object.keys(c).forEach((function(e){var n=[],a=(0,o.groupBy)(c[e],"bidderCode");Object.keys(a).forEach((function(e){return n.push(a[e].reduce(t))})),r>0?(n=d?n.sort(T(!0)):n.sort((function(e,t){return t.cpm-e.cpm})),s.push.apply(s,(0,i.default)(n.slice(0,r)))):s.push.apply(s,(0,i.default)(n))})),s}return e}));function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function C(e){var t={},r={};function d(e,t){return e.adserverTargeting&&t&&((0,o.isArray)(t)&&(0,l.includes)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function u(e,t){if(!0===a.config.getConfig("targetingControls.alwaysIncludeDeals")){var r=A.concat(s.NATIVE_TARGETING_KEYS);return O(t,p.getHighestCpm).map((function(t){if(t.dealId&&d(t,e))return(0,n.default)({},t.adUnitCode,B(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function g(e,t){var r=b({},f.default.TARGETING_KEYS,f.default.NATIVE_KEYS),n=Object.keys(r),i={};(0,o.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return r[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],a=e[o].filter((function(e){var o=Object.keys(e)[0],a=0===n.filter((function(e){return 0===o.indexOf(r[e])})).length||(0,l.find)(t,(function(e){var t=r[e];return 0===o.indexOf(t)}));return i[o]=!a,a}));e[o]=a}));var a=Object.keys(i).filter((function(e){return i[e]}));return(0,o.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function v(e,t){var r=(0,o.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(T()).reduce((function(e,n,i,a){var s,d=(s=n.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));i+1===a.length&&(d=d.slice(0,-3));var c=n.adUnitCode,u=d.length;return u<=t?(t-=u,(0,o.logInfo)("AdUnit '".concat(c,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),r[c]),e[c]=r[c]):(0,o.logWarn)("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),r[c]),i+1===a.length&&0===Object.keys(e).length&&(0,o.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function _(e){var t=e.map((function(e){return(0,n.default)({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return(0,n.default)({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return b(t,e)}),{}))})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=b({},e[r],t[r]),e}),{});return t}function C(t){return"string"==typeof t?[t]:(0,o.isArray)(t)?t:e.getAdUnitCodes()||[]}function x(){var t=e.getBidsReceived();if(a.config.getConfig("useBidCache")){var n=a.config.getConfig("bidCacheFilterFunction");"function"==typeof n&&(t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId||!!n(e)})))}else t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId}));return(t=t.filter((function(e){return(0,o.deepAccess)(e,"video.context")!==c.ADPOD})).filter(w)).forEach((function(e){return e.latestTargetedAuctionId=r[e.adUnitCode],e})),t}function P(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forTargeting:!1},a=t.getWinningBids(e,r,o),s=R();return a=a.map((function(e){return(0,n.default)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===s.indexOf(t)})).reduce((function(t,r){var o=[e.adserverTargeting[r]],a=(0,n.default)({},r.substring(0,h),o);if(r===f.default.TARGETING_KEYS.DEAL){var s="".concat(r,"_").concat(e.bidderCode).substring(0,h),d=(0,n.default)({},s,o);return[].concat((0,i.default)(t),[a,d])}return[].concat((0,i.default)(t),[a])}),[]))})),a}function R(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(A).filter(o.uniques)}function D(e,t,r,n){return Object.keys(t.adserverTargeting).filter(k()).forEach((function(r){e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,o.isArray)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(o.uniques),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function k(){var e=R();return e=e.concat(s.NATIVE_TARGETING_KEYS),function(t){return-1===e.indexOf(t)}}function j(e){return(0,n.default)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(k()).map((function(t){return(0,n.default)({},t.substring(0,h),[e.adserverTargeting[t]])})))}function N(e,t){return t.filter((function(t){return(0,l.includes)(e,t.adUnitCode)})).map((function(e){return b({},e)})).reduce(D,[]).map(j).filter((function(e){return e}))}function M(e,t){var r=A.concat(s.NATIVE_TARGETING_KEYS),i=a.config.getConfig("sendBidsControl.bidLimit"),o=O(t,p.getHighestCpm,i),c=a.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),u=c?c.map((function(e){return f.default.TARGETING_KEYS[e]})):r;return o.map((function(t){if(d(t,e))return(0,n.default)({},t.adUnitCode,B(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==u.indexOf(e)}))))})).filter((function(e){return e}))}function B(e,t){return t.map((function(t){return(0,n.default)({},"".concat(t,"_").concat(e.bidderCode).substring(0,h),[e.adserverTargeting[t]])}))}function U(t){function r(e){return(0,o.deepAccess)(e,f.default.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return(0,l.includes)(t,e.code)&&r(e)})).map((function(e){return(0,n.default)({},e.code,function(e){var t=r(e);return Object.keys(t).map((function(e){return(0,o.isStr)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),(0,o.isArray)(t[e])||(t[e]=[t[e]]),(0,n.default)({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,o.isGptPubadsDefined)()){var n=C(t),i=e.getAdUnits().filter((function(e){return(0,l.includes)(n,e.code)})),a=y.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=(0,o.isFn)(r)&&r(e);i.forEach((function(r){(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||(0,o.isFn)(t)&&t(r.code))&&e.updateTargetingFromMap(a)}))}))}},t.resetPresetTargetingAST=function(e){C(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){(0,l.includes)(y,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forTargeting:!1},n=C(e),i=P(n,t,r).concat(N(n,t)).concat(a.config.getConfig("enableSendAllBids")?M(n,t):u(n,t)).concat(U(n));i.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===y.indexOf(Object.keys(e)[0])&&(y=Object.keys(e).concat(y))}))}))}));var s=Object.keys(b({},f.default.DEFAULT_TARGETING_KEYS,f.default.NATIVE_KEYS)),d=a.config.getConfig(I),c=a.config.getConfig(S);if(null!=c&&null!=d)throw new Error(E);d=null!=c?s.concat(c):d||s,Array.isArray(d)&&d.length>0&&(i=g(i,d)),i=_(i);var l=a.config.getConfig("targetingControls.auctionKeyMaxChars");return l&&((0,o.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(l," characters.  Running checks on auction keys...")),i=v(i,l)),n.forEach((function(e){i[e]||(i[e]={})})),i},a.config.getConfig("targetingControls",(function(e){null!=(0,o.deepAccess)(e,I)&&null!=(0,o.deepAccess)(e,S)&&(0,o.logError)(E)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(t?t(r):(0,o.isAdUnitCodeMatchingSlot)(r)).forEach((function(t){Object.keys(e[t]).forEach((function(r){var n=e[t][r];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[t][r]=n})),(0,o.logMessage)("Attempting to set targeting-map for slot: ".concat(r.getSlotElementId()," with targeting-map:"),e[t]),r.updateTargetingFromMap(e[t])}))}))},t.getBidsReceived=x,t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forTargeting:!1},n=C(e);return m.bidCache.evaluateWinningBids(n,t,r)},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,o.logError)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(t){if((0,o.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(r[e][t])),(0,o.isStr)(r[e][t])||(0,o.isArray)(r[e][t])){var n={};t.search(/pt[0-9]/)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&(0,o.isFn)(window.apntag.setKeywords))return!0},t}t.getHighestCpmBidsFromBidPool=O;var x=C(d.auctionManager);t.targeting=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debuggingModuleLoader=p,t.debuggingControls=g,t.loadSession=function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=m,r=null;try{r=e.getItem(u)}catch(e){}null!==r&&t.enable()}},t.reset=t.DEBUG_KEY=void 0,r(9);var n=r(4),i=r(24),o=r(8),a=r(0),s=r(128),d=r(243),c=r(42),u="__pbjs_debugging__";function l(){return(0,o.getGlobal)().installedModules.includes("debugging")}function f(e){return new c.GreedyPromise((function(t){(0,d.loadExternalScript)(e,"debugging",t)}))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,r=void 0===t?l:t,d=e.script,p=void 0===d?f:d,g=null;return function(){return null==g&&(g=new c.GreedyPromise((function(e,t){setTimeout((function(){if(r())e();else{var d="https://cdn.jsdelivr.net/npm/prebid.js@8.20.0/dist/debugging-standalone.js";(0,a.logMessage)('Debugging module not installed, loading it from "'.concat(d,'"...')),(0,o.getGlobal)()._installDebugging=!0,p(d).then((function(){(0,o.getGlobal)()._installDebugging({DEBUG_KEY:u,hook:i.hook,config:n.config,createBid:s.createBid,logger:(0,a.prefixLog)("DEBUG:")})})).then(e,t)}}))}))),g}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,r=void 0===t?p():t,n=e.hook,o=void 0===n?(0,i.getHook)("requestBids"):n,a=null,s=!1;function d(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(a||c.GreedyPromise.resolve()).then((function(){return e.apply(t,n)}))}function u(){s||(a=r(),o.before(d,99),s=!0)}function l(){o.getHooks({hook:d}).remove(),s=!1}function f(){a=null,l()}return{enable:u,disable:l,reset:f}}t.DEBUG_KEY=u;var m=g(),v=m.reset;t.reset=v,n.config.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?m.enable():m.disable()}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lowEntropySUAAccessor=c,t.highEntropySUAAccessor=u,t.uaDataToSUA=l,t.getHighEntropySUA=t.getLowEntropySUA=t.LOW_ENTROPY_HINTS=t.HIGH_ENTROPY_HINTS=t.SUA_SOURCE_UA_HEADER=t.SUA_SOURCE_HIGH_ENTROPY=t.SUA_SOURCE_LOW_ENTROPY=t.SUA_SOURCE_UNKNOWN=void 0,r(1);var n=r(0),i=r(42);t.SUA_SOURCE_UNKNOWN=0;t.SUA_SOURCE_LOW_ENTROPY=1;t.SUA_SOURCE_HIGH_ENTROPY=2;t.SUA_SOURCE_UA_HEADER=3;var o=["architecture","bitness","model","platformVersion","fullVersionList"];t.HIGH_ENTROPY_HINTS=o;var a=["brands","mobile","platform"];t.LOW_ENTROPY_HINTS=a;var s=c();t.getLowEntropySUA=s;var d=u();function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,r=t&&a.some((function(e){return void 0!==t[e]}))?Object.freeze(l(1,t)):null;return function(){return r}}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,r={},a=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!a.has(e)){var s=Array.from(e);s.sort(),a.set(e,s.join("|"))}var d=a.get(e);if(!r.hasOwnProperty(d))try{r[d]=t.getHighEntropyValues(e).then((function(e){return(0,n.isEmpty)(e)?null:Object.freeze(l(2,e))})).catch((function(){return null}))}catch(e){r[d]=i.GreedyPromise.resolve(null)}return r[d]}}function l(e,t){function r(e,t){var r={brand:e};return(0,n.isStr)(t)&&!(0,n.isEmptyStr)(t)&&(r.version=t.split(".")),r}var i={source:e};return t.platform&&(i.platform=r(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(i.browsers=(t.fullVersionList||t.brands).map((function(e){return r(e.brand,e.version)}))),void 0!==t.mobile&&(i.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var r=t[e];(0,n.isStr)(r)&&(i[e]=r)})),i}t.getHighEntropySUA=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstMatchingFloor=G,t.getBiddersCpmAdjustment=H,t.calculateAdjustedFloor=Y,t.getFloor=K,t.getFloorsDataForAuction=Q,t.getFloorDataFromAdUnits=$,t.updateAdUnitsForAuction=Z,t.pickRandomModel=ee,t.createFloorsDataForAuction=te,t.continueAuction=re,t.normalizeDefault=ne,t.isFloorsDataValid=ae,t.parseFloorData=se,t.handleFetchResponse=ue,t.generateAndHandleFetch=fe,t.handleSetFloorsConfig=pe,t.setOrtbImpBidFloor=me,t.setImpExtPrebidFloors=ve,t.setOrtbExtPrebidFloors=be,t.addBidResponseHook=t.requestBidsHook=t.fieldMatchingFunctions=t._floorDataForAuction=t.allowedFields=void 0,r(1);var n=A(r(18)),i=A(r(260)),o=A(r(11)),a=r(8),s=r(0),d=r(4),c=r(72),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),l=A(r(20)),f=r(24),p=r(15),g=r(129),m=r(58),v=r(43),b=r(59),y=r(48),h=r(245),I=r(176),S=r(257);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}var w,O=["modelGroups"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x="Price Floors",P=(0,c.ajaxBuilder)(1e4),R=Symbol(),D=[R,"gptSlot","adUnitCode","size","domain","mediaType"];t.allowedFields=D;var k=!1,j=!1,N={},M=[],B={};function U(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}t._floorDataForAuction=B;var L,V=function(){return null==L&&(L=(0,s.parseUrl)((0,g.getRefererInfo)().topmostLocation,{noDecodeWholeURL:!0}).hostname),L};function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,i=void 0===n?v.auctionManager.index:n;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var q=(w={},(0,o.default)(w,R,(function(){return"*"})),(0,o.default)(w,"size",(function(e,t){return(0,s.parseGPTSingleSizeArray)(t.size)||"*"})),(0,o.default)(w,"mediaType",(function(e,t){return t.mediaType||"banner"})),(0,o.default)(w,"gptSlot",(function(e,t){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=(void 0===t?v.auctionManager.index:t).getAdUnit({transactionId:e});return"gam"===(0,s.deepAccess)(r,"ortb2Imp.ext.data.adserver.name")&&r.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||(0,I.getGptSlotInfoForAdUnitCode)(z(e,t)).gptSlot})),(0,o.default)(w,"domain",V),(0,o.default)(w,"adUnitCode",(function(e,t){return z(e,t)})),w);function F(e,t,r){return e.length?e.reduce((function(e,n){var i=q[n](t,r)||"*";return"string"!=typeof i&&(i="*"),e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[]):[]}function G(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=F((0,s.deepAccess)(e,"schema.fields")||[],t,n);if(!i.length)return{matchingFloor:void 0};var o=i.map((function(e){return e[0]})).join("-"),a=(0,s.deepAccess)(e,"matchingInputs.".concat(o));if(a)return C({},a);var d=W(i,(0,s.deepAccess)(e,"schema.delimiter")||"|"),c=(0,p.find)(d,(function(t){return e.values.hasOwnProperty(t)})),u={floorMin:e.floorMin||0,floorRuleValue:e.values[c],matchingData:d[0],matchingRule:c===(null===(r=e.meta)||void 0===r?void 0:r.defaultRule)?void 0:c},l=(0,s.deepAccess)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof l&&(u.floorMin=l),u.matchingFloor=Math.max(u.floorMin,u.floorRuleValue),(0,s.deepSetValue)(e,"matchingInputs.".concat(o),C({},u)),u}function W(e,t){return e.reduce((function(e,r){var n=[];return e.map((function(e){r.map((function(r){n.push(e+t+r)}))})),n})).sort((function(e,t){return e.split("*").length-t.split("*").length}))}function H(e,t,r){return parseFloat((0,h.adjustCpm)(e,C(C({},t),{},{cpm:e}),r))}function Y(e,t){var r=Math.pow(10,10);return e*r/(t*r)*(e*r)/r}t.fieldMatchingFunctions=q;var X={banner:function(e){return(0,s.deepAccess)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return(0,s.deepAccess)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return(0,s.deepAccess)(e,"mediaTypes.native.image.sizes")?[(0,s.deepAccess)(e,"mediaTypes.native.image.sizes")]:[]}};function J(e,t){var r=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===r.length&&(t.mediaType=r[0]),"*"===t.size&&-1!==r.indexOf(t.mediaType)&&X[t.mediaType]&&1===X[t.mediaType](e).length&&(t.size=X[t.mediaType](e)[0]),t}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,r=B[t.auctionId];if(!r||r.skipped)return{};e=J(t,e);var n=G(r.data,C({},t),{mediaType:e.mediaType,size:e.size}),i=e.currency||r.data.currency;if(n.matchingFloor&&i!==r.data.currency)try{n.matchingFloor=(0,a.getGlobal)().convertCurrency(n.matchingFloor,r.data.currency,i)}catch(e){(0,s.logWarn)("".concat(x,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),i=r.data.currency}if(r.enforcement.bidAdjustment&&n.matchingFloor){var o=m.bidderSettings.get(t.bidder,"inverseBidAdjustment");if(o)n.matchingFloor=o(n.matchingFloor,t);else{var d=H(n.matchingFloor,null,t);n.matchingFloor=d?Y(n.matchingFloor,d):n.matchingFloor}}return n.matchingFloor?{floor:U(n.matchingFloor,4),currency:i}:{}}function Q(e,t){var r=(0,s.deepClone)(e);return r.schema.delimiter=e.schema.delimiter||"|",r.values=function(e,t){var r=e.schema.fields,n=e.schema.delimiter,i=t&&-1===r.indexOf("adUnitCode")&&r.unshift("adUnitCode");return Object.keys(e.values).reduce((function(r,o){return r[(i?"".concat(t).concat(n).concat(o):o).toLowerCase()]=e.values[o],r}),{})}(r,t),r.currency=r.currency||"USD",r}function $(e){var t=e.find((function(e){var t;return null!=(null===(t=e.floors)||void 0===t?void 0:t.schema)}));return e.reduce((function(e,r){var n,i;if(null!=(null===(n=r.floors)||void 0===n?void 0:n.schema)&&!(0,s.deepEqual)(r.floors.schema,null==t||null===(i=t.floors)||void 0===i?void 0:i.schema))return(0,s.logError)("".concat(x,": adUnit '").concat(r.code,"' declares a different schema from one previously declared by adUnit '").concat(t.code,"'. Floor config for '").concat(r.code,"' will be ignored.")),e;var o=_({},null==t?void 0:t.floors,{values:void 0},r.floors);if(ae(o))if(e.values){var a=Q(o,r.code).values;_(e.values,a)}else(e=Q(o,r.code)).location="adUnit";else null!=r.floors&&(0,s.logWarn)("adUnit '".concat(r.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),r);return e}),{})}function Z(e,t,r){e.forEach((function(e){e.bids.forEach((function(e){t.skipped?delete e.getFloor:e.getFloor=K,e.auctionId=r,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:(0,s.deepAccess)(t,"data.modelVersion"),modelWeight:(0,s.deepAccess)(t,"data.modelWeight"),modelTimestamp:(0,s.deepAccess)(t,"data.modelTimestamp"),location:(0,s.deepAccess)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:N.fetchStatus}}))}))}function ee(e,t){for(var r=Math.floor(Math.random()*t+1),n=0;n<e.length;n++)if((r-=e[n].modelWeight)<=0)return e[n]}function te(e,t){var r=(0,s.deepClone)(N);if(2===(0,s.deepAccess)(r,"data.floorsSchemaVersion")){var n=r.data,o=n.modelGroups,a=(0,i.default)(n,O);r.data=_(a,ee(o,a.modelWeightSum))}var d=0===Object.keys((0,s.deepAccess)(r,"data.values")||{}).length;if(r.data=d?$(e):Q(r.data),0===Object.keys((0,s.deepAccess)(r,"data.values")||{}).length)r.skipped=!0;else{var c=(0,s.getParameterByName)("pbjs_skipRate")||r.skipRate,u=100*Math.random()<parseFloat(c);r.skipped=u}return r.hasOwnProperty("floorMin")&&(r.data.floorMin=r.floorMin),Z(e,r,t),r}function re(e){e.hasExited||(M=M.filter((function(t){return t.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,s.generateUUID)(),B[e.reqBidsConfigObj.auctionId]=te(e.reqBidsConfigObj.adUnits||(0,a.getGlobal)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function ne(e){if((0,s.isNumber)(e.default)){var t,r,n="*",i=((null===(t=e.schema)||void 0===t?void 0:t.fields)||[]).length;if(i)n=Array(i).fill("*").join((null===(r=e.schema)||void 0===r?void 0:r.delimiter)||"|");else(0,s.deepSetValue)(e,"schema.fields",[R]);e.values=e.values||{},null==e.values[n]&&(e.values[n]=e.default,e.meta={defaultRule:n})}return e}function ie(e){return e=ne(e),t=(0,s.deepAccess)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((function(e){return-1!==D.indexOf(e)}))||((0,s.logError)("".concat(x,": Fields received do not match allowed fields")),0))&&(r=e,i=e.schema.fields.length,o=e.schema.delimiter||"|","object"===(0,n.default)(r.values)&&(r.values=Object.keys(r.values).reduce((function(e,t){return function(e,t,r,n){return"string"==typeof e&&e.split(n).length===r&&"number"==typeof t}(t,r.values[t],i,o)&&(e[t]=r.values[t]),e}),{}),Object.keys(r.values).length>0));var t,r,i,o}var oe={1:function(e){return ie(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(t){return!("number"!=typeof t.modelWeight||!ie(t))&&(e.modelWeightSum+=t.modelWeight,!0)})))}};function ae(e){return"object"===(0,n.default)(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof oe[e.floorsSchemaVersion]?((0,s.logError)("".concat(x,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):oe[e.floorsSchemaVersion](e))}function se(e,t){if(e&&"object"===(0,n.default)(e)&&ae(e))return(0,s.logInfo)("".concat(x,": A ").concat(t," set the auction floor data set to "),e),C(C({},e),{},{location:t});(0,s.logError)("".concat(x,": The floors data did not contain correct values"),e)}var de=(0,y.timedAuctionHook)("priceFloors",(function(e,t){var r={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};N.auctionDelay>0&&k?(r.timer=setTimeout((function(){(0,s.logWarn)("".concat(x,": Fetch attempt did not return in time for auction")),N.fetchStatus="timeout",re(r)}),N.auctionDelay),M.push(r)):re(r)}));function ce(){M.forEach((function(e){clearTimeout(e.timer),re(e)})),M=[]}function ue(e){var t;k=!1,N.fetchStatus="success";try{t=JSON.parse(e)}catch(r){t=e}var r=se(t,"fetch");r&&(N.data=r,N.skipRate=(0,s.isNumber)(r.skipRate)?r.skipRate:N.skipRate,N.floorProvider=r.floorProvider||N.floorProvider),ce()}function le(e){k=!1,N.fetchStatus="error",(0,s.logError)("".concat(x,": Fetch errored with: "),e),ce()}function fe(e){e.url&&!k?"GET"!==(e.method||"GET")?(0,s.logError)("".concat(x,": 'GET' is the only request method supported at this time!")):(P(e.url,{success:ue,error:le},null,{method:"GET"}),k=!0):k&&(0,s.logWarn)("".concat(x,": A fetch is already occuring. Skipping."))}function pe(e){(N=(0,s.pick)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return(0,s.deepAccess)(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN((0,s.deepAccess)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return(0,s.pick)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===(0,n.default)(e)&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((function(e){-1===D.indexOf(e)&&"function"==typeof t[e]&&(D.push(e),q[e]=t[e])}))):void 0;var t},"data",function(e){return e&&se(e,"setConfig")||void 0}])).enabled?(fe(N.endpoint),j||(u.on(l.default.EVENTS.AUCTION_END,(function(e){setTimeout((function(){return delete B[e.auctionId]}),3e3)})),(0,a.getGlobal)().requestBids.before(de,50),(0,f.getHook)("addBidResponse").before(ge,(0,s.debugTurnedOn)()?4:50),j=!0)):((0,s.logInfo)("".concat(x,": Turning off module")),N={},t._floorDataForAuction=B={},(0,f.getHook)("addBidResponse").getHooks({hook:ge}).remove(),(0,a.getGlobal)().requestBids.getHooks({hook:de}).remove(),j=!1)}t.requestBidsHook=de;var ge=(0,y.timedBidResponseHook)("priceFloors",(function(e,t,r,n){var i=B[r.auctionId];if(!i||!r||i.skipped)return e.call(this,t,r,n);var o,d=v.auctionManager.index.getBidRequest(r),c=G(i.data,d,C(C({},r),{},{size:[r.width,r.height]}));if(!c.matchingFloor)return(0,s.logWarn)("".concat(x,": unable to determine a matching price floor for bidResponse"),r),e.call(this,t,r,n);var u,f=i.data.currency.toUpperCase(),p=r.currency||"USD";if(f===p.toUpperCase())o=r.cpm;else if(r.originalCurrency&&f===r.originalCurrency.toUpperCase())o=r.originalCpm;else try{o=(0,a.getGlobal)().convertCurrency(r.cpm,p.toUpperCase(),f)}catch(i){return(0,s.logError)("".concat(x,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(r)),e.call(this,t,r,n)}return function(e,t,r,n){r.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:n,enforcements:C({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(n,i){var o=t.matchingData.split(e.data.schema.delimiter)[i];r.floorData.matchedFields[n]=o}))}(i,c,r,o=H(o,r,d)),function(e,t,r){var n=!1!==(0,s.deepAccess)(e,"enforcement.enforceJS"),i=!0===(0,s.deepAccess)(e,"enforcement.floorDeals")||!r.dealId,o=r.floorData.cpmAfterAdjustments<t.matchingFloor;return n&&o&&i}(i,c,r)?(n(l.default.REJECTION_REASON.FLOOR_NOT_MET),void(0,s.logWarn)("".concat(x,": ").concat(r.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==r||null===(u=r.floorData)||void 0===u?void 0:u.cpmAfterAdjustments,", floor: ").concat(null==c?void 0:c.matchingFloor,")"),r)):e.call(this,t,r,n)}));function me(e,t,r){if("function"==typeof t.getFloor){var n,i;try{var o=t.getFloor({currency:r.currency||d.config.getConfig("currency.adServerCurrency")||"USD",mediaType:r.mediaType||"*",size:"*"});n=o.currency,i=o.floor}catch(e){return void(0,s.logWarn)("Cannot compute floor for bid",t)}i=parseFloat(i),null==n||null==i||isNaN(i)||_(e,{bidfloor:i,bidfloorcur:n})}}function ve(e,t,r){if(null!=e.bidfloor){var n,i,o,a,d,c,u,l,f,p,g=r.reqContext.floorMin||{},m=g.floorMinCur,v=g.floorMin;null==m&&(m=e.bidfloorcur);var b=(null===(n=e.ext)||void 0===n||null===(i=n.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(d=a.prebid)||void 0===d?void 0:d.floorMinCur)||m,y=(null===(c=e.ext)||void 0===c||null===(u=c.prebid)||void 0===u||null===(l=u.floors)||void 0===l?void 0:l.floorMin)||(null===(f=e.ext)||void 0===f||null===(p=f.prebid)||void 0===p?void 0:p.floorMin),h=(0,S.convertCurrency)(e.bidfloor,e.bidfloorcur,m),I=!(!y||!b)&&(0,S.convertCurrency)(y,b,m),E=I&&I<h?I:h;(0,s.deepSetValue)(e,"ext.prebid.floors.floorMin",E),(null==v||v>E)&&(v=E),r.reqContext.floorMin={floorMin:v,floorMinCur:m}}}function be(e,t,r){var n,i,o;j&&(0,s.deepSetValue)(e,"ext.prebid.floors.enabled",(null===(n=e.ext)||void 0===n||null===(i=n.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.enabled)||!1);null!=r&&r.floorMin&&(0,s.mergeDeep)(e,{ext:{prebid:{floors:r.floorMin}}})}t.addBidResponseHook=ge,d.config.getConfig("floors",(function(e){return pe(e.floors)})),(0,b.registerOrtbProcessor)({type:b.IMP,name:"bidfloor",fn:me}),(0,b.registerOrtbProcessor)({type:b.IMP,name:"extPrebidFloors",fn:ve,dialects:[b.PBS],priority:-1}),(0,b.registerOrtbProcessor)({type:b.REQUEST,name:"extPrebidFloors",fn:be,dialects:[b.PBS]}),(0,a.registerModule)("priceFloors")},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeBidRequestsHook=t.appendPbAdSlot=t.appendGptSlots=t._currentConfig=void 0,r(17);var n=r(8),i=r(0),o=r(4),a=r(24),s=r(15);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var c=void 0,u={};t._currentConfig=u;var l=!1,f=function(e){var t=u.customGptSlotMatching;if((0,i.isGptPubadsDefined)()){var r=e.reduce((function(e,t){return e[t.code]=e[t.code]||[],e[t.code].push(t),e}),{});window.googletag.pubads().getSlots().forEach((function(e){var n=(0,s.find)(Object.keys(r),t?t(e):(0,i.isAdUnitCodeMatchingSlot)(e));if(n){var o={name:"gam",adslot:p(e.getAdUnitPath())};r[n].forEach((function(e){var t,r,n;(0,i.deepSetValue)(e,"ortb2Imp.ext.data.adserver",d({},null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.adserver,o))}))}}))}};t.appendGptSlots=f;var p=function(e){return(o.config.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e},g=function(e,t){var r=e.ortb2Imp.ext.data;if(r.pbadslot)return r.pbadslot;if((0,i.isGptPubadsDefined)()){var n=window.googletag.pubads().getSlots().filter((function(e){return e.getAdUnitPath()===t}));if(0!==n.length)return 1===n.length?t:"".concat(t,"#").concat(e.code)}},m=function(e){var t=e.ortb2Imp.ext.data,r=u.customPbAdSlot;if(!t.pbadslot)if(r)t.pbadslot=r(e.code,(0,i.deepAccess)(t,"adserver.adslot"));else{try{var n=document.getElementById(e.code);if(n.dataset.adslotid)return void(t.pbadslot=n.dataset.adslotid)}catch(e){}if(!(0,i.deepAccess)(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}};t.appendPbAdSlot=m;var v=function(e,t){f(t);var r=u,n=r.useDefaultPreAuction,o=r.customPreAuction;t.forEach((function(e){e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var t=e.ortb2Imp.ext;if(o||n){var r,a=(0,i.deepAccess)(t,"data.adserver.adslot");o?r=o(e,a):n&&(r=g(e,a)),r&&(t.gpid=t.data.pbadslot=r)}else{var s=m(e);t.gpid||s||(t.gpid=t.data.pbadslot)}}));for(var a=arguments.length,s=new Array(a>2?a-2:0),d=2;d<a;d++)s[d-2]=arguments[d];return e.call.apply(e,[c,t].concat(s))};t.makeBidRequestsHook=v;var b=function(e){t._currentConfig=u=(0,i.pick)(e,["enabled",function(e){return!1!==e},"customGptSlotMatching",function(e){return"function"==typeof e&&e},"customPbAdSlot",function(e){return"function"==typeof e&&e},"customPreAuction",function(e){return"function"==typeof e&&e},"useDefaultPreAuction",function(e){return!0===e}]),u.enabled?l||((0,a.getHook)("makeBidRequests").before(v),l=!0):((0,i.logInfo)("".concat("GPT Pre-Auction",": Turning off module")),t._currentConfig=u={},(0,a.getHook)("makeBidRequests").getHooks({hook:v}).remove(),l=!1)};o.config.getConfig("gptPreAuction",(function(e){return b(e.gptPreAuction)})),b({}),(0,n.registerModule)("gptPreAuction")},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.resetConsentData=function(){h=void 0,t.userCMP=g=void 0,t.consentTimeout=m=void 0,d.gdprDataHandler.reset()},t.setConsentConfig=O,t.enrichFPDHook=T,t.setOrtbAdditionalConsent=C,t.requestBidsHook=t.staticConsentData=t.gdprScope=t.consentTimeout=t.userCMP=void 0;var n,i=(n=r(18))&&n.__esModule?n:{default:n},o=r(8),a=r(0),s=r(4),d=r(29),c=r(15),u=r(48),l=r(59),f=r(134),p=r(177);var g,m,v,b,y,h;t.userCMP=g,t.consentTimeout=m,t.gdprScope=v,t.staticConsentData=b;var I=!1,S={iab:function(e){var t=e.onSuccess,r=e.onError,n=e.onEvent;var i=(0,p.cmpClient)({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!i)return r("TCF2 CMP not found.");i.isDirect?(0,a.logInfo)("Detected CMP API is directly accessible, calling it now..."):(0,a.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now...");i({command:"addEventListener",callback:function(e,i){(0,a.logInfo)("Received a response from CMP",e),i?(n(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||_(e,{onSuccess:t,onError:r})):r("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(e){var t=e.onSuccess,r=e.onError;_(b,{onSuccess:t,onError:r})}};function E(e){var t,r,n=!1,i=null,o=!1;function a(e){null!=i&&clearTimeout(i),n||null==e||(0===e?t():i=setTimeout(t,e))}function s(t,r,i){if(a(null),n=!0,d.gdprDataHandler.setConsentData(t),"function"==typeof e){for(var o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];e.apply(void 0,[r,i].concat(s))}}if((0,c.includes)(Object.keys(S),g)){var u={onSuccess:function(e){return s(e,!1)},onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];s.apply(void 0,[null,!0,e].concat(r))},onEvent:function(e){r=e,o||(o=!0,null!=y&&a(y))}};t=function(){var e=function(e){s(e,!1,"".concat(o?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};_(r,{onSuccess:e,onError:function(){return e(w(void 0))}})},S[g](u),null!=y&&o||a(m)}else s(null,!1,"CMP framework (".concat(g,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var A=(0,u.timedAuctionHook)("gdpr",(function(e,t){var r;r=function(r,n){if(n){var i=a.logWarn;r&&(i=a.logError,n="".concat(n," Canceling auction as per consentManagement config."));for(var o=arguments.length,s=new Array(o>2?o-2:0),d=2;d<o;d++)s[d-2]=arguments[d];i.apply(void 0,[n].concat(s))}r?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,a.logError)("Error executing bidsBackHandler")):e.call(this,t)},h?((0,a.logInfo)("User consent information already known.  Pulling internally stored information..."),r(!1)):E(r)}));function _(e,t){var r,n,i=t.onSuccess,o=t.onError;r=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:v,n=e&&e.tcString,"boolean"==typeof r&&(!0!==r||n&&(0,a.isStr)(n))?i(w(e)):o("CMP returned unexpected value during lookup process.",e)}function w(e){return h={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:v},e&&e.addtlConsent&&(0,a.isStr)(e.addtlConsent)&&(h.addtlConsent=e.addtlConsent),h.apiVersion=2,h}function O(e){if((e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"===(0,i.default)(e)){var r;if((0,a.isStr)(e.cmpApi)?t.userCMP=g=e.cmpApi:(t.userCMP=g="iab",(0,a.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,a.isNumber)(e.timeout)?t.consentTimeout=m=e.timeout:(t.consentTimeout=m=1e4,(0,a.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),y=(0,a.isNumber)(e.actionTimeout)?e.actionTimeout:null,t.gdprScope=v=!0===e.defaultGdprScope,(0,a.logInfo)("consentManagement module has been activated..."),"static"===g)if((0,a.isPlainObject)(e.consentData))t.staticConsentData=b=e.consentData,null!=(null===(r=b)||void 0===r?void 0:r.getTCData)&&(t.staticConsentData=b=b.getTCData),t.consentTimeout=m=0;else(0,a.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.");I||(0,o.getGlobal)().requestBids.before(A,50),I=!0,d.gdprDataHandler.enable(),E()}else(0,a.logWarn)("consentManagement (gdpr) config not defined, exiting consent manager")}function T(e,t){return e(t.then((function(e){var t=d.gdprDataHandler.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&(0,a.deepSetValue)(e,"regs.ext.gdpr",t.gdprApplies?1:0),(0,a.deepSetValue)(e,"user.ext.consent",t.consentString)),e})))}function C(e,t){var r,n=null===(r=t.gdprConsent)||void 0===r?void 0:r.addtlConsent;n&&"string"==typeof n&&(0,a.deepSetValue)(e,"user.ext.ConsentedProvidersSettings.consented_providers",n)}t.requestBidsHook=A,s.config.getConfig("consentManagement",(function(e){return O(e.consentManagement)})),f.enrichFPD.before(T),(0,l.registerOrtbProcessor)({type:l.REQUEST,name:"gdprAddtlConsent",fn:C}),(0,o.registerModule)("consentManagement")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lookupIabConsent=W,t.storeConsentData=K,t.resetConsentData=function(){j=void 0,t.userCMP=R=void 0,t.consentTimeout=D=void 0,y.gppDataHandler.reset(),q.INST=null},t.setConsentConfig=Q,t.enrichFPDHook=$,t.requestBidsHook=t.GPPClient=t.consentTimeout=t.userCMP=void 0,r(172),r(1),r(9),r(126);var n=_(r(18)),i=_(r(173)),o=_(r(248)),a=_(r(249)),s=_(r(444)),d=_(r(174)),c=_(r(6)),u=_(r(11)),l=_(r(171)),f=_(r(101)),p=_(r(100)),g=_(r(23)),m=r(8),v=r(0),b=r(4),y=r(29),h=r(48),I=r(134),S=r(177),E=r(42),A=r(84);function _(e){return e&&e.__esModule?e:{default:e}}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function P(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}(e,t,"set");return function(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(r){t.set.call(e,r)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}(e,r)}var R,D,k,j;t.userCMP=R,t.consentTimeout=D;var N=!1;function M(e,t){var r=t.onSuccess,n=t.onError;new E.GreedyPromise((function(t){return t(e())})).then(r,(function(e){e instanceof U?n.apply(void 0,[e.message].concat((0,g.default)(e.args))):n("GPP error:",e)}))}var B="1.0",U=(0,f.default)((function e(t,r){(0,p.default)(this,e),this.message=t,this.args=null==r?[]:[r]})),L=new WeakMap,V=new WeakMap,z=new WeakMap,q=function(){function e(t,r){var n=this;(0,p.default)(this,e),x(this,L,{writable:!0,value:void 0}),x(this,V,{writable:!0,value:void 0}),x(this,z,{writable:!0,value:[]}),(0,u.default)(this,"initialized",!1),this.apiVersion=this.constructor.apiVersion,this.cmpVersion=r,this.cmp=r;var i=[0,1].map((function(e){return function(t){for(;(0,l.default)(n,z).length;)(0,l.default)(n,z).pop()[e](t)}})),o=(0,c.default)(i,2);P(this,L).value=o[0],P(this,V).value=o[1]}return(0,f.default)(e,[{key:"init",value:function(e){var t=this,r=this.updateWhenReady(e);return this.initialized||(this.initialized=!0,this.cmp({command:"addEventListener",callback:function(e,r){var n;null==r||r?"error"===(null==e||null===(n=e.pingData)||void 0===n?void 0:n.cmpStatus)?(0,l.default)(t,V).call(t,new U('CMP status is "error"; please check CMP setup',e)):t.isCMPReady((null==e?void 0:e.pingData)||{})&&t.events.includes(null==e?void 0:e.eventName)&&(0,l.default)(t,L).call(t,t.updateConsent(e.pingData)):(0,l.default)(t,V).call(t,new U("Received error response from CMP",e))}})),r}},{key:"refresh",value:function(){return this.cmp({command:"ping"}).then(this.updateWhenReady.bind(this))}},{key:"updateConsent",value:function(e){return this.getGPPData(e).then((function(e){if(null==e||(0,v.isEmpty)(e))throw new U("Received empty response from CMP",e);return J(e)})).then((function(e){return(0,v.logInfo)("Retrieved GPP consent from CMP:",e),e}))}},{key:"nextUpdate",value:function(){var e=this;return new E.GreedyPromise((function(t,r){(0,l.default)(e,z).push([t,r])}))}},{key:"updateWhenReady",value:function(e){return this.isCMPReady(e)?this.updateConsent(e):this.nextUpdate()}}],[{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.apiVersion=e,this.CLIENTS[e]=this,t&&(this.CLIENTS.default=this)}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.cmpClient;return null==this.INST&&(this.INST=this.ping(t).catch((function(t){throw e.INST=null,t}))),this.INST.then((function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return[r,r.initialized?r.refresh():r.init(n)]}))}},{key:"ping",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.cmpClient,r={apiName:"__gpp",apiArgs:["command","callback","parameter"]},n=t(C(C({},r),{},{mode:S.MODE_RETURN}));return new E.GreedyPromise((function(i,o){if(null!=n){var a=!1,s=function(n,s){if(!a)if(null==s||s){if(null!=n){a=!0;var d=null==n?void 0:n.gppVersion,c=e.getClient(d);d!==c.apiVersion?(0,v.logWarn)("Unrecognized GPP CMP version: ".concat(d,". Continuing using GPP API version ").concat(c,"...")):(0,v.logInfo)("Using GPP version ".concat(d));var u=c.apiVersion===B?S.MODE_MIXED:S.MODE_CALLBACK,l=new c(d,t(C(C({},r),{},{mode:u})));i([l,n])}}else o(n)};n({command:"ping",callback:s}).then((function(e){return s(e,!0)}),o)}else o(new U("GPP CMP not found"))})).finally((function(){n&&n.close()}))}},{key:"getClient",value:function(e){return this.CLIENTS.hasOwnProperty(e)?this.CLIENTS[e]:this.CLIENTS.default}}]),e}();t.GPPClient=q,(0,u.default)(q,"CLIENTS",{}),(0,u.default)(q,"INST",void 0);var F=function(e){(0,o.default)(r,e);var t=O(r);function r(){var e;(0,p.default)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.default)((0,i.default)(e),"events",["sectionChange","cmpStatus"]),e}return(0,f.default)(r,[{key:"isCMPReady",value:function(e){return"loaded"===e.cmpStatus}},{key:"getGPPData",value:function(e){var t=this,r=E.GreedyPromise.all((e.supportedAPIs||e.apiSupport||[]).map((function(e){return t.cmp({command:"getSection",parameter:e}).catch((function(t){(0,v.logWarn)("Could not retrieve GPP section '".concat(e,"'"),t)})).then((function(t){return[e,t]}))}))).then((function(e){return Object.fromEntries(e.filter((function(e){var t=(0,c.default)(e,2);t[0];return null!=t[1]})).map((function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1],i=[Object.fromEntries(Object.entries(n).filter((function(e){return"Gpc"!==(0,c.default)(e,1)[0]})))];return null!=n.Gpc&&i.push({SubsectionType:1,Gpc:n.Gpc}),[r,i]})))}));return E.GreedyPromise.all([this.cmp({command:"getGPPData"}),r]).then((function(e){var t=(0,c.default)(e,2);return w({},t[0],{parsedSections:t[1]})}))}}]),r}(q);(0,s.default)((0,d.default)(F),"register",F).call(F,B);var G=function(e){(0,o.default)(r,e);var t=O(r);function r(){var e;(0,p.default)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.default)((0,i.default)(e),"events",["sectionChange","signalStatus"]),e}return(0,f.default)(r,[{key:"isCMPReady",value:function(e){return"ready"===e.signalStatus}},{key:"getGPPData",value:function(e){return E.GreedyPromise.resolve(e)}}]),r}(q);function W(e){var t=e.onSuccess,r=e.onError,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.cmpClient;M((function(){return q.init(n).then((function(e){var t=(0,c.default)(e,2);t[0];return t[1]}))}),{onSuccess:t,onError:r})}(0,s.default)((0,d.default)(G),"register",G).call(G,"1.1",!0);var H={iab:W,static:function(e){return M((function(){return J(k)}),e)}};function Y(e){var t=!1,r=null;function n(n,i,o){if(null!=r&&clearTimeout(r),t=!0,y.gppDataHandler.setConsentData(n),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),d=3;d<a;d++)s[d-3]=arguments[d];e.apply(void 0,[i,o].concat(s))}}if(H.hasOwnProperty(R)){var i={onSuccess:function(e){return n(e,!1)},onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.apply(void 0,[null,!0,e].concat(r))}};if(H[R](i),!t){var o=function(){var e=function(e){n(e,!1,"GPP CMP did not load, continuing auction...")};M((function(){return J(j)}),{onSuccess:e,onError:function(){return e(K())}})};0===D?o():r=setTimeout(o,D)}}else n(null,!1,"GPP CMP framework (".concat(R,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var X=(0,h.timedAuctionHook)("gpp",(function(e,t){var r;r=function(r,n){if(n){var i=v.logWarn;r&&(i=v.logError,n="".concat(n," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.apply(void 0,[n].concat(a))}r?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,v.logError)("Error executing bidsBackHandler")):e.call(this,t)},j?((0,v.logInfo)("User consent information already known.  Pulling internally stored information..."),r(!1)):Y(r)}));function J(e){if(null!=(null==e?void 0:e.applicableSections)&&!Array.isArray(e.applicableSections)||null!=(null==e?void 0:e.gppString)&&!(0,v.isStr)(e.gppString)||null!=(null==e?void 0:e.parsedSections)&&!(0,v.isPlainObject)(e.parsedSections))throw new U("CMP returned unexpected value during lookup process.",e);return K(e)}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j={gppString:null==e?void 0:e.gppString,applicableSections:(null==e?void 0:e.applicableSections)||[],parsedSections:(null==e?void 0:e.parsedSections)||{},gppData:e},y.gppDataHandler.setConsentData(e),j}function Q(e){(e=e&&e.gpp)&&"object"===(0,n.default)(e)?((0,v.isStr)(e.cmpApi)?t.userCMP=R=e.cmpApi:(t.userCMP=R="iab",(0,v.logInfo)("consentManagement.gpp config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,v.isNumber)(e.timeout)?t.consentTimeout=D=e.timeout:(t.consentTimeout=D=1e4,(0,v.logInfo)("consentManagement.gpp config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"static"===R&&((0,v.isPlainObject)(e.consentData)?(k=e.consentData,t.consentTimeout=D=0):(0,v.logError)("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),(0,v.logInfo)("consentManagement.gpp module has been activated..."),N||((0,m.getGlobal)().requestBids.before(X,50),A.buildActivityParams.before((function(e,t){return e(w({gppConsent:y.gppDataHandler.getConsentData()},t))}))),N=!0,y.gppDataHandler.enable(),Y()):(0,v.logWarn)("consentManagement.gpp config not defined, exiting consent manager module")}function $(e,t){return e(t.then((function(e){var t=y.gppDataHandler.getConsentData();return t&&(Array.isArray(t.applicableSections)&&(0,v.deepSetValue)(e,"regs.gpp_sid",t.applicableSections),(0,v.deepSetValue)(e,"regs.gpp",t.gppString)),e})))}t.requestBidsHook=X,b.config.getConfig("consentManagement",(function(e){return Q(e.consentManagement)})),I.enrichFPD.before($),(0,m.registerModule)("consentManagementGpp")},function(e,t,r){var n=r(445);function i(t,r,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,r){var i=n(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}},i(t,r,o||t)}e.exports=i},function(e,t,r){var n=r(174);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.resetConsentData=function(){b=void 0,t.consentAPI=m=void 0,t.consentTimeout=y=void 0,d.uspDataHandler.reset(),h=!1},t.setConsentConfig=_,t.enrichFPDHook=O,t.requestBidsHook=t.staticConsentData=t.consentTimeout=t.consentAPI=void 0;var n,i=(n=r(18))&&n.__esModule?n:{default:n},o=r(8),a=r(0),s=r(4),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(29)),c=r(48),u=r(24),l=r(134),f=r(177);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var g="iab",m=g;t.consentAPI=m;var v,b,y=50;t.consentTimeout=y,t.staticConsentData=v;var h=!1,I={iab:function(e){var t=e.onSuccess,r=e.onError;var n=(o={},{consentDataCallback:function(e,n){n&&e.uspString&&(o.usPrivacy=e.uspString),o.usPrivacy?A(o,{onSuccess:t,onError:r}):r("Unable to get USP consent string.")}}),i=(0,f.cmpClient)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});var o;if(!i)return r("USP CMP not found.");i.isDirect?(0,a.logInfo)("Detected USP CMP is directly accessible, calling it now..."):(0,a.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now...");i({command:"getUSPData",callback:n.consentDataCallback}),i({command:"registerDeletion",callback:function(e,t){return(null==t||t)&&d.default.callDataDeletionRequest(e)}}).catch((function(e){(0,a.logError)("Error invoking CMP `registerDeletion`:",e)}))},static:function(e){var t=e.onSuccess,r=e.onError;A(v,{onSuccess:t,onError:r})}};function S(e){var t=null,r=!1;function n(n,i){if(null!=t&&clearTimeout(t),r=!0,d.uspDataHandler.setConsentData(n),null!=e){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[i].concat(a))}}if(I[m]){var i={onSuccess:n,onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(r))}};I[m](i),r||(0===y?A(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),y))}else n(null,"USP framework (".concat(m,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var E=(0,c.timedAuctionHook)("usp",(function(e,t){var r=this;h||w(),S((function(n){if(null!=n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];a.logWarn.apply(void 0,[n].concat(o))}e.call(r,t)}))}));function A(e,t){var r=t.onSuccess,n=t.onError;!e||!e.usPrivacy?n("USPAPI returned unexpected value during lookup process.",e):(!function(e){e&&e.usPrivacy&&(b=e.usPrivacy)}(e),r(b))}function _(e){(e=e&&e.usp)&&"object"===(0,i.default)(e)||(0,a.logWarn)("consentManagement.usp config not defined, using defaults"),e&&(0,a.isStr)(e.cmpApi)?t.consentAPI=m=e.cmpApi:(t.consentAPI=m=g,(0,a.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(g,")."))),e&&(0,a.isNumber)(e.timeout)?t.consentTimeout=y=e.timeout:(t.consentTimeout=y=50,(0,a.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===m&&((0,a.isPlainObject)(e.consentData)&&(0,a.isPlainObject)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(t.staticConsentData=v={usPrivacy:e.consentData.getUSPData.uspString}),t.consentTimeout=y=0):(0,a.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),w(!0)}function w(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h||((0,a.logInfo)("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(m,"', timeout: ").concat(y,"ms)"))),h=!0,d.uspDataHandler.enable()),S()}function O(e,t){return e(t.then((function(e){var t=d.uspDataHandler.getConsentData();return t&&(0,a.deepSetValue)(e,"regs.ext.us_privacy",t),e})))}t.requestBidsHook=E,s.config.getConfig("consentManagement",(function(e){return _(e.consentManagement)})),(0,u.getHook)("requestBids").before(E,50),l.enrichFPD.before(O),(0,o.registerModule)("consentManagementUsp")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myiModule=void 0;var n,i=r(21),o=r(71),a=r(19),s=r(14),d=r(3),c=r(41),u=r(5),l=r(10),f=(n=r(7))&&n.__esModule?n:{default:n};const p=(0,d.logger)({name:"myi",textColor:"#FFF",bgColor:"#005500"}),{MYI:g}=f.default.MODULES,m=function(){let e={},t=!1;function r(e,t){let r=null,n=null;const i=(0,u.dom)().window.document.getElementById(t.code);null===i?p.atVerbosity(3).logInfo("No such element '"+t.code+"'. Cannot add data-ad attribute to non-existent element."):(r=i.getAttribute("data-ad"),null===r&&(n=function(e){let t=null;return t=e.originalCode+(e.incremental?e.index:""),t}(t),i.setAttribute("data-ad",n),p.atVerbosity(3).logInfo("Adding attribute 'data-ad' with value '"+n+"' to element '"+t.code+"'."))),e(t)}function n(){p.atVerbosity(3).logInfo("moatYieldReady() (myiReady) fired"),t=!0,i()}function i(e){return(0,u.dom)().window.moatPrebidApi&&"function"==typeof(0,u.dom)().window.moatPrebidApi.slotDataAvailable&&(0,u.dom)().window.moatPrebidApi.slotDataAvailable()?void 0!==e?(p.atVerbosity(3).logInfo("Slot level data added to one slot!"),(0,u.dom)().window.moatPrebidApi.setMoatTargetingForSlot(e)):(p.atVerbosity(3).logInfo("Slot level data added to all slots!"),(0,u.dom)().window.moatPrebidApi.setMoatTargetingForAllSlots()):(!1===t?p.atVerbosity(3).logInfo("Slot level data not available. MYI tag has not yet fully rendered."):p.atVerbosity(3).logInfo("Slot level data not available. This URL has not yet gotten enough traffic to populate the MYI slot data."),!1)}return a.exposureApi.expose({myiReady:n,setMYISlotData:i}),{name:g,register:function(){s.eventEmitter.on("batchSlotsDefined",((e,t)=>{p.atVerbosity(3).logInfo("Attempting to get slot level targeting from MYI"),i()})),(0,l.getConfig)("moat.yieldIntelligence",(t=>{e=t}))},initialize:function(){c.postProcessUnit.before(r),(0,o.renderScript)({src:e.scriptUrl,async:!0,id:"bb-myi"}),(0,u.dom)().window.moatYieldReady=n,(0,u.dom)().window.setMoatPrebidData=i},myiReady:n,setMYISlotData:i,postProcessUnitHook:r}}(),v=i.moduleManager.register(m,null);t.myiModule=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoPriorityModule=void 0;var n,i=r(21),o=r(98),a=r(3),s=r(46),d=r(10),c=r(5),u=(n=r(7))&&n.__esModule?n:{default:n},l=r(232);const{AUTO_PRIORITY:f}=u.default.MODULES,p=function(){let e={enabled:!0,refresh:!0,bids:!0},t=0;function r(e,t,r){const n=function(e){return(0,l.elementSort)(e,(0,d.getConfig)("priorityAxis"))}(t);e(n,r)}function n(e,t){t.some((e=>{const t=(0,c.dom)().window.document.getElementById(e);return!t||"none"===t.style.display}))?(a.bbLogger.logMessage("Ad unit div has a style of display:none;. Autoprioritization for Bid Priority has been turned off for this evaluation. Please ensure your div does not have a style of display: none;.",t),e(t)):e(t.sort(i))}function i(e,r){const n=(0,c.dom)().window.document.getElementById(e),i=(0,c.dom)().window.document.getElementById(r),o=n.getBoundingClientRect().top,a=i.getBoundingClientRect().top;return o-t-(a-t)>0?1:-1}return{name:f,register:function(){(0,d.getConfig)("autoPriority",(t=>{e=t})),(0,c.dom)().window.document.addEventListener("scroll",(()=>{t=(0,c.dom)().window.pageYOffset||(0,c.dom)().window.document.documentElement.scrollTop}))},initialize:function(){e.enabled&&(e.refresh&&s.adServerRequest.before(r),e.bids&&o.bidCache.applyPriorityOrder.after(n))},deregister:function(){s.adServerRequest.getHook({hook:r}).remove(),o.bidCache.applyPriorityOrder.getHook({hook:n}).remove()}}}(),g=i.moduleManager.register(p);t.autoPriorityModule=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enforceFeatures=void 0;var n,i=r(21),o=r(33),a=r(69),s=r(3),d=r(41),c=(n=r(7))&&n.__esModule?n:{default:n};const{MODULES:{BIDBARREL_FEATURES:u},QUERY_PARAMS:{BID_SUPPRESS:l}}=c.default,f=(0,s.logger)({name:"Feature Enforcement",bgColor:"#FFF",textColor:"#DA4167"}),p=function(){function e(e,t){t||e(t);const r=t;r.sizes=r.sizes.filter((e=>{const t="string"==typeof e?e:e.join("x");return!a.features.get(["sizeSuppress.".concat(t),"sizeSuppress.".concat(r.code,".").concat(t)])})),a.features.get(["adSuppress.".concat(r.code),"adSuppress.all"])?f.atVerbosity(2).logInfo("Suppressing Ad",r):e(r)}return{bidRequest:function(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],i=(0,o.cloneDeep)(n);i.bids=[];for(let e=0;e<n.bids.length;e++){const t=n.bids[e];a.features.get(["".concat(l,".").concat(t.bidder),"".concat(l,".").concat(i.code,".").concat(t.bidder),"".concat(l,".").concat(i.code,".all"),"".concat(l,".all")])?f.atVerbosity(2).logInfo("Suppressing Bidder",t,n):i.bids.push(t)}t.push(i)}return t},initialize:function(){d.postProcessUnit.before(e)},deregister:function(){d.postProcessUnit.getHooks({hook:e}).remove()},name:u}}(),g=i.moduleManager.register(p);t.enforceFeatures=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicTargeting=void 0;var n=p(r(26)),i=r(21),o=r(39),a=r(19),s=r(10),d=r(46),c=r(62),u=r(3),l=r(70),f=p(r(7));function p(e){return e&&e.__esModule?e:{default:e}}const{DYNAMIC_TARGETING:g}=f.default.MODULES,m="page",v="unit",b=function(){let e={};const t={},r={},f={};function p(){return{bidderTimeout:(0,s.getConfig)("highFrequencyAdRequests")?(0,s.getConfig)("timeouts.hfar"):(0,s.getConfig)("timeouts.bidder"),getCookie:l.storage.raw.getCookie}}function b(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"processAdRequest",n={};for(let i=0;i<e.rules.length;i++){const a=e.rules[i];a.level===m&&a.hook===t&&(a.getValue?(0,o.makeSafe)((()=>{if(a.matcher(p())){let e=r["_page"+a.key];a.cacheResult&&void 0!==e||(e=a.getValue(p()),r["_page"+a.key]=e),null!==e&&(n[a.key]=e)}})):a.modify&&(0,o.makeSafe)((()=>{a.matcher(p())&&(n=a.modify(n,p()))})))}u.bbLogger.logInfo("Setting page level dynamic targeting",n),(0,c.setTargeting)(n)}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"processAdRequest";return(t,r)=>{b(e),t(r)}}function h(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"processAdRequest";if(!t||!e.rules||!e.rules.length)return t;if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const i=t[r];e.push(h(i,n))}return e}let a=t;u.bbLogger.logInfo("Applying Dynamic Targeting Rules level=unit, hook=".concat(n),e.rules);for(let t=0;t<e.rules.length;t++){const i=e.rules[t];i.level===v&&i.hook===n&&(i.getValue?(0,o.makeSafe)((()=>{if(i.matcher(a,p())){let e=r[a.code+i.key];i.cacheResult&&void 0!==e||(e=i.getValue(a,p()),r[a.code+i.key]=e),a.dynamicTargeting||(a.dynamicTargeting={}),null!==e&&(a.dynamicTargeting[i.key]=e)}})):i.modify&&(0,o.makeSafe)((()=>{i.matcher(a)&&(a.dynamicTargeting=i.modify(a,p()))})))}return e.units[a.code]&&(a=S(e.units[a.code],a)),e.units[a.originalCode]&&(a=S(e.units[a.originalCode],a)),void 0!==i.moduleManager.gateways.getGates().consentGiven&&(i.moduleManager.gateways.getGates().consentGiven,0)&&(f[a.code]=a),u.bbLogger.logInfo("Setting unit level dynamic targeting",a.code,a.dynamicTargeting),(0,c.setTargeting)(a.dynamicTargeting,[a.code]),a}function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"processAdRequest";return(t,r)=>{t(h(r,e))}}function S(e,t){let r=t;if(e.constructor===Array){for(let t=0;t<e.length;t++){const n=e[t];r=S(n,r)}return r}return"function"==typeof e?(0,o.makeSafe)((()=>{r.targeting=e(t,p())})):"object"==typeof e&&(r.targeting=(0,n.default)({},e,r.targeting)),r}return a.exposureApi.expose({applyUnitLevelTargeting:h,applyPageLevelTargeting:b}),{name:g,protected:!0,register:function(){(0,s.getConfig)("dynamicTargeting",(t=>{e=t})),(0,s.getConfig)("consent",(t=>{t&&e.rules&&(u.bbLogger.logInfo("Setting Dynamic Targeting after consent given"),b(),h(Object.values(f)))})),t.page={processAdRequest:y("processAdRequest")},t.unit={processAdRequest:I("processAdRequest"),setBidTargeting:I("setBidTargeting")},d.processAdRequest.before(t.page.processAdRequest),d.processAdRequest.before(t.unit.processAdRequest),c.setBidTargeting.after(t.unit.setBidTargeting)},deregister:function(){d.processAdRequest.getHooks({hook:t.page.processAdRequest}).remove(),d.processAdRequest.getHooks({hook:t.unit.processAdRequest}).remove(),c.setBidTargeting.getHooks({hook:t.unit.setBidTargeting}).remove()}}}(),y=i.moduleManager.register(b);t.dynamicTargeting=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsModule=void 0,r(1);var n=r(14),i=r(19),o=r(69),a=r(21),s=r(3),d=r(215),c=I(r(26)),u=I(r(160)),l=r(33),f=r(10),p=r(122),g=I(r(7)),m=I(r(123)),v=I(r(121)),b=r(81),y=r(40),h=I(r(50));function I(e){return e&&e.__esModule?e:{default:e}}const S=(0,s.logger)({name:"BidBarrelAnalytics",bgColor:"#8F8389"}),{EVENTS:{ANALYTICS_RECORD_CREATED:E,ANALYTICS_REPORTED:A,ANALYTICS_CANCELLED:_},MODULES:{BIDBARREL_ANALYTICS:w}}=g.default,O=function(){let e=!1;const t={},r=[],a=[],s={};let g={};const I={},O=[];function T(i){if(!e)return void a.push(i);const[o,s]=function(){const e=function(e){return null==e?arguments.length>1&&void 0!==arguments[1]?arguments[1]:null:""+e},t={version:"2",hostname:m.default.getValue("hostname")||null,page:m.default.getValue("page")||null,abStr:m.default.getValue("abStr")||null,gaClientId:m.default.getValue("cookie.gaClientId")||null,aamUuid:m.default.getValue("cookie.aamUuid")||null,env:m.default.getValue("targeting.env")||m.default.getValue("config.pageTargeting.env")||((0,b.isStagingEnv)()?"stage":"prod")||null,dfpPath:m.default.getValue("config.dfpPathObj.string")||null,firstpg:e(m.default.getValue("targeting.firstpg"),null),pv:e(m.default.getValue("targeting.pv"),null),ftag:m.default.getValue("targeting.ftag")||null,ttag:m.default.getValue("targeting.ttag")||null,session:m.default.getValue("targeting.session")||null,subses:m.default.getValue("targeting.subses")||null,ptype:m.default.getValue("targeting.ptype")||"NA",vguid:m.default.getValue("targeting.vguid")||null,bidbarrelVersion:m.default.getValue("bidbarrelVersion")||null,connectionType:m.default.getValue("client.connectionType")||null,connectionSpeed:m.default.getValue("client.connectionSpeed")||null,regionCode:m.default.getValue("client.region")||null,countryCode:m.default.getValue("client.country")||null,subCountryCode:m.default.getValue("client.subregion")||null,vpWidth:m.default.getValue("client.viewportWidth")||null,vpHeight:m.default.getValue("client.viewportHeight")||null,configVersion:m.default.getValue("config._remoteContext.version")||null,authenticated:m.default.getValue("authenticated")||!1};let r;for(let e=0;e<O.length;e++){const n=O[e];(0,v.default)(t,n)&&(r=e)}return void 0===r&&(O.push(t),r=O.length-1),[r,O[r]]}(),d={...i,...s},c={...i,contextIndex:o};r.push(c);for(const e in g)Object.prototype.hasOwnProperty.call(g,e)&&(t[e]||(t[e]=[]),t[e].push(c));n.eventEmitter.emit(E,d)}function C(e){const t=[];for(let r=0;r<e.length;r++){const{contextIndex:n,...i}=e[r];void 0!==n&&t.push({...i,...O[n]})}return t}function x(e){const{id:r,report:n,url:i,fetchOptions:o,transport:a}=e;if(t[r]&&t[r].length>0)if(n)try{const e=C(t[r]);S.logInfo("(Method) Reporting Events for config",r,"events:",e[r]),n(e[r]),t[r]=[]}catch(t){P(t,e)}else if(i){let n=!1;if("beacon"===a){const e=function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r],i="ctx".concat(n.contextIndex);t[i]||(t[i]=O[n.contextIndex])}return t}(t[r]);S.logInfo("(Beacon) Reporting Events for config",r,"events:",t[r],e);p.api.sendBeacon(i,{records:t[r],contexts:e})?t[r]=[]:n=!0}if("beacon"!==a||n){const n=C(t[r]);S.logInfo("(Post) Reporting Events for config",r,"events:",n),p.api.post(i,(s=o,d=n,(0,c.default)({},s||{},{method:"POST",mode:"cors",body:JSON.stringify(d)}))).then((n=>{let{_response:i}=n;i.status>=200&&i.status<300?t[r]=[]:P(null,e)})).catch((t=>P(t,e)))}}else{S.logError("Must provide a 'report' or 'url' property for BidBarrel Analytics");const e=new Error("Must provide a 'report' or 'url' property for BidBarrel Analytics.");y.errorReporting.report(e)}var s,d}function P(e,t){if(e){S.logError(e);const t=new Error("Analytics Report Failed. ".concat(JSON.stringify(e,h.default)));y.errorReporting.report(t)}I[t.id]||(I[t.id]=0),I[t.id]++,void 0!==t.failThreshold&&I[t.id]>=t.failThreshold&&(S.logInfo("Fail threshold reached for",t.id,"cancelling.."),clearInterval(s[t.id]))}return i.exposureApi.expose({getAllAnalyticsRecords:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,l.cloneDeep)(e?C(r):r)},getAnalyticsRecords:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!e)return(0,l.cloneDeep)(t);const r={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];r[n]=e(i)}return r},cancelReporting:function(e){s[e]&&!g[e].protected&&(n.eventEmitter.emit(["".concat(e,".").concat(_),_],g[e]),clearInterval(s[e]))}}),{initialize:function(){!function(){if(e)return;for(const e in g)if(Object.prototype.hasOwnProperty.call(g,e)){const r=g[e],i=r.session;(o.features.get(["forceRun.".concat(w),"forceRun.all"])||void 0===i||(0,d.percentageShouldRun)(i.shouldReport||i.reportingPercentage,!0))&&(s[e]=setInterval((()=>{(0,d.percentageRunner)(o.features.get(["forceRun.".concat(w),"forceRun.all"])||r.shouldReport||r.reportingPercentage,(()=>{n.eventEmitter.emit(["".concat(e,".").concat(A),A],C(t[r.id]),r),x(r)}),!0)}),r.frequency))}e=!0,function(){for(let e=0;e<a.length;e++){T(a[e])}}()}()},register:function(){(0,f.getConfig)("analytics.bidbarrel",(e=>{g=(0,u.default)(e,"id")}))},addRecord:T,name:w}}(),T=a.moduleManager.register(O,null,{gate:"consentGiven"});t.analyticsModule=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timingsAnalyticsHandler=void 0,r(1);var n,i=r(21),o=r(14),a=(n=r(7))&&n.__esModule?n:{default:n},s=r(10),d=r(5),c=r(261),u=r(19),l=r(157),f=r(95);const{BIDBARREL_ANALYTICS:p,ANALYTICS_TIMINGS:g,GOOGLE_PUBLISHER_TAG:m}=a.default.MODULES,v=function(){let e={allowDuplicates:{}};const t={matchPartRe:null,matchManual:[],items:[]},r=[];let n;const a={},v={},b={lastEntry:null,timer:null,reported:!1},y={},h={},I=(0,f.runQueue)("timingsPostInitializationQueue");function S(e,t){const r=e,n=[];for(let e=0;e<r.length;e++){const i=r[e],o=E(i);0===o.length?n.push(i):t(o)}return n}function E(e){return(0,d.dom)().window.performance.getEntriesByType?(0,d.dom)().window.performance.getEntriesByType(e):"navigation"===e&&(0,d.dom)().window.performance.timing?[(0,d.dom)().window.performance.timing]:[]}function A(r){const n=r.getEntries?r.getEntries():r;for(let r=0;r<n.length;r++){const i=n[r];if("resource"===i.entryType&&"script"===i.initiatorType)if(t.matchPartRe&&t.matchPartRe.test(i.name))O(i);else if(e.utag&&/(tags\.tiqcdn\.com\/utag\/cbsi)/gm.test(i.name))w(i);else if(t.matchManual.length>0){const e=t.matchManual.find((e=>e.match.test(i.name)));e&&O(i,e)}}}function _(){b.timer=setTimeout((()=>{b.lastEntry&&(O(b.lastEntry,{record:{type:"timing",timingType:"measure",name:"Time to UTag",slug:"script-utag"}}),b.reported=!0)}),5e3)}function w(e){b.reported||(b.timer&&clearTimeout(b.timer),b.lastEntry=e,_())}function O(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=r||t.items.find((t=>t.match.test(e.name)));n&&(T({type:"timing",timingType:"mark",name:n.record.name+" Loaded",slug:n.record.slug,amount:e.responseEnd}),T({type:"timing",timingType:"measure",name:n.record.name+" Load Duration",slug:"".concat(n.record.slug,"-duration"),amount:e.duration}))}function T(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I.push((()=>{if(h.slugMap[t.slug]&&!r||a[t.slug]&&!e.allowDuplicates[t.slug]){if(h.slugMap[t.slug]&&!r){const e=h.slugMap[t.slug];h.slugRecord[t.slug]=t,h.gateways[e].open(t.slug)}}else a[t.slug]=!0,v[t.slug]="number"==typeof t.amount?Math.round(t.amount):t.amount,i.moduleManager.viaModule(p,(e=>{let{addRecord:r}=e;t.amount=t.amount.toFixed(3),r(t)}))}))}return u.exposureApi.expose({getAnalyticsTimings:function(){return v}}),{initialize:function(){!function(){if(e.sequences){h.gateways={},h.slugMap={},h.slugRecord={};for(let t=0;t<e.sequences.length;t++){const r=e.sequences[t],n="analyticsTimingSeq".concat(t);h.gateways[n]=(0,l.gateway)(n,r);for(let e=0;e<r.length;e++){const t=r[e];h.slugMap[t]=n,h.gateways[n].onOpen((()=>{T(h.slugRecord[t],!0)}))}}}}(),function(){const t=e.events;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const{record:n,once:a,event:s}=t[e];if(s&&s.gpt)i.moduleManager.viaModule(m,(t=>{let{gptAction:r}=t;r((t=>{t.pubads().addEventListener(s.name,(()=>{y[e]||(T({type:"timing",timingType:"mark",...n,amount:(0,d.dom)().window.performance.now()}),y[e]=!0)}))}))}));else{const t=o.eventEmitter.on(e,(()=>{T({type:"timing",timingType:"mark",...n,amount:(0,d.dom)().window.performance.now()})}),a||!1);r.push(t)}}}(),(0,d.dom)().window.performance.getEntries&&(!function(e){const r=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];i.record={...t.defaultRecordData,...i.record},i.matchPart?(r.push(i.matchPart),i.match=new RegExp("(".concat(i.matchPart,")"),"gm")):(i.match=new RegExp(...Array.isArray(i.match)?i.match:[i.match,"gm"]),t.matchManual.push(i)),t.items.push(i)}t.matchPartRe=new RegExp("(".concat(r.join("|"),")"),"gm")}(e.scripts),e.utag&&_(),S(["resource"],A),n=new c.PerformanceObserver(A),n.observe({entryTypes:["resource"]}),I.run())},register:function(){(0,s.getConfig)("analyticsTimings",(t=>{e=t}))},deregister:function(){for(let e=0;e<r.length;e++){(0,r[e])()}n.disconnect()},addTimingRecord:T,getIncompleteEntryTypes:S,name:g}}(),b=i.moduleManager.register(v,[p]);t.timingsAnalyticsHandler=b},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})(e)}function d(e,t,r){return(d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t);var l=function(e){function t(e){var r,o,s,d,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,(r=u(t)).call.apply(r,[this].concat(i(e)))),c=void 0,(d="_entries")in(s=a(o))?Object.defineProperty(s,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[d]=c,o._entries=e,o}var r,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,(s=[{key:"getEntries",value:function(){return this._entries}},{key:"getEntriesByType",value:function(e){return this._entries.filter((function(t){return t.entryType===e}))}},{key:"getEntriesByName",value:function(e,t){return this._entries.filter((function(t){return t.name===e})).filter((function(e){return!t||e.entryType===t}))}}])&&o(r.prototype,s),d&&o(r,d),t}(s(Array));function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=["mark","measure","navigation","resource"],b="Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present.",y="Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present, not both.",h="Aborting 'observe' on 'PerformanceObserver': no valid entry types present in either 'entryTypes' or 'type' member.",I="Invalid or unsupported entry types provided to 'observe' on 'PerformanceObserver'.",S=function(e){return v.some((function(t){return e===t}))},E=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.registeredObservers,n=void 0===r?new Set:r,i=t.processedEntries,o=void 0===i?new Set:i,a=t.interval,s=void 0===a?100:a,d=t.context,c=void 0===d?self:d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"registeredObservers",void 0),p(this,"processedEntries",void 0),p(this,"interval",void 0),p(this,"intervalId",void 0),p(this,"context",void 0),this.registeredObservers=n,this.processedEntries=o,this.interval=s,this.context=c,this.intervalId=null}var t,r,n;return t=e,(r=[{key:"getNewEntries",value:function(){var e=this;return this.context.performance.getEntries().filter((function(t){return!e.processedEntries.has(t)}))}},{key:"getObserversForType",value:function(e,t){return Array.from(e).filter((function(e){return e.entryTypes.some((function(e){return e===t}))}))}},{key:"processBuffer",value:function(e){var t=Array.from(e.buffer),r=new l(t);e.buffer.clear(),t.length&&e.callback&&e.callback.call(void 0,r,e)}},{key:"processEntries",value:function(){var e=this;this.getNewEntries().forEach((function(t){var r=t.entryType;e.getObserversForType(e.registeredObservers,r).forEach((function(e){e.buffer.add(t)})),e.processedEntries.add(t)}));var t=function(){return e.registeredObservers.forEach(e.processBuffer)};"requestAnimationFrame"in this.context?this.context.requestAnimationFrame(t):this.context.setTimeout(t,0)}},{key:"add",value:function(e){this.registeredObservers.add(e),1===this.registeredObservers.size&&this.observe()}},{key:"remove",value:function(e){this.registeredObservers.delete(e),this.registeredObservers.size||this.disconnect()}},{key:"observe",value:function(){this.intervalId=this.context.setInterval(this.processEntries.bind(this),this.interval)}},{key:"disconnect",value:function(){this.intervalId=this.context.clearInterval(this.intervalId)}}])&&f(t.prototype,r),n&&f(t,n),e}()),A=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"callback",void 0),m(this,"buffer",void 0),m(this,"entryTypes",[]),m(this,"taskQueue",void 0),this.callback=t,this.buffer=new Set,this.taskQueue=r}var t,r,n;return t=e,(r=[{key:"observe",value:function(e){if(!e)throw new Error(b);if(e.entryTypes&&e.type)throw new Error(y);var t;if(e.entryTypes)t=e.entryTypes;else{if(!e.type)throw new Error(b);t=[e.type]}var r=t.filter(S);r.length>0&&r.length!==t.length&&console.warn(I),r.length?(this.entryTypes=r,this.taskQueue.add(this)):console.warn(h)}},{key:"disconnect",value:function(){this.taskQueue.remove(this)}},{key:"takeRecords",value:function(){var e=Array.from(this.buffer);return new l(e)}}])&&g(t.prototype,r),n&&g(t,n),e}();m(A,"supportedEntryTypes",v);var _=A,w="PerformanceObserver"in self&&"function"==typeof PerformanceObserver;t.default=w?PerformanceObserver:_}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timingsAnalyticsHandler=void 0;var n,i=r(21),o=(n=r(7))&&n.__esModule?n:{default:n},a=r(157),s=r(261),d=r(455),c=r(10);const{VISUALLY_READY:u,INTERACTIVE:l,FIRST_INTERACTION:f,FIRST_PAINT:p,FIRST_CONTENTFUL_PAINT:g,PAGE_LOAD:m,FIRST_BYTE:v}=o.default.ANALYTICS_RECORD_DEFAULTS,{BIDBARREL_ANALYTICS:b,ANALYTICS_TIMINGS_MANUAL:y,ANALYTICS_TIMINGS:h}=o.default.MODULES,I=function(){let e={};const t=(0,a.gateway)("ttvrTiming",["ttfp","ttfcp","ttpl"]);let r;const n={};function o(e){const t=e.getEntries?e.getEntries():e;for(let e=0;e<t.length;e++){const r=t[e];"navigation"===r.entryType?b(r):"paint"===r.entryType?I(r):"first-input"===r.entryType&&S(r)}}function b(e){const r=e.requestStart<15e11;E({type:"timing",timingType:"measure",name:v.NAME,slug:v.SLUG,amount:e.responseStart-e.requestStart}),E({type:"timing",timingType:"mark",name:m.NAME,slug:m.SLUG,amount:r?e.domContentLoadedEventEnd:e.domContentLoadedEventEnd-e.requestStart}),t.open(m.SLUG)}function I(e){if(-1===["first-paint","first-contentful-paint"].indexOf(e.name))return;const r="first-paint"===e.name?p.SLUG:g.SLUG;E({type:"timing",timingType:"mark",slug:r,name:"first-paint"===e.name?p.NAME:g.NAME,amount:e.startTime}),t.open(r)}function S(e){E({type:"timing",timingType:"mark",slug:f.SLUG,name:f.NAME,amount:e.startTime})}function E(e){n[e.slug]=e.amount,i.moduleManager.viaModule(h,(t=>{let{addTimingRecord:r}=t;r(e)}))}return{register:function(){(0,c.getConfig)("analyticsTimings",(t=>{e=t})),t.onOpen((()=>{E({type:"timing",timingType:"mark",name:u.NAME,slug:u.SLUG,amount:Math.max(n.ttpl,n.ttfp,n.ttfcp)}),d.tti.measure((e=>{E({type:"timing",timingType:"mark",name:l.NAME,slug:l.SLUG,amount:e})}),e.timeout||6e4)})),i.moduleManager.viaModule(h,(e=>{let{getIncompleteEntryTypes:t}=e;const n=t(["navigation","paint","first-input"],o);n.length>=0&&(r=new s.PerformanceObserver(o),r.observe({entryTypes:n}))}))},deregister:function(){r&&r.disconnect()},name:y}}(),S=i.moduleManager.register(I,[b,h]);t.timingsAnalyticsHandler=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tti=t.supportsLongTaskTiming=void 0;var n=r(5),i=r(39),o=r(456),a=r(457),s=r(3);const d=void 0!==(0,n.dom)().window.PerformanceLongTaskTiming;t.supportsLongTaskTiming=d;const c=function(){let e;let t;const r=[];let c;function u(){o.fps.isSupported&&o.fps.onTick((e=>(e<=20&&f("Low FPS(".concat(e,")")),!t))),function(){if(d){const e=()=>{f("Long Task Detected"),t&&c&&c.disconnect()};c=new PerformanceObserver(e),c.observe({entryTypes:["longtask"]})}}(),d||o.fps.isSupported||a.pageBusy.onTick((e=>(e>10&&f("Page Busy(".concat(e,"%) > 10%")),!t))),e=setTimeout(l,500)}function l(){t=(0,n.dom)().window.performance.now(),function(){for(let e=0;e<r.length;e++){const n=r[e];(0,i.makeSafe)((()=>n(t)))}}(),p()}function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unspecified";s.bbLogger.atVerbosity(5).logInfo("Resetting TTI timer. Reason: ".concat(t,".")),clearTimeout(e),e=setTimeout(l,500)}function p(){a.pageBusy.cancel(),o.fps.cancel(),c&&c.disconnect()}return{measure:function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return n(t);r.push(n),e||u(),i&&setTimeout((()=>{p()}))},cancel:p}}();t.tti=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fps=t.fpsMeasure=void 0;var n=r(5),i=r(39),o=r(3);const a=function(e){let t=[];const r=e.updateInterval||100;let a=[];const s=Math.pow(10,2),d=void 0!==(0,n.dom)().window.requestAnimationFrame;let c=0;function u(e){a.push((0,n.dom)().window.performance.now());const o=a[a.length-1]-a[0];o>=r&&(c=Math.round(a.length/o*1e3*s)/s,a=[]);!1!==("function"!=typeof e||(0,i.makeSafe)((()=>e(c))))?t.push((0,n.dom)().window.requestAnimationFrame((()=>{u(e)}))):l()}function l(){if(t.length>0){for(let e=0;e<t.length;e++){const r=t[e];(0,n.dom)().window.cancelAnimationFrame(r)}t=[]}}return{cancel:l,onTick:function(e,t){if(d)return u(e),t&&setTimeout((()=>{l()}),t),l;o.bbLogger.logWarn("Cannot get FPS. Request Animation Frame not supported.")}}};t.fpsMeasure=a;const s=a({});t.fps=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageBusy=void 0;var n=r(39),i=r(5);const o=function(){const e=32,t=Math.floor(3.125);let r,o,a=(0,i.dom)().window.performance.now(),s=0,d=0;function c(){const t=(0,i.dom)().window.performance.now();let r=t-a;if(a=t,r>68){const t=Math.floor((r-e)/e);s+=t,d+=t,r-=t*e}s++,r>36&&d++}function u(){clearInterval(r),clearInterval(o)}return{onTick:function(i){r=setInterval(c,e),o=setInterval((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1,r=0;if(0===s)return;for(;s>t+1&&r<=100;)s-=t,d=Math.max(d-t,0),r++;const i=Math.ceil(d/s*100),o=(0,n.makeSafe)((()=>e(i)));s=0,d=0,o||u()}(i)),100)},cancel:u}}();t.pageBusy=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prebidAnalyticsHandler=void 0;var n=r(8),i=c(r(7)),o=r(14),a=r(21),s=r(41),d=c(r(161));function c(e){return e&&e.__esModule?e:{default:e}}const u=(0,n.getGlobal)(),l=["bidder","adUnitCode","dealId","pbCg","bidderCode","adId","requestTimestamp","responseTimestamp","statusMessage","height","width","timeToRespond","mediaType"],{MODULES:{PREBID_HEADER_BIDDING:f,BIDBARREL_ANALYTICS:p,ANALYTICS_PREBID:g},ANALYTICS_RECORD_TYPES:{NO_BID:m,BID:v,BID_USED:b},EVENTS:{REFRESH:y}}=i.default,h=function(){let e=[],t=!1;function r(t){e.push({type:m,wrapperSource:"prebid",bidder:t.bidder,adUnitCode:t.adUnitCode,createTimestamp:(new Date).getTime()})}function n(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"boolean"!=typeof r&&(r=!0),r?c({type:b,wrapperSource:"prebid",...(0,d.default)(t,l),cpm:t.cpm.toFixed(5).toString(),createTimestamp:(new Date).getTime()}):e.push({type:v,wrapperSource:"prebid",...(0,d.default)(t,l),cpm:t.cpm.toFixed(5).toString(),createTimestamp:t.responseTimestamp})}function i(t){const r=t.bidsReceived;for(let e=0;e<r.length;e++){n(r[e],!1)}!function(){for(let t=0;t<e.length;t++){c(e[t])}e=[]}()}function c(e){a.moduleManager.viaModule(p,(t=>{let{addRecord:r}=t;-1===[v,b].indexOf(e.type)?r(e):e.type===v?o.eventEmitter.on("".concat(e.adUnitCode,".").concat(y),(t=>{r({...e,impId:t.targeting.iid})}),!0):r({...e,impId:(0,s.getUnits)()[e.adUnitCode].targeting.iid})}))}return{register:function(){a.moduleManager.viaModule(f,(()=>{t||(u.que.push((()=>{u.onEvent("noBid",r),u.onEvent("auctionEnd",i),u.onEvent("bidWon",n)})),t=!0)}))},deregister:function(){t&&(u.que.push((()=>{u.offEvent("noBid",r),u.offEvent("auctionEnd",i),u.offEvent("bidWon",n)})),t=!1)},name:g}}(),I=a.moduleManager.register(h,[p,f]);t.prebidAnalyticsHandler=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amazonAnalyticsHandler=t.amazonHandler=void 0,r(1);var n,i=r(14),o=(n=r(7))&&n.__esModule?n:{default:n},a=r(21),s=r(5),d=r(41),c=r(3);const{EVENTS:{HEADER_BIDDING_RESPONSE:u,HEADER_BIDDING_REQUEST:l,IDENTIFIED:f,REFRESH:p},MODULES:{BIDBARREL_ANALYTICS:g,AMAZON_HEADER_BIDDING:m,ANALYTICS_AMAZON:v},ANALYTICS_RECORD_TYPES:{NO_BID:b,BID:y,BID_USED:h}}=o.default,I=function(){let e;const t={};let r=0,n=0;function o(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=o;const l=(new Date).getTime(),f=(0,s.dom)().window.performance.now();for(let o=0;o<e.length;o++){let s;if(u!==h){const{amznp:i,amzniid:a,amznbid:d,size:p,slotID:g,mediaType:m}=e[o];c.bbLogger.atVerbosity(2).logInfo("amznBid",e[o]),u=["0","1","2"].indexOf(i)>=0||!a&&!d?b:y;const v="amazon";if(u===b)s={type:u,wrapperSource:v,bidder:i,adUnitCode:g,createTimestamp:(new Date).getTime()};else{let e,t;if("video"===m)e=640,t=480;else{const[r,n]=p.split("x").map((e=>parseInt(e)));e=r,t=n}s={type:u,wrapperSource:v,bidder:i,adUnitCode:g,bidderCode:i,cpm:d,createTimestamp:(new Date).getTime(),adId:a,statusMessage:"Bid Available",width:e,height:t,pbCg:d,requestTimestamp:r,responseTimestamp:l,timeToRespond:f-n}}t[g]=s}else s=e[o],s.type=h;c.bbLogger.atVerbosity(2).logInfo("amazon bid tracking.","Record:",s,". Type:",s.type),a.moduleManager.viaModule(g,(e=>{let{addRecord:t}=e;if(-1===[y,h].indexOf(s.type))t(s);else if(s.type===y)i.eventEmitter.on("".concat(s.adUnitCode,".").concat(p),(e=>{t({...s,impId:e.targeting.iid})}),!0);else{const e=(0,d.getUnits)()[s.adUnitCode];t({...s,impId:e.targeting.iid})}}))}}return{register:function(){a.moduleManager.viaModule(m,(()=>{!function(){const a=i.eventEmitter.on("".concat(m,".").concat(l),((e,t,i)=>{r=(new Date).getTime(),n=(0,s.dom)().window.performance.now()})),d=i.eventEmitter.on("".concat(m,".").concat(u),((e,t,r)=>{o(r)})),c=i.eventEmitter.on(f,(e=>{"amazon"===e.provider&&o([t[e.code]],h)}));e=[a,d,c]}()}))},deregister:function(){for(let t=0;t<e.length;t++){(0,e[t])()}e=[]},name:v}}();t.amazonHandler=I;const S=a.moduleManager.register(I,[g,m]);t.amazonAnalyticsHandler=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSubmoduleRegistry=function(e){W=e,we(e)},t.setStoredValue=K,t.deleteStoredValue=Q,t.getConsentHash=ye,t.requestDataDeletion=Ce,t.attachIdSystem=xe,t.init=Re,t.setOrtbUserExtEids=De,t.requestBidsHook=t.auctionDelay=t.syncDelay=t.dep=t.coreStorage=t.PBJS_USER_ID_OPTOUT_NAME=void 0,r(126),r(9),r(17),r(1);var n=x(r(23)),i=x(r(18)),o=x(r(6)),a=x(r(11)),s=r(8),d=r(15),c=r(4),u=C(r(53)),l=C(r(29)),f=x(r(20)),p=r(24),g=r(461),m=r(34),v=r(0),b=r(462),y=r(42),h=r(59),I=r(48),S=r(259),E=r(130),A=r(47),_=r(65),w=r(66),O=r(102);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function x(e){return e&&e.__esModule?e:{default:e}}var P="User ID",R=m.STORAGE_TYPE_COOKIES,D=m.STORAGE_TYPE_LOCALSTORAGE,k="_pbjs_id_optout";t.PBJS_USER_ID_OPTOUT_NAME=k;var j=(0,m.getCoreStorageManager)("userId");t.coreStorage=j;var N={isAllowed:_.isActivityAllowed};t.dep=N;var M,B,U,L,V,z=!1,q=[],F=[],G={},W=[];t.syncDelay=B,t.auctionDelay=U;var H,Y=function(){return null==H&&(H=(0,I.newMetrics)()),H};function X(e){return Y().fork().renameWith((function(t){return["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]}))}function J(e,t){t=t||e.storageMgr;var r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,n=e.config.storage.name;return function(e,i,o){t.setCookie(n+(e||""),i,o,"Lax",r)}}function K(e,t){var r=e.config.storage,n=e.storageMgr;try{var i=new Date(Date.now()+864e5*r.expires).toUTCString(),o=(0,v.isPlainObject)(t)?JSON.stringify(t):t;if(r.type===R){var a=J(e);a(null,o,i),a("_cst",ye(),i),"number"==typeof r.refreshInSeconds&&a("_last",(new Date).toUTCString(),i)}else r.type===D&&(n.setDataInLocalStorage("".concat(r.name,"_exp"),i),n.setDataInLocalStorage("".concat(r.name,"_cst"),ye()),n.setDataInLocalStorage(r.name,encodeURIComponent(o)),"number"==typeof r.refreshInSeconds&&n.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){(0,v.logError)(e)}}function Q(e){var t,r,n,i;switch(null===(t=e.config)||void 0===t||null===(r=t.storage)||void 0===r?void 0:r.type){case R:var o=J(e,j),a=new Date(Date.now()-864e5).toUTCString();n=function(e){return o(e,"",a)},i=["","_last","_cst"];break;case D:n=function(t){return j.removeDataFromLocalStorage(e.config.storage.name+t)},i=["","_last","_exp","_cst"]}n&&i.forEach((function(e){try{n(e)}catch(e){(0,v.logError)(e)}}))}function $(e){var t=(0,v.getPrebidInternal)().setEidPermissions;"function"==typeof t&&(0,v.isArray)(e)&&t((0,g.buildEidPermissions)(e))}function Z(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e.storageMgr,i=e.config.storage,o=r?"".concat(i.name,"_").concat(r):i.name;try{if(i.type===R)t=n.getCookie(o);else if(i.type===D){var a=n.getDataFromLocalStorage("".concat(i.name,"_exp"));""===a?t=n.getDataFromLocalStorage(o):a&&new Date(a).getTime()-Date.now()>0&&(t=decodeURIComponent(n.getDataFromLocalStorage(o)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){(0,v.logError)(e)}return t}function ee(e,t,r){t=Y().fork().startTiming("userId.callbacks.total").stopBefore(t);var n=(0,v.delayExecution)((function(){clearTimeout(undefined),t()}),e.length);e.forEach((function(e){var t=X(e.submodule.name).startTiming("callback").stopBefore(n);try{e.callback((function(n){n?(e.config.storage&&K(e,n),e.idObj=e.submodule.decode(n,e.config),Ie(te(r))):(0,v.logInfo)("".concat(P,": ").concat(e.submodule.name," - request id responded with an empty value")),t()}),Z.bind(null,e))}catch(r){(0,v.logError)("Error in userID module '".concat(e.submodule.name,"':"),r),t()}e.callback=void 0}))}function te(e){return Array.isArray(e)&&e.length?ne(e):{}}function re(e,t,r){return Object.fromEntries(Object.entries(e.reduce((function(e,n){var i=t(n);return i&&Object.keys(i).forEach((function(t){var o,a=null===(o=G[t])||void 0===o?void 0:o.indexOf(r(n)),s={priority:(0,v.isNumber)(a)?a:-1,value:i[t]};if(e[t]){var d=s.priority>e[t].priority?s:e[t];e[t]=d}else e[t]=s})),e}),{})).map((function(e){var t=(0,o.default)(e,2);return[t[0],t[1].value]})))}function ne(e){return re(e.filter((function(e){return(0,v.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})),(function(e){return e.idObj}),(function(e){return e.submodule.name}))}function ie(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&(0,v.isArray)(e.bids)&&e.bids.forEach((function(e){var r=function(e,t){return Array.isArray(e)&&e.length&&t?ne(e.filter((function(e){return!e.config.bidders||!(0,v.isArray)(e.config.bidders)||(0,d.includes)(e.config.bidders,t)}))):{}}(t,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=(0,g.createEidsArray)(r))}))}))}var oe,ae={};function se(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.delay,i=void 0===n?y.GreedyPromise.timeout:n,o=(0,y.defer)(),a=(0,y.defer)(),s=!1;function d(r){return t=Y().fork(),null!=e&&e.reject(ae),e=(0,y.defer)(),y.GreedyPromise.race([r,e.promise]).finally(t.startTiming("userId.total"))}var c=M,l=q;function g(e){return function(){if(c===M&&l===q)return e.apply(void 0,arguments)}}function m(){return E.allConsent.promise.finally(t.startTiming("userId.init.consent"))}var b=d(y.GreedyPromise.all([p.ready,o.promise]).then(m).then(g((function(){Se(c,l)}))).then((function(){return a.promise.finally(t.startTiming("userId.callbacks.pending"))})).then(g((function(){var e=c.filter((function(e){return(0,v.isFn)(e.callback)}));if(e.length)return new y.GreedyPromise((function(t){return ee(e,t,c)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,r=void 0!==t&&t,n=e.submoduleNames,p=void 0===n?null:n,v=e.ready,h=void 0!==v&&v;return h&&!s&&(s=!0,o.resolve(),U>0?a.resolve():u.on(f.default.EVENTS.AUCTION_END,(function e(){u.off(f.default.EVENTS.AUCTION_END,e),i(B).then(a.resolve)}))),r&&s&&(b=d(b.catch((function(){return null})).then(m).then(g((function(){var e=Se(c,l.filter((function(e){return null==p||p.includes(e.submodule.name)})),!0).filter((function(e){return null!=e.callback}));if(e.length)return new y.GreedyPromise((function(t){return ee(e,t,c)}))}))))),b}}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le()||[],t=L&&e.find((function(e){return e.source===L}));if(t&&"string"==typeof(0,v.deepAccess)(t,"uids.0.id")){var r=t.uids[0].id.replace(/[\W_]/g,"");if(r.length>=32&&r.length<=150)return r;(0,v.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(L," is not between 32 and 150 characters - ").concat(r))}}var ce=(0,I.timedAuctionHook)("userId",(function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.delay,o=void 0===i?y.GreedyPromise.timeout:i,a=n.getIds,d=void 0===a?be:a;y.GreedyPromise.race([d().catch((function(){return null})),o(U)]).then((function(){ie(t.adUnits||(0,s.getGlobal)().adUnits,M),Y().join((0,I.useMetrics)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(r,t)}))}));function ue(){return te(M)}function le(){return(0,g.createEidsArray)(ue())}function fe(e){return(0,g.createEidsArray)(function(e,t){if(!Array.isArray(e)||!e.length)return{};var r=ne(e),n=Object.keys(r).find((function(e){var r=g.EID_CONFIG.get(e);return(null==r?void 0:r.source)===t||(0,v.isFn)(null==r?void 0:r.getSource)&&r.getSource()===t}));return n?(0,a.default)({},n,r[n]):[]}(M,e))[0]}function pe(e,t,r){return oe().then((function(){var n={};if((0,v.isFn)(r)){(0,v.logInfo)("".concat(P," - Getting encrypted signal from custom function : ").concat(r.name," & source : ").concat(e," "));var i=r(e);n[e]=i?ge(i):null}else{var o=fe(e);(0,v.logInfo)("".concat(P," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),(0,v.isEmpty)(o)||(n[o.source]=!0===t?ge(o):o.uids[0].id)}return(0,v.logInfo)("".concat(P," - Fetching encrypted eids: ").concat(n[e])),n[e]}))}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="";if(1===t)r="object"===(0,i.default)(e)?window.btoa(JSON.stringify(e)):window.btoa(e);return"".concat(t,"||").concat(r)}function me(){if((0,v.isGptPubadsDefined)()){window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];var e=c.config.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var t=e.source,r=e.encrypt,n=e.customFunc;t.forEach((function(e){window.googletag.secureSignalProviders.push({id:e,collectorFunction:function(){return pe(e,r,n)}})}))}))}),t)}else(0,v.logWarn)("".concat(P," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submoduleNames,r=arguments.length>1?arguments[1]:void 0;return oe({refresh:!0,submoduleNames:t}).then((function(){return r&&(0,v.isFn)(r)&&r(),ue()}))}function be(){return oe().then((function(){return ue()}),(function(e){return e===ae?Promise.resolve().then(be):((0,v.logError)("Error initializing userId",e),y.GreedyPromise.reject(e))}))}function ye(){for(var e=Number(E.allConsent.hash),t=[];e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function he(e,t,r){var n=l.gdprDataHandler.getConsentData();if(e.config.storage){var i,o=Z(e),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(Z(e,"last"));a=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!o||a||t||function(e){var t=Z(e,"cst");return!t||t!==ye()}(e)?i=e.submodule.getId(e.config,n,o):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,n,o)),(0,v.isPlainObject)(i)&&(i.id&&(K(e,i.id),o=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var d=e.submodule.getId(e.config,n,void 0);(0,v.isPlainObject)(d)&&("function"==typeof d.callback&&(e.callback=d.callback),d.id&&(e.idObj=e.submodule.decode(d.id,e.config)))}Ie(te(r))}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue();if(e&&L){var t=de((0,g.createEidsArray)(e));t&&((0,v.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function Se(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Y().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];if(!(t=t.filter((function(e){return(!e.config.storage||_e(e))&&N.isAllowed(w.ACTIVITY_ENRICH_EIDS,(0,O.activityParams)(A.MODULE_TYPE_UID,e.config.name))}))).length)return(0,v.logWarn)("".concat(P," - no ID module configured")),[];var n=t.reduce((function(e,n){return X(n.submodule.name).measureTime("init",(function(){try{he(n,r,t),e.push(n)}catch(e){(0,v.logError)("Error in userID module '".concat(n.submodule.name,"':"),e)}return e}))}),[]);return n.length&&$(n),n.forEach(Ee.bind(null,e)),n}))}function Ee(e,t){for(var r=!1,n=0;n<e.length;n++)if(t.config.name.toLowerCase()===e[n].config.name.toLowerCase()){r=!0,e[n]=t;break}r||e.push(t)}t.requestBidsHook=ce;var Ae=new Set([D,R]);function _e(e){var t,r;switch(null===(t=e.config)||void 0===t||null===(r=t.storage)||void 0===r?void 0:r.type){case D:if(e.storageMgr.localStorageIsEnabled())return!j.getDataFromLocalStorage(k)||((0,v.logInfo)("".concat(P," - opt-out localStorage found, storage disabled")),!1);break;case R:if(e.storageMgr.cookiesAreEnabled())return!j.getCookie(k)||((0,v.logInfo)("".concat(P," - opt-out cookie found, storage disabled")),!1)}return!1}function we(e){g.EID_CONFIG.clear(),Object.entries(re(e,(function(e){return e.eids}),(function(e){return e.name}))).forEach((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return g.EID_CONFIG.set(r,n)}))}function Oe(){we(W);var e=function(e,t){return Array.isArray(e)?e.reduce((function(e,t){return!t||(0,v.isEmptyStr)(t.name)||(t.storage&&!(0,v.isEmptyStr)(t.storage.type)&&!(0,v.isEmptyStr)(t.storage.name)&&Ae.has(t.storage.type)||(0,v.isPlainObject)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e}),[]):[]}(F);if(e.length){var t=W.filter((function(e){return!(0,d.find)(q,(function(t){return t.name===e.name}))}));q.splice(0,q.length),t.map((function(t){var r=(0,d.find)(e,(function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())}));return r&&t.name!==r.name&&(r.name=t.name),t.findRootDomain=S.findRootDomain,r?{submodule:t,config:r,callback:void 0,idObj:void 0,storageMgr:(0,m.getStorageManager)({moduleType:A.MODULE_TYPE_UID,moduleName:r.name})}:null})).filter((function(e){return null!==e})).forEach((function(e){return q.push(e)})),!z&&q.length&&((0,s.getGlobal)().requestBids.before(ce,40),l.default.callDataDeletionRequest.before(Ce),b.getPPID.after((function(e){return e(de())})),(0,v.logInfo)("".concat(P," - usersync config updated for ").concat(q.length," submodules: "),q.map((function(e){return e.submodule.name}))),z=!0)}}function Te(e,t){if(e){var r={},i=new Map(t.map((function(e){return e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[]})));Object.keys(e).forEach((function(t){var o=(0,v.isArray)(e[t])?(0,n.default)(e[t]).reverse():[];r[t]=o.map((function(e){return i.has(e)?i.get(e):e}))})),G=r}else G={}}function Ce(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(0,v.logInfo)("UserID: received data deletion request; deleting all stored IDs..."),q.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var t;(t=e.submodule).onDataDeletionRequest.apply(t,[e.config,e.idObj].concat(r))}catch(t){(0,v.logError)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),t)}Q(e)})),e.apply(this,r)}function xe(e){(0,d.find)(W,(function(t){return t.name===e.name}))||(W.push(e),E.GDPR_GVLIDS.register(A.MODULE_TYPE_UID,e.name,e.gvlid),Oe(),oe({refresh:!0,submoduleNames:[e.name]}))}function Pe(e){return function(){return Promise.resolve(e.apply(this,arguments))}}function Re(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.delay,i=void 0===n?y.GreedyPromise.timeout:n;L=void 0,q=[],F=[],z=!1,M=[],oe=se({delay:i}),null!=V&&V(),W=[],V=e.getConfig("userSync",(function(e){var r=e.userSync;r&&(L=r.ppid,r.userIds&&(F=r.userIds,t.syncDelay=B=(0,v.isNumber)(r.syncDelay)?r.syncDelay:500,t.auctionDelay=U=(0,v.isNumber)(r.auctionDelay)?r.auctionDelay:0,Oe(),Te(r.idPriority,q),oe({ready:!0})))})),(0,s.getGlobal)().getUserIds=ue,(0,s.getGlobal)().getUserIdsAsEids=le,(0,s.getGlobal)().getEncryptedEidsForSource=Pe(pe),(0,s.getGlobal)().registerSignalSources=me,(0,s.getGlobal)().refreshUserIds=Pe(ve),(0,s.getGlobal)().getUserIdsAsync=Pe(be),(0,s.getGlobal)().getUserIdsAsEidBySource=fe}function De(e,t,r){var n=(0,v.deepAccess)(r,"bidRequests.0.userIdAsEids");n&&Object.keys(n).length>0&&(0,v.deepSetValue)(e,"user.ext.eids",n)}Re(c.config),(0,p.module)("userId",xe),(0,h.registerOrtbProcessor)({type:h.REQUEST,name:"userExtEids",fn:De}),(0,s.registerModule)("userId")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEidsArray=function(e){var t={};function r(e){var r,n,o=JSON.stringify([null===(r=e.source)||void 0===r?void 0:r.toLowerCase(),e.ext]);t.hasOwnProperty(o)?(n=t[o].uids).push.apply(n,(0,i.default)(e.uids)):t[o]=e}return Object.entries(e).forEach((function(e){var t=(0,n.default)(e,2),i=t[0],a=t[1];a=Array.isArray(a)?a:[a],("pubProvidedId"===i?a:a.map((function(e){return function(e,t){var r=s.get(t);if(r&&e){var n={};n.source=(0,o.isFn)(r.getSource)?r.getSource(e):r.source;var i=(0,o.isFn)(r.getValue)?r.getValue(e):e;if((0,o.isStr)(i)){var a={id:i,atype:r.atype};if((0,o.isFn)(r.getUidExt)){var d=r.getUidExt(e);d&&(a.ext=d)}if(n.uids=[a],(0,o.isFn)(r.getEidExt)){var c=r.getEidExt(e);c&&(n.ext=c)}return n}}return null}(e,i)}))).filter((function(e){return null!=e})).forEach(r)})),Object.values(t)},t.buildEidPermissions=function(e){var t=[];return e.filter((function(e){return(0,o.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){var n=s.get(r)||{};(0,o.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&n.source&&t.push({source:n.source,bidders:e.config.bidders})}))})),t},t.EID_CONFIG=void 0,r(1);var n=a(r(6)),i=a(r(23)),o=r(0);function a(e){return e&&e.__esModule?e:{default:e}}var s=new Map;t.EID_CONFIG=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPPID=void 0;var n=(0,r(24).hook)("sync",(function(){}));t.getPPID=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedIdSystemSubmodule=t.storage=void 0;var n,i=(n=r(18))&&n.__esModule?n:{default:n},o=r(8),a=r(0),s=r(24),d=r(29),c=r(34),u=r(130),l=r(47),f=r(464);var p=(0,c.getStorageManager)({moduleType:l.MODULE_TYPE_UID,moduleName:"sharedId"});t.storage=p;var g="cookie",m="html5",v="_pubcid_optout",b="PublisherCommonId";function y(e,t){if(t===g)return p.getCookie(e);if(t===m&&p.hasLocalStorage()){var r=p.getDataFromLocalStorage("".concat(e,"_exp"));if(!r)return p.getDataFromLocalStorage(e);if(new Date(r).getTime()-Date.now()>0)return p.getDataFromLocalStorage(e)}}function h(e,t){return function(r,n){t?I(t,e,(function(){r(n()||e)}))():r(e)}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;if(e){var n=(0,a.parseUrl)(e);n.search.id=encodeURIComponent("pubcid:"+t);var i=(0,a.buildUrl)(n);return function(){(0,a.triggerPixel)(i,r)}}}function S(){return!!(p.cookiesAreEnabled()&&y(v,g)||p.hasLocalStorage()&&y(v,m))}var E={name:"sharedId",aliasName:"pubCommonId",gvlid:u.VENDORLESS_GVLID,decode:function(e,t){if(!S())return(0,a.logInfo)(" Decoded value PubCommonId "+e),{pubcid:e};(0,a.logInfo)("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(S())(0,a.logInfo)("PubCommonId: Has opted-out");else{var r=d.coppaDataHandler.getCoppa();if(!r){var n=e.params,o=(n=void 0===n?{}:n).create,s=void 0===o||o,c=n.pixelUrl,u=t;if(!u){try{"object"===(0,i.default)(window[b])&&(u=window[b].getId())}catch(e){}u||(u=s&&(0,a.hasDeviceAccess)()?(0,a.generateUUID)():void 0)}return{id:u,callback:h(u,c)}}(0,a.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(S())return(0,a.logInfo)("PubCommonId: Has opted-out"),{id:void 0};var r=d.coppaDataHandler.getCoppa();if(r)(0,a.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var n=e.params,i=(n=void 0===n?{}:n).extend,o=void 0!==i&&i,s=n.pixelUrl;if(o){if(s){var c=I(s,t);return{callback:c}}return{id:t}}}},domainOverride:(0,f.domainOverrideToRootDomain)(p,"sharedId"),eids:{pubcid:{source:"pubcid.org",atype:1}}};t.sharedIdSystemSubmodule=E,(0,s.submodule)("userId",E),(0,o.registerModule)("sharedIdSystem")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainOverrideToRootDomain=function(e,t){return function(){for(var r,n,i=document.domain.split("."),o="_gd".concat(Date.now(),"_").concat(t),a=0;a<i.length;a++){var s=i.slice(a).join(".");if(e.setCookie(o,"1",void 0,void 0,s),n=e.getCookie(o),e.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,s),"1"!==n)return r;r=s}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prebidUserId=void 0,r(1);var n=r(10),i=r(5),o=r(21),a=r(14),s=b(r(123)),d=r(70),c=b(r(466)),u=b(r(26)),l=b(r(31)),f=r(33),p=r(3),g=b(r(7)),m=b(r(121)),v=r(39);function b(e){return e&&e.__esModule?e:{default:e}}const{OPTANON:y,PREBID_USER_ID:h}=g.default.MODULES,I=(0,p.logger)({name:"userId",textColor:"#FFF",bgColor:"#EB5160"}),S=function(){let e={};function t(t){t?(I.logInfo("Applying User ID configs",e),r()):(I.logInfo("Removing User ID configs",e),p())}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t){const t=e;for(const e in t)Object.hasOwnProperty.call(t,e)&&r(e);return}let a=e[t];if(a.template&&a.enabled){const e=(0,c.default)(JSON.stringify(a)),t=JSON.parse(e({context:s.default}));a=(0,u.default)({},t,a)}const l=o(a);if(a.enabled&&l&&(!0===(0,n.getConfig)("consent")||void 0===(0,n.getConfig)("consent"))){if(a.template){const e=(0,c.default)(JSON.stringify(a)),t=JSON.parse(e({context:s.default}));a=(0,u.default)({},t,a)}if(a.trackChanges){const e=d.storage.getLocalStorage("".concat(a.userSyncConfig.storage.name,".meta"));if((0,m.default)(e,a.userSyncConfig))e||d.storage.setLocalStorage("".concat(a.userSyncConfig.storage.name,".meta"),a.userSyncConfig);else{(!a.shouldRefresh||(0,v.makeSafe)((()=>a.shouldRefresh(e,a.userSyncConfig)),I.logError,(()=>!1)))&&(I.logInfo("Identity config change detected. Refreshing user id for ".concat(t),a),p(t,!1),d.storage.setLocalStorage("".concat(a.userSyncConfig.storage.name,".meta"),a.userSyncConfig))}}if("uid2"===t){let e;const t=window.localStorage.getItem("fmscw_resp")?JSON.parse(window.localStorage.getItem("fmscw_resp")):null;if(t&&t.value&&t.value.fms_params&&t.value.fms_params.fms_UID2)e=t.value.fms_params.fms_UID2,e.identity_expires&&e.refresh_expires&&e.refresh_from&&(e.identity_expires=10===e.identity_expires.toString().length?1e3*e.identity_expires:e.identity_expires,e.refresh_expires=10===e.refresh_expires.toString().length?1e3*e.refresh_expires:e.refresh_expires,e.refresh_from=10===e.refresh_from.toString().length?1e3*e.refresh_from:e.refresh_from),a.userSyncConfig.params.uid2Token=e,(0,n.setConfig)("prebid.ids.uid2.userSyncConfig.params.uid2Token",e);else{const t=(0,n.getConfig)("coppa")?(0,n.getConfig)("coppa"):0,r=(0,n.getConfig)("firstPartyData.eid")?(0,n.getConfig)("firstPartyData.eid"):"",o=(0,n.getConfig)("timeouts.fmsretrieve")?(0,n.getConfig)("timeouts.fmsretrieve"):1500;window.fmscw.retrieve({app:{coppa:t,googledai:0},identifiers:{emailhash:r}},{timeout:o}).then((t=>{t&&t.fms_params&&t.fms_params.fms_UID2&&(e=t.fms_params.fms_UID2,e.identity_expires&&e.refresh_expires&&e.refresh_from&&(e.identity_expires=10===e.identity_expires.toString().length?1e3*e.identity_expires:e.identity_expires,e.refresh_expires=10===e.refresh_expires.toString().length?1e3*e.refresh_expires:e.refresh_expires,e.refresh_from=10===e.refresh_from.toString().length?1e3*e.refresh_from:e.refresh_from),a.userSyncConfig.params.uid2Token=e,(0,n.setConfig)("prebid.ids.uid2.userSyncConfig.params.uid2Token",e),I.logInfo("Refreshing User ID",a.userSyncConfig),(0,i.dom)().window.pbjs.refreshUserIds({submoduleNames:["uid2"]},(()=>I.logInfo("Refresh User ID complete",a.userSyncConfig))))}))}}"liveIntent"===t&&(0,i.dom)().window.cbsoptanon.cmd.push((function(e){e.tcf.getConsentData((function(e,t){if((0,i.dom)().window.__tcfapi||(0,i.dom)().window.__cmp){const t=e.gdprApplies?e.gdprApplies:null;if(t&&e.tcString){a.userSyncConfig.params.gdprApplies=t;const r=e.tcString;a.userSyncConfig.params.gdprConsent=r}}const r=d.storage.getCookie("usprivacy",!1);r&&(a.userSyncConfig.params.usPrivacyString=r),I.logInfo("Refreshing User ID",a.userSyncConfig),(0,i.dom)().window.pbjs.refreshUserIds({submoduleNames:["liveIntent"]},(()=>I.logInfo("Refresh User ID complete",a.userSyncConfig)))}))}));const e=(0,n.getConfig)("prebid.pbjsConfig.userSync.userIds"),r=e?e.filter((e=>e.name!==a.userSyncConfig.name)):[];I.logInfo("Updating User ID",a.userSyncConfig),(0,n.setConfig)("prebid.pbjsConfig.userSync.userIds",[...r,a.userSyncConfig])}else l||I.logInfo("User ID dependencies not met for User ID",t,a)}function o(e){if(void 0===e.dependencies)return!0;if(Array.isArray(e.dependencies))for(let t=0;t<e.dependencies.length;t++){const r=e.dependencies[t];if(!r||""===r||["undefined","false"].indexOf(r)>=0)return!1}else{const t=e.dependencies;if(!t||""===t||["undefined","false"].indexOf(t)>=0)return!1}return!0}function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t){const t=e;for(const e in t)Object.hasOwnProperty.call(t,e)&&p(e);return}let i=e[t];if(i.template){const e=(0,c.default)(JSON.stringify(i)),t=JSON.parse(e({context:s.default}));i=(0,u.default)({},t,i)}if(i.autoDeleteStorage&&(0,l.default)(i,"userSyncConfig.storage.name")){if("cookie"===(0,l.default)(i,"userSyncConfig.storage.type")?d.storage.deleteCookie(i.userSyncConfig.storage.name):"html5"===(0,l.default)(i,"userSyncConfig.storage.type")&&d.storage.raw.deleteFromLs(i.userSyncConfig.storage.name),i.onRemove&&i.onRemove.cookies)for(let e=0;e<i.onRemove.cookies.length;e++){const t=i.onRemove.cookies[e];d.storage.deleteCookie(t)}if(i.onRemove&&i.onRemove.localStorage)for(let e=0;e<i.onRemove.localStorage.length;e++){const t=i.onRemove.localStorage[e];d.storage.raw.deleteFromLs(t)}d.storage.raw.deleteFromLs("".concat(i.userSyncConfig.storage.name,".meta"))}if(r){const e=(0,n.getConfig)("prebid.pbjsConfig.userSync.userIds"),t=e?e.filter((e=>e.name!==i.userSyncConfig.name)):[];(0,n.setConfig)("prebid.pbjsConfig.userSync.userIds",t)}}return{name:h,register:function(){(0,n.getConfig)("prebid.ids",(t=>{e=(0,f.cloneDeep)(t)})),function(){for(const t in e)Object.hasOwnProperty.call(e,t)&&(0,n.getConfig)("prebids.ids.".concat(t,".enabled"),(e=>{e?r(t):p(t)}))}()},initialize:function(){a.eventEmitter.on("consentReady",t),a.eventEmitter.on("consentChanged",t);const e=(0,n.getConfig)("consent");t(void 0===e||e)}}}(),E=o.moduleManager.register(S,[y]);t.prebidUserId=E},function(e,t,r){var n=r(467),i=r(468),o=r(469),a=r(471),s=r(472),d=r(262),c=r(209),u=r(120),l=r(263),f=r(473),p=r(264),g=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/[()=,{}\[\]\/\s]/,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,h=/($^)/,I=/['\n\r\u2028\u2029\\]/g,S=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var E=f.imports._.templateSettings||f;r&&c(e,t,r)&&(t=void 0),e=p(e),t=n({},t,E,a);var A,_,w=n({},t.imports,E.imports,a),O=u(w),T=o(w,O),C=0,x=t.interpolate||h,P="__p += '",R=RegExp((t.escape||h).source+"|"+x.source+"|"+(x===l?y:h).source+"|"+(t.evaluate||h).source+"|$","g"),D=S.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(R,(function(t,r,n,i,o,a){return n||(n=i),P+=e.slice(C,a).replace(I,s),r&&(A=!0,P+="' +\n__e("+r+") +\n'"),o&&(_=!0,P+="';\n"+o+";\n__p += '"),n&&(P+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),C=a+t.length,t})),P+="';\n";var k=S.call(t,"variable")&&t.variable;if(k){if(b.test(k))throw new Error("Invalid `variable` option passed into `_.template`")}else P="with (obj) {\n"+P+"\n}\n";P=(_?P.replace(g,""):P).replace(m,"$1").replace(v,"$1;"),P="function("+(k||"obj")+") {\n"+(k?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(A?", __e = _.escape":"")+(_?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+P+"return __p\n}";var j=i((function(){return Function(O,D+"return "+P).apply(void 0,T)}));if(j.source=P,d(j))throw j;return j}},function(e,t,r){var n=r(79),i=r(208),o=r(92),a=i((function(e,t,r,i){n(t,o(t),e,i)}));e.exports=a},function(e,t,r){var n=r(151),i=r(152),o=r(262),a=i((function(e,t){try{return n(e,void 0,t)}catch(e){return o(e)?e:new Error(e)}}));e.exports=a},function(e,t,r){var n=r(470);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(117),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e,t,r,a){return void 0===e||n(e,i[r])&&!o.call(a,r)?t:e}},function(e,t){var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+r[e]}},function(e,t,r){var n=r(474),i={escape:r(477),evaluate:r(478),interpolate:r(263),variable:"",imports:{_:{escape:n}}};e.exports=i},function(e,t,r){var n=r(475),i=r(264),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,n):e}},function(e,t,r){var n=r(476)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t){e.exports=/<%-([\s\S]+?)%>/g},function(e,t){e.exports=/<%([\s\S]+?)%>/g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ixIdentity=void 0;var n,i=r(21),o=(n=r(7))&&n.__esModule?n:{default:n};const{IX_IDENTITY:a}=o.default.MODULES,s={name:a,register:function(){r(480)}},d=i.moduleManager.register(s,null,{gate:"consentGiven"});t.ixIdentity=d},function(module,exports,__webpack_require__){"use strict";var require,require;!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(!s&&"function"==typeof require&&require)return require(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n,i=e(5),o=e(2),a=e(10),s=e(28),d=e(14),c=e(18),u={AdserverOrgIp:e(17),MerkleIp:e(21),LiveRampIp:e(20),LiveIntentIp:e(19)};t.exports=function(e){function t(e,t){return b[e]=y.IN_PROGRESS,new a((function(r){t.instance.retrieve().then((function(){b[e]=y.COMPLETE,r()})).catch((function(t){b[e]=y.COMPLETE,r()}))}))}function r(){for(var e=[],r=a.defer(),i=Object.keys(m);i.length;){var o=d.randomSplice(i),s=m[o];if(s.enabled)try{e.push(t(o,s))}catch(e){}}return a.all(e).then((function(){n.emit("rti_partner_request_complete",{requestsCompleted:e.length}),r.resolve()})),r}function l(){for(var e in b)b.hasOwnProperty(e)&&b[e]!==y.COMPLETE&&n.emit("hs_identity_timeout",{statsId:m[e].instance.getStatsId()})}function f(){var e={};for(var t in h||(h=!0,l()),m)if(m.hasOwnProperty(t)){var r=m[t];if(r.enabled){var n=r.instance.getResults();b[t]===y.COMPLETE?(e[t]=n?{data:n}:{data:{}},e[t].responsePending=!1):e[t]={data:{},responsePending:!0}}}return e}function p(){v===y.NOT_STARTED&&(r(),v=y.IN_PROGRESS)}var g,m,v,b,y={NOT_STARTED:0,IN_PROGRESS:1,COMPLETE:2},h=!1;return function(){n=s.services.EventsService,s.services.TimerService,g=o(),v=y.NOT_STARTED,b={},m=e.partners;for(var t=Object.keys(m),i=t.length-1;i>=0;i--){var a=d.randomSplice(t),l=m[a];if(l.enabled)try{var h=u[a];if(d.isObject(h)?l.instance=c(h,l.configs):l.instance=h(l.configs),!l.instance){l.enabled=!1;continue}b[a]=y.NOT_STARTED}catch(e){l.enabled=!1}}g._setDirectInterface("IdentityLayer",{retrieve:p,getAllPartnerResults:f,invokeAllPartners:r})}(),i.derive(g,{retrieve:p})}},{}],2:[function(e,t,r){var n=e(10);e(15),t.exports=function(){function e(e,t){return n.resolve(t)}var t,r,i;return t=null,r=e,i=e,{_setDirectInterface:function(e,r){(t={})[e]=r},_setExecutor:function(e){r=e},_executeNext:function(e,t){return i(e,t)},setNext:function(e){i=e},getDirectInterface:function(){return t},execute:function(e,t){return n.resolve().then((function(){return r(e,t)}))}}}},{}],3:[function(e,t,r){e(15),t.exports=function(){function e(){try{return window.top===window.self}catch(e){return!1}}function t(e,t,r,n){try{for(var i,o=window,a=0;;)if(!(r&&a<r)){if(n&&a>n)break;if(e&&(i=e(o)))return i;var s;try{s=o.frameElement}catch(e){s=null}if(null===s){if(t&&(i=t(o)))return i;break}o=o.parent,a++}}catch(e){}return null}var r;return r=t(null,(function(e){return e})),{topWindow:r,getProtocol:function(e,t){return e=e||"http:",t=t||"https:","https:"===document.location.protocol?t:e},isLocalStorageSupported:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}},getViewportWidth:function(){return("CSS1Compat"===r.document.compatMode?r.document.documentElement:r.document.body).clientWidth},getViewportHeight:function(){return("CSS1Compat"===r.document.compatMode?r.document.documentElement:r.document.body).clientHeight},isTopFrame:e,getScreenWidth:function(){return r.screen.width},getScreenHeight:function(){return r.screen.height},getReferrer:function(){return document.referrer},getPageUrl:function(){return e()?location.href:document.referrer||location.href},getHostname:function(){return r.location.hostname},getUserAgent:function(){return navigator.userAgent},getLanguage:function(){return navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},getPathname:function(){return r.location.pathname},getNearestEntity:function(e){return t((function(t){return t.hasOwnProperty(e)?t[e]:null}))},traverseContextTree:t,createHiddenIFrame:function(e,t){var n=t||r,i=n.document.createElement("iframe");return e&&(i.src=e),i.width=0,i.height=0,i.scrolling="no",i.marginWidth=0,i.marginHeight=0,i.frameBorder=0,i.setAttribute("style","border: 0px; vertical-align: bottom; visibility: hidden; display: none;"),n.document.body.appendChild(i),i},readCookie:function(e){var t=e+"=",n=r.document.cookie.split(";");for(var i in n)if(n.hasOwnProperty(i)){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},isFlashSupported:function(){var e=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0)}return e}}}()},{}],4:[function(e,t,r){var n=e(3),i=e(14),o=e(13);t.exports=function(){function e(e){if(!r)return!1;try{localStorage.removeItem(a+e)}catch(e){return!1}return!0}function t(t){if(!r)return null;var n;try{n=JSON.parse(localStorage.getItem(a+t))}catch(e){return null}return null===n?null:!n.e||n.e<o.now()?(e(t),null):i.isObject(n.d)?{data:n.d,created:n.t,expires:n.e}:null}var r,a="IXWRAPPER",s=6048e5;return r=n.isLocalStorageSupported(),{deleteData:e,getEntry:t,getData:function(e){var r=t(e);return r&&r.data},setData:function(e,t,n){if(!r)return!1;n>s&&(n=s);var i=o.now(),d={t:i,d:t,e:i+n};try{localStorage.setItem(a+e,JSON.stringify(d))}catch(e){return!1}return!0}}}()},{}],5:[function(e,t,r){e(15),t.exports={derive:function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return function(e){for(var t in e)e.hasOwnProperty(t)&&"_"===t[0]&&"__"!==t.slice(0,2)&&delete e[t];return e}(n)}}},{}],6:[function(e,t,r){var n=e(14);t.exports=function(e){return function(){if(n.isArray(e))for(var t=0;t<e.length;t++)try{e[t]()}catch(e){}}(),{push:function(e){if(n.isFunction(e))try{e()}catch(e){}}}}},{}],7:[function(e,t,r){t.exports={DEFAULT_UID_LENGTH:8,MIN_BANNER_DIMENSION:1,MIN_BID_FLOOR:0,MIN_SITE_ID:0,DEFAULT_UID_CHARSET:"ALPHANUM",SESSION_ID_LENGTH:8,PUBKIT_AD_ID_LENGTH:16,RENDER_SERVICE_EXPIRY_SWEEP_TIMER:3e4,DEFAULT_PARTNER_PRIORITY:1,LineItemTypes:{ID_AND_SIZE:1,ID_AND_PRICE:2,CUSTOM:3},DeviceTypeMethods:{USER_AGENT:1,REFERENCE:2,SIZE_MAPPING:3},RequestArchitectures:{MRA:1,SRA:2},InitialLoadStates:{DISABLED:1,ENABLED:2},MediationLevels:{NONE:1,HT_SLOT:2,PARTNER:3}}},{}],8:[function(e,t,r){function n(e){function t(){return s.mobile()?n.DeviceTypes.MOBILE:(s.tablet(),n.DeviceTypes.DESKTOP)}function r(){var t;try{t=eval(e.configs.reference)}catch(e){throw a("INTERNAL_ERROR","DeviceTypeChecker: could not eval() `reference`.")}if(!o.isFunction(t)){if(o.isString(t))return t;throw a("INVALID_TYPE","DeviceTypeChecker: `reference` must refer to a function or a string")}try{return t()}catch(e){throw a("INTERNAL_ERROR","DeviceTypeChecker: could not execute `reference` function.")}}function u(){switch(c){case i.DeviceTypeMethods.USER_AGENT:return t();case i.DeviceTypeMethods.REFERENCE:return r();default:return t()}}var c;return c=i.DeviceTypeMethods[e.method]||i.DeviceTypeMethods.USER_AGENT,{getDeviceType:u}}var i=e(7),o=e(14),a=e(15),s=e(9);n.isValidDeviceType=function(e){for(var t in n.DeviceTypes)if(n.DeviceTypes.hasOwnProperty(t)&&"TABLET"!==t&&e===n.DeviceTypes[t])return!0;return!1},n.DeviceTypes={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"},t.exports=n},{}],9:[function(e,t,r){var n,i,o;n={},o=window.navigator.userAgent.toLowerCase(),n.ios=function(){return n.iphone()||n.ipod()||n.ipad()},n.iphone=function(){return!n.windows()&&i("iphone")},n.ipod=function(){return i("ipod")},n.ipad=function(){return i("ipad")},n.android=function(){return!n.windows()&&i("android")},n.androidPhone=function(){return n.android()&&i("mobile")},n.androidTablet=function(){return n.android()&&!i("mobile")},n.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},n.blackberryPhone=function(){return n.blackberry()&&!i("tablet")},n.blackberryTablet=function(){return n.blackberry()&&i("tablet")},n.windows=function(){return i("windows")},n.windowsPhone=function(){return n.windows()&&i("phone")},n.windowsTablet=function(){return n.windows()&&i("touch")&&!n.windowsPhone()},n.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},n.fxosPhone=function(){return n.fxos()&&i("mobile")},n.fxosTablet=function(){return n.fxos()&&i("tablet")},n.meego=function(){return i("meego")},n.mobile=function(){return n.androidPhone()||n.iphone()||n.ipod()||n.windowsPhone()||n.blackberryPhone()||n.fxosPhone()||n.meego()},n.tablet=function(){return n.ipad()||n.androidTablet()||n.blackberryTablet()||n.windowsTablet()||n.fxosTablet()},n.desktop=function(){return!n.tablet()&&!n.mobile()},i=function(e){return-1!==o.indexOf(e)},t.exports=n},{}],10:[function(e,t,r){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0!==e._state){e._handled=!0;var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,n)}else(1===e._state?a:s)(t.promise,e._value)}else e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof i)return e._state=3,e._value=t,void d(e);if("function"==typeof r)return void u(bind(r,t),e)}e._state=1,e._value=t,d(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,d(e)}function d(e){for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function u(e,t){var r=!1;try{e((function(e){r||(r=!0,a(t,e))}),(function(e){r||(r=!0,s(t,e))}))}catch(e){if(r)return;r=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,r){function n(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){n(o,e)}),r)}t[o]=a,0==--i&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)n(o,t[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,r){r(e)}))},i.defer=function(){var e={};return e.promise=new i((function(t,r){e.resolve=t,e.reject=r})),e},t.exports=i},{}],11:[function(e,t,r){t.exports=function(e){e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r={},n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0"};return n.browser&&(r[n.browser]=!0,r.version=n.version,r.versionNumber=parseInt(n.versionNumber,10)),(r.rv||r.iemobile)&&(n.browser="msie",r.msie=!0),r.edge&&(delete r.edge,n.browser="msedge",r.msedge=!0),r.opr&&(n.browser="opera",r.opera=!0),r.safari&&r.android&&(n.browser="android",r.android=!0),r.safari&&r.kindle&&(n.browser="kindle",r.kindle=!0),r.safari&&r.silk&&(n.browser="silk",r.silk=!0),r.name=n.browser,r}(window.navigator.userAgent)},{}],12:[function(e,t,r){var n=e(28),i=e(13),o=e(14),a=e(15),s=e(11);t.exports=function(){function e(){return c}function t(e){var t="";for(var r in e)if(e.hasOwnProperty(r))if(o.isObject(e[r]))for(var n in e[r])e[r].hasOwnProperty(n)&&(t+=r+"%5B"+n+"%5D="+encodeURIComponent(e[r][n])+"&");else if(o.isArray(e[r]))for(var i=0;i<e[r].length;i++)t+=r+"%5B%5D="+encodeURIComponent(e[r][i])+"&";else t+=r+"="+encodeURIComponent(e[r])+"&";return t.slice(0,-1)}function r(e,r,n){return"/"!==e[e.length-1]&&r&&(e+="/"),r=r||[],o.isObject(n)&&(n=t(n)),n=n?"?"+n:"",e+r.join("/")+n}function d(e){var a,d,c=e.scope||window;if(e.useImgTag)a=c.document.createElement("img");else{(a=c.document.createElement("script")).type="text/javascript";var u=!0;e.hasOwnProperty("async")&&(u=e.async),a.async=u}var l,f=e.url;e.data&&(l=o.isString(e.data)?e.data:t(e.data),f=r(e.url,null,l));var p,g=!1,m=function(){try{if(g)return;g=!0,e.onTimeout&&e.onTimeout(),e.useImgTag||e.continueAfterTimeout||a.parentNode.removeChild(a)}catch(e){}};e.globalTimeout&&n.services.TimerService.addTimerCallback(e.sessionId,m),e.timeout&&(p=setTimeout(m,e.timeout));var v=function(){try{if(g){if(!e.continueAfterTimeout)return}else clearTimeout(p);e.onSuccess&&e.onSuccess(null,i.now(),g),g=!0,e.useImgTag||a.parentNode.removeChild(a)}catch(e){}};null===a.onload?a.onload=v:a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,v())};if(a.onerror=function(){try{if(g){if(!e.continueAfterTimeout)return}else clearTimeout(p),g=!0;e.onFailure&&e.onFailure(),e.useImgTag||a.parentNode.removeChild(a)}catch(e){}},d=i.now(),a.src=f,!e.useImgTag){var b=c.document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):s.msie||s.msedge||s.mozilla?c.onload=function(){c.document.body.appendChild(a)}:c.document.body.appendChild(a)}return d}var c;return c=window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType,{ajax:function(s){if(!e()){if(s.jsonp&&"GET"===s.method)return d(s);throw a("INTERNAL_ERROR","XHR is not supported in this browser.")}var c,u=new(s.scope||window).XMLHttpRequest,l=s.url,f=null;if(s.data)if("GET"===s.method){var p;p=o.isString(s.data)?s.data:t(s.data),l=r(s.url,null,p)}else"POST"===s.method&&(f=o.isString(s.data)?s.data:JSON.stringify(s.data));var g=!0;s.hasOwnProperty("async")&&(g=s.async),u.open(s.method,l,g);var m="application/x-www-form-urlencoded; charset=UTF-8";if(void 0!==s.contentType&&(m=s.contentType),m&&u.setRequestHeader("Content-Type",m),s.headers)for(var v in s.headers.hasOwnProperty("X-Request-With")||u.setRequestHeader("X-Request-With","XMLHttpRequest"),s.headers)s.headers.hasOwnProperty(v)&&u.setRequestHeader(v,s.headers[v]);s.withCredentials&&(u.withCredentials=!0);var b,y=!1,h=function(){try{if(y)return;y=!0,s.onTimeout&&s.onTimeout()}catch(e){}};return s.globalTimeout&&n.services.TimerService.addTimerCallback(s.sessionId,h),s.timeout&&(s.continueAfterTimeout?b=setTimeout(h,s.timeout):(u.timeout=s.timeout,u.ontimeout=h)),(s.onSuccess||s.onFailure)&&(u.onreadystatechange=function(){if(4===u.readyState){if(y){if(!s.continueAfterTimeout)return}else clearTimeout(b),u.ontimeout=null;if(200===u.status){if(s.onSuccess)try{s.onSuccess(u.responseText,i.now(),y)}catch(e){}}else if(s.onFailure)try{s.onFailure(u.status)}catch(e){}y=!0}}),c=i.now(),u.send(f),c},jsonp:d,img:function(e){return e.useImgTag=!0,d(e)},buildUrl:r,objToQueryString:t,isXhrSupported:e}}()},{}],13:[function(e,t,r){var n=e(7);e(15),t.exports=function(){function e(e,t){e=e||n.DEFAULT_UID_LENGTH,t=t||n.DEFAULT_UID_CHARSET;for(var i="",o=0;o<e;o++)i+=r[t].charAt(Math.floor(Math.random()*r[t].length));return i}var t,r={ALPHANUM:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ALPHA_UPPER:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",ALPHA_LOWER:"abcdefghijklmnopqrstuvwxyz",HEX:"0123456789abcdef",NUM:"0123456789"};return t=new Date,{UidCharacterSets:r,generateUniqueId:e,generateUuid:function(){return e(8,"HEX")+"-"+e(4,"HEX")+"-4"+e(3,"HEX")+"-"+"89ab".charAt(Math.floor(4*Math.random()))+e(3,"HEX")+"-"+e(8,"HEX")},now:function(){return(new Date).getTime()},getTimezoneOffset:function(){return t.getTimezoneOffset()},documentWrite:function(e,t){e.open("text/html","replace"),e.write(t),e.close()},noOp:function(){}}}()},{}],14:[function(e,t,r){var n=e(15);t.exports=function(){function e(e){return void 0===e?"undefined":{}.toString.call(e).match(s)[1].toLowerCase()}function t(t){return"string"===e(t)}function r(t){return"number"===e(t)&&!isNaN(t)}function i(t){return"object"===e(t)}function o(r,i,o){if("array"!==e(r))return!1;if(void 0!==i){if(!t(i))throw n("INVALID_TYPE","`type` must be a string");if("class"===i){if(!t(o))throw n("INVALID_TYPE","`className` must be a string");for(var a=0;a<r.length;a++)if("object"!=typeof r[a]||r[a].__type__!==o)return!1}else for(var s=0;s<r.length;s++)if(e(r[s])!==i)return!1}return!0}function a(e,t){var r=""+e;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==r.length||0==t)return"";if(r.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="",i=0;i<t;i++)n+=r;return n}var s=/\s([a-zA-Z]+)/,d=function(e,t){return e===t};return{randomSplice:function(e){return e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:null},shuffle:function(e){var t,r,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},mergeObjects:function(){for(var e=Array.prototype.slice.call(arguments),t={},r=0;r<e.length;r++)for(var n in e[r])e[r].hasOwnProperty(n)&&(t[n]=e[r][n]);return t},mergeArrays:function(){for(var e=Array.prototype.slice.call(arguments),t=[],r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)t.push(e[r][n]);return t},isArray:o,isEmpty:function(e){if(t(e)){if(""!==e)return!1}else if(i(e)){for(var r in e)if(e.hasOwnProperty(r))return!1}else{if(!o(e))throw n("INVALID_TYPE","`entity` must be either a string, object, or an array");if(e.length)return!1}return!0},isInteger:function(e){return r(e)&&e%1==0},isString:t,isNumeric:function(t){return"number"===e(t)||"string"===e(t)&&!isNaN(Number(t))},isRegex:function(t){return"regexp"===e(t)},isNumber:r,isBoolean:function(t){return"boolean"===e(t)},isFunction:function(t){return"function"===e(t)},isObject:i,isArraySubset:function(e,t,r){void 0===r&&(r=d);for(var n=0;n<e.length;n++){for(var i=!1,o=0;o<t.length&&!(i=r(e[n],t[o]));o++);if(!i)return!1}return!0},getType:e,tryCatchWrapper:function(e,t,r,n){return t=t||[],n=n||null,r=r||"Error occurred while calling function.",function(){try{e.apply(n,t)}catch(e){}}},arrayDelete:function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},repeatString:a,padStart:function(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=a(r,t/r.length)),r.slice(0,t)+String(e))},padEnd:function(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=a(r,t/r.length)),String(e)+r.slice(0,t))},evalVariable:function(e,t){t=t||null;try{return eval.call(t,e)}catch(e){}return null},evalFunction:function(e,t,r){r=r||null;try{return eval.call(r,e+"("+t.join()+")")}catch(e){}return null},appendToArray:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=1;r<e.length;r++)Array.prototype.push.apply(t,e[r]);return t},appendToObject:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=1;r<e.length;r++){var n=e[r];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}}}()},{}],15:[function(e,t,r){function n(e,t){return new Error(e+": "+t)}n.ErrorTokens={MISSING_ARGUMENT:1,INVALID_TYPE:2,INVALID_VALUE:3,MISSING_PROPERTY:4,NUMBER_OUT_OF_RANGE:5,EMPTY_ENTITY:6,INTERNAL_ERROR:7,DUPLICATE_ENTITY:8,INVALID_ARGUMENT:9,INVALID_CONFIG:10},t.exports=n},{}],16:[function(e,t,r){var n=e(8),i=e(28),o=e(14),a=(e(15),[{name:"EventsService",constructor:e(22)},{name:"GptService",constructor:e(24)},{name:"PublisherSonarService",constructor:e(25)},{name:"TimerService",constructor:e(26)},{name:"ComplianceService",constructor:e(23)}]),s={IdentityLayer:e(1)};t.exports=function(e){var t;return function(){i.DeviceTypeChecker=n(e.DeviceTypeChecker),t={Services:{},Layers:{}};for(var r=0;r<a.length;r++){var d=a[r].name,c=a[r].constructor(e.Services[d]);c&&(i.services[d]=c,c.getDirectInterface&&c.getDirectInterface()&&(t.Services=o.mergeObjects(t.Services,c.getDirectInterface())))}for(var u,l=e.Layers.length-1;l>=0;l--){var f=e.Layers[l].layerId,p=s[f](e.Layers[l].configs);p.getDirectInterface()&&(t.Layers=o.mergeObjects(t.Layers,p.getDirectInterface())),u&&p.setNext(u.execute),u=p}}(),{getDirectInterface:function(){return t}}}},{}],17:[function(e,t,r){function n(){var e={ttd_pid:a,fmt:s,p:i.configs.publisherId},t=i.Utilities.getConsent("gdpr");t&&(1==t.applies?e.gdpr=1:0==t.applies&&(e.gdpr=0),t.consentString&&(e.gdpr_consent=t.consentString)),i.Utilities.ajax({url:i.Utilities.getProtocol()+o,method:"GET",data:e,onSuccess:function(e){try{var t=JSON.parse(e);if(!t.TDID)return void i.registerError("response does not contain TDID");var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push({id:t[n],ext:{rtiPartner:n}});i.registerMatch({source:d.source,uids:r})}catch(e){i.registerError("response is not valid JSON")}},onFailure:function(e){i.registerError("API returned error response "+e)}})}var i,o="//match.adsrvr.org/track/rid",a="casale",s="json",d={partnerId:"AdserverOrgIp",statsId:"ADSORG",version:"1.3.0",source:"adserver.org",cacheExpiry:{match:6048e5,pass:864e5,error:864e5},targetingKeys:{exchangeBidding:"ixpid_1"}};t.exports={type:"identity",api:"1",main:function(e){(i=e).onRetrieve(n)},profile:d}},{}],18:[function(e,t,r){var n,i,o,a=e(3),s=e(4),d=e(12),c=e(10),u=e(28),l=e(13),f=e(14);t.exports=function(e,t){function r(e,t){var r={match:"hs_identity_response",pass:"hs_identity_pass",error:"hs_identity_error"}[e];i.emit(r,{statsId:A}),i.emit("ip_module_result_"+E,e,t),"match"===e&&(w=t)}function p(e,t){if(!P){if(P=!0,S.cacheExpiry){var n={response:e,version:S.version};"pass"!==e&&(n.data=t),Object.keys(T).length&&(n.consent=T);var i=S.cacheExpiry[e];s.setData(x,n,i)}r(e,t),C&&C()}}function g(e){if(!n.isPrivacyEnabled())return null;if("gdpr"===e){var t=n.gdpr.getConsent();return t&&t.consentString&&(T.gdpr=!0),t}return null}function m(e){var t=s.getData(e);return t&&"match"===t.response&&t.data?t.data:null}function v(e){var t={url:e.url,method:e.method,async:!0,withCredentials:!0,jsonp:!1,continueAfterTimeout:!1,timeout:e.timeout||0};return e.onSuccess&&(t.onSuccess=e.onSuccess),e.onTimeout&&(t.onTimeout=e.onTimeout),e.onFailure&&(t.onFailure=e.onFailure),void 0!==e.data&&(t.data=e.data),void 0!==e.contentType&&(t.contentType=e.contentType),d.ajax(t)}function b(){return S.sonar&&S.sonar.enabled?o.getSonarPayload(S.sonar.entrypoints):{}}function y(e){O=e}function h(e){return Boolean(S.sonar&&S.sonar.enabled&&o.getLastUpdated(b())>e.created)}function I(e){return e.data.version!==S.version}var S,E,A,_,w,O,T,C,x,P,R={match:[h,function(e){return!function(e){return!!(e&&e.uids&&f.isString(e.source)&&f.isArray(e.uids))&&e.uids.every((function(e){return Boolean(!f.isEmpty(e)&&e.id)}))}(e.data.data)}],pass:[h,function(e){return!(!S.consent||!n.isPrivacyEnabled())&&(!e.data.consent||!f.isArraySubset(Object.keys(S.consent),Object.keys(e.data.consent)))&&n.wait().then((function(){return Object.keys(S.consent).some((function(t){if(e.data.consent&&e.data.consent[t])return!1;var r=n[t].getConsent();return r&&r.consentString}))}))},I],error:[I]},D=[function(){return S.consent&&n.isPrivacyEnabled()?n.wait():null}];return n=u.services.ComplianceService,i=u.services.EventsService,o=u.services.PublisherSonarService,S=e.profile,E=S.partnerId,A=S.statsId,w=null,O=null,C=null,x=E,T={},_={Utilities:{buildUrl:d.buildUrl,getPageUrl:a.getPageUrl,getProtocol:a.getProtocol,getReferrer:a.getReferrer,getTime:l.now,getType:f.getType,isArray:f.isArray,isEmpty:f.isEmpty,isFunction:f.isFunction,isInteger:f.isInteger,isNumeric:f.isNumeric,isString:f.isString,isObject:f.isObject,isTopFrame:a.isTopFrame,isXhrSupported:d.isXhrSupported,readCookie:a.readCookie,ajax:v,getConsent:g,getIdentityResultFrom:m,getPublisherSonarData:b},onRetrieve:i.on.bind(null,"ip_module_retrieve_"+E),onResult:i.on.bind(null,"ip_module_result_"+E),registerMatch:p.bind(null,"match"),registerPass:p.bind(null,"pass"),registerError:p.bind(null,"error"),registerEbTargeting:y,configs:t},e.main(_),{getStatsId:function(){return A},getResults:function(){return w},getTargets:function(){if(O)return O;if(w&&f.isArray(w.uids)&&w.uids.length&&w.uids[0].id){var e={};return e[S.targetingKeys.exchangeBidding]=w.uids[0].id,e}return null},retrieve:function(){return function(){var e=s.getEntry(x);return c.resolve().then((function(){if(!e)return null;var t=R[e.data.response];return t?c.all(t.map((function(t){return t.call(null,e)}))):null})).then((function(t){return!t||t.indexOf(!0)>-1?null:(i.emit("hs_identity_cached",{statsId:A}),r(e.data.response,e.data.data),e.data)}))}().then((function(e){return e?null:c.resolve().then((function(){return c.all(D.map((function(e){return e.call()})))})).then((function(){return new c((function(e){i.emit("hs_identity_request",{statsId:A}),P=!1,C=e,i.emit("ip_module_retrieve_"+E)}))}))}))}}}},{}],19:[function(e,t,r){function n(){if(o.msie)i.registerError("Encrypted pid not supported in Internet Explorer");else{var e={},t=function(){try{return localStorage.getItem(s)}catch(e){return null}}();t&&(e.duid=t);var r=function(){var e=i.Utilities.getIdentityResultFrom("AdserverOrgIp");if(e){if(e.TDID)return e.TDID;if(e.uids){var t=e.uids.find((function(e){return e.id&&e.ext&&"TDID"===e.ext.rtiPartner}));if(t)return t.id}}return null}();r&&(e[a]=r),i.Utilities.ajax({url:i.Utilities.getProtocol()+d,method:"GET",data:e,onSuccess:function(e){try{var t=JSON.parse(e);t&&t.unifiedId?t.unifiedId.id&&t.unifiedId.keyID?i.registerMatch({source:c.source,uids:[{id:t.unifiedId.id,ext:{keyID:t.unifiedId.keyID,rtiPartner:"LDID",enc:1}}]}):i.registerError("response missing id and/or keyID"):i.registerError("response missing unifiedId object")}catch(e){i.registerError("response is not valid JSON")}},onFailure:function(e){204===e?i.registerPass():i.registerError("API returned error response "+e)}})}}var i,o=e(11),a="44489",s="_li_duid",d="//idx.liadm.com/idex/ie/any",c={partnerId:"LiveIntentIp",statsId:"LVINT",version:"1.1.1",source:"liveintent.com",cacheExpiry:{match:2592e5,pass:864e5,error:864e5},targetingKeys:{exchangeBidding:"ixpid_5"}};t.exports={type:"identity",api:"1",main:function(e){(i=e).onRetrieve(n)},profile:c}},{}],20:[function(e,t,r){function n(){var e={pid:a,rt:"envelope"},t=i.Utilities.getConsent("gdpr");t&&t.consentString&&t.version&&(e[u.consent.gdpr]=t.consentString,1==t.version?e[c]=1:2==t.version&&(e[c]=4));var r=[],n=u.sonar.entrypoints[0].key,l=i.Utilities.getPublisherSonarData();l&&l.hasOwnProperty(n)&&(e[n]=l[n].data,e[s]=d,r.push(l[n].meta)),i.Utilities.ajax({url:i.Utilities.getProtocol()+o,method:"GET",data:e,onSuccess:function(e){try{var t,n=JSON.parse(e);if(!i.Utilities.isObject(n))return void i.registerError("invalid response");if(i.Utilities.isEmpty(n))return void i.registerPass();if(!n.hasOwnProperty("envelope"))return void i.registerError("invalid envelope object");if(i.Utilities.isEmpty(n.envelope))return void i.registerPass();t={source:u.source,uids:[{id:n.envelope,ext:{rtiPartner:"idl"}}]},r.length&&(t.ext={sonar:r}),i.registerMatch(t)}catch(e){i.registerError("response is not valid JSON")}},onFailure:function(e){204===e?i.registerPass():i.registerError("API returned error response "+e)}})}var i,o="//api.rlcdn.com/api/identity",a=2,s="it",d=4,c="ct",u={partnerId:"LiveRampIp",statsId:"LVRAMP",version:"1.3.0",source:"liveramp.com",cacheExpiry:{match:864e5,pass:864e5,error:864e5},consent:{gdpr:"cv"},targetingKeys:{exchangeBidding:"ixpid_3"},sonar:{enabled:!0,entrypoints:[{key:"iv",filter:{attr:1,algo:1}}]}};t.exports={type:"identity",api:"1",main:function(e){i=e,window.ats&&window.ats.retrieveEnvelope((function(e){if(e)try{var t=JSON.parse(e).envelope;i.registerMatch({source:u.source,uids:[{id:t,ext:{rtiPartner:"idl"}}]})}catch(e){}})),i.onRetrieve(n)},profile:u}},{}],21:[function(e,t,r){function n(e,t){var r=[],n=o.Utilities.getPublisherSonarData();if(!o.configs.enable4CiteTag)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i].data,r.push(n[i].meta));o.Utilities.ajax({url:o.Utilities.getProtocol()+t,method:"GET",data:e,onSuccess:function(e){try{var t,n=JSON.parse(e);if(!o.Utilities.isObject(n))return void o.registerError("invalid response");n.c&&n.c.value&&localStorage.setItem("_svsid",n.c.value);var i=[];if(n.ppid){if(!n.ppid.id)return void o.registerError("invalid ppid object");i.push({id:n.ppid.id,ext:{enc:0}})}if(n.pam_id&&!a.msie){if(!n.pam_id.id||!n.pam_id.keyID)return void o.registerError("invalid pam_id object");i.push({id:n.pam_id.id,ext:{keyID:n.pam_id.keyID,enc:1}})}i.length?(t={source:u.source,uids:i},r.length>0&&(t.ext={sonar:r}),o.registerMatch(t)):o.registerPass()}catch(e){o.registerError("response is not valid JSON")}},onFailure:function(e){o.registerError("API returned error response "+e)}})}function i(){var e="",t={};o.configs.enable4CiteTag?(localStorage.getItem("__svsid")&&localStorage.removeItem("__svsid"),e=localStorage.getItem("_svsid")?localStorage.getItem("_svsid"):null,t.vendor="idsv2",t.sv_cid="5274_04512",t.sv_pubid=o.configs.pubid,t.sv_domain=document.location.hostname,e&&(t.sv_session=e),n(t,d)):(t.ptk=c,t.pubid=o.configs.pubid,n(t,s))}var o,a=e(11),s="//mid.rkdms.com/idsv2",d="//id.sv.rkdms.com/identity/",c="17c1789b-e660-493b-aa74-3c8fb990dc5f",u={partnerId:"MerkleIp",statsId:"MRKL",version:"1.4.2",source:"merkleinc.com",cacheExpiry:{match:6048e5,pass:864e5,error:864e5},targetingKeys:{exchangeBidding:"ixpid_4"},sonar:{enabled:!0,entrypoints:[{key:"qs1",filter:{attr:1,algo:2}}]}};t.exports={type:"identity",api:"1",main:function(e){(o=e).onRetrieve(i)},profile:u}},{}],22:[function(e,t,r){var n=e(13);e(15),t.exports=function(){function e(e,r,i){t.hasOwnProperty(e)||(t[e]=[]);var o=n.generateUniqueId();return t[e].push({id:o,fn:i,once:r}),o}var t;return t={},{on:function(t,r){return e(t,!1,r)},once:function(t,r){return e(t,!0,r)},off:function(e){for(var r in t)if(t.hasOwnProperty(r))for(var n=t[r].length-1;n>=0;n--)if(t[r][n].id===e)return void t[r].splice(n,1)},emit:function(){var e=Array.prototype.slice.call(arguments),r=e.shift();if(r&&t.hasOwnProperty(r))for(var n=t[r].length-1;n>=0;n--){try{t[r][n].fn.apply(null,e)}catch(e){}t[r][n].once&&t[r].splice(n,1)}}}}},{}],23:[function(e,t,r){var n=e(10);t.exports=function(){return{gdpr:{getConsent:function(){return{applies:!0,consentString:""}},setApplies:function(){}},usp:{getConsent:function(){return{version:1,uspString:""}}},isPrivacyEnabled:function(){return!1},delay:function(e){return e},wait:function(){return n.resolve()}}}},{}],24:[function(e,t,r){e(13),t.exports=function(){return{}}},{}],25:[function(e,t,r){t.exports=function(){return{getSonarPayload:function(){return{}},getLastUpdated:function(){return 0},setSonarEmail:function(){return{}}}}},{}],26:[function(e,t,r){var n=e(7),i=e(13);e(15),t.exports=function(){function e(e){return function(){t[e].state=r.TERMINATED;for(var n=0;n<t[e].cbs.length;n++)try{t[e].cbs[n]()}catch(e){}delete t[e].cbs,delete t[e].timer}}var t,r={NEW:0,RUNNABLE:1,TERMINATED:2};return t={},{TimerStates:r,createTimer:function(o,a,s){var d=i.generateUniqueId(n.SESSION_ID_LENGTH);return a=!!a,s=s?[s]:[],t[d]={state:r.NEW,cbs:s,timeout:o},a&&(t[d].state=r.RUNNABLE,t[d].timer=setTimeout(e(d),o)),d},startTimer:function(n){t.hasOwnProperty(n)&&t[n].state===r.NEW&&(t[n].state=r.RUNNABLE,t[n].timer=setTimeout(e(n),t[n].timeout))},addTimerCallback:function(e,n){t.hasOwnProperty(e)&&t[e].state!==r.TERMINATED&&t[e].cbs.unshift(n)},getTimerState:function(e){return t.hasOwnProperty(e)?t[e].state:null},clearTimer:function(e){t.hasOwnProperty(e)&&t[e].state!==r.TERMINATED&&(t[e].state=r.TERMINATED,clearTimeout(t[e].timer),delete t[e].cbs,delete t[e].timer)}}}},{}],27:[function(e,t,r){var n,i,o=(e(3),e(6)),a=e(16),s=e(28),d=e(14);window[s.NAMESPACE]=window[s.NAMESPACE]||{},window[s.NAMESPACE].cmd=window[s.NAMESPACE].cmd||[];var c=window[s.NAMESPACE].cmd;window[s.NAMESPACE]=function(){function e(e,t,r){var n="";try{if(!d.isBoolean(t))return i.emit("error","`once` must be a boolean"),n;if(!d.isFunction(r))return i.emit("error","`callback` must be a function"),n;if(!d.isString(e))return i.emit("error","`eventName` must be a string"),n;if(!c.hasOwnProperty(e))return i.emit("error","Unrecognized event "+e),n;if("rti_partner_request_complete"===e&&!0===o.emitted)return r(e,o.args),n;var a=function(){var t=Array.prototype.slice.call(arguments);r(e,JSON.stringify(t))};n=t?i.once(e,a):i.on(e,a)}catch(e){i.emit("error",e)}return n}var t,r,o={emitted:!1,args:{}},c={error:1,warning:2,rti_partner_request_complete:3};if(function(){try{t=a({DeviceTypeChecker:{method:"USER_AGENT",configs:{}},Services:{EventsService:{},TimerService:{}},Layers:[{layerId:"IdentityLayer",configs:{partners:{AdserverOrgIp:{enabled:!0,configs:{publisherId:183728}},MerkleIp:{enabled:!0,configs:{pubid:"CBSI",enable4CiteTag:1}},LiveRampIp:{enabled:!0,configs:{}},LiveIntentIp:{enabled:!0,configs:{}}}}}]}).getDirectInterface(),n=s.services.ComplianceService,i=s.services.EventsService;var d=Math.random().toString(36).slice(-5);i.emit("hs_session_start",{sessionId:d}),e("rti_partner_request_complete",!0,(function(e,t){o={emitted:!0,args:t},i.emit("hs_session_end",{sessionId:d})})),n.wait().then((function(){t.Layers.IdentityLayer.retrieve()})).catch((function(e){}))}catch(e){r={subscribeEvent:function(){return""},unsubscribeEvent:function(){}}}}(),r)return r;var u={};if(window[s.NAMESPACE])for(var l in window[s.NAMESPACE])window[s.NAMESPACE].hasOwnProperty(l)&&(u[l]=window[s.NAMESPACE][l]);return u.subscribeEvent=e,u.unsubscribeEvent=function(e){try{if(!d.isString(e))return void i.emit("error","`subscriptionId` must be a string");i.off(e)}catch(e){i.emit("error",e)}},u.getIdentityInfo=function(){return t.Layers.IdentityLayer.getAllPartnerResults()},u.setSonarEmail=function(e){var r;return(r=s.services.PublisherSonarService.setSonarEmail(e)).status&&t.Layers.IdentityLayer.invokeAllPartners(),r},u}(),window[s.NAMESPACE].cmd=o(c)},{}],28:[function(e,t,r){t.exports={NAMESPACE:"headertag",PRODUCT:"IdentityLibrary",services:{},DeviceTypeChecker:{},initQueue:[],globalTimeout:null,instanceId:null,version:"2.37.0"}},{}]},{},[27])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.criteoIdSubmodule=t.storage=void 0;var n=r(8),i=r(0),o=r(72),a=r(129),s=r(24),d=r(34),c=r(47),u=r(29),l="criteo",f=(0,d.getStorageManager)({moduleType:c.MODULE_TYPE_UID,moduleName:l});t.storage=f;var p="cto_bidid",g="cto_bundle",m=new Date(0).toString(),v=new Date((0,i.timestamp)()+33696e6).toString();function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,i.parseUrl)(e,{noDecodeWholeURL:!0});return t?"".concat(r.hostname):"".concat(r.protocol,"://").concat(r.hostname).concat(r.port?":"+r.port:"","/")}function y(e){return f.getCookie(e)||f.getDataFromLocalStorage(e)}function h(e,t,r){e&&t&&(f.setDataInLocalStorage(e,t),I(e,t,v,r,!0))}function I(e,t,r,n,i){for(var o=n.split("."),a=0;a<o.length;++a){var s=o.slice(o.length-a-1,o.length).join(".");try{if(f.setCookie(e,t,r,null,"."+s),i){var d=f.getCookie(e);if(d&&d===t)break}}catch(e){}}}function S(e,t){var r=f.cookiesAreEnabled(),n=f.localStorageIsEnabled(),s=b((0,a.getRefererInfo)().page),d=b(document.location.href,!0),c="undefined"!=typeof criteo_pubtag,l=function(e,t,r,n,i,o,a){var s="https://gum.criteo.com/sid/json?origin=prebid"+"".concat(e?"&topUrl="+encodeURIComponent(e):"")+"".concat(t?"&domain="+encodeURIComponent(t):"")+"".concat(r?"&bundle="+encodeURIComponent(r):"")+"".concat(n?"&info="+encodeURIComponent(n):"")+"".concat(i?"&cw=1":"")+"".concat(a?"&pbt=1":"")+"".concat(o?"&lsw=1":""),d=u.uspDataHandler.getConsentData();d&&(s+="&us_privacy=".concat(encodeURIComponent(d)));var c=u.gdprDataHandler.getConsentData();c&&(s+="".concat(c.consentString?"&gdprString="+encodeURIComponent(c.consentString):""),s+="&gdpr=".concat(!0===c.gdprApplies?1:0));var l=u.gppDataHandler.getConsentData();return l&&(s+="".concat(l.gppString?"&gpp="+encodeURIComponent(l.gppString):""),s+="".concat(l.applicableSections?"&gpp_sid="+encodeURIComponent(l.applicableSections):"")),s}(s,d,e.bundle,e.dnaBundle,r,n,c),v={success:function(e){var r=JSON.parse(e);(r.pixels&&r.pixels.forEach((function(e){return function(e,t){t.writeBundleInStorage&&t.bundlePropertyName&&t.storageKeyName?(0,o.ajax)(t.pixelUrl,{success:function(r){if(r){var n=JSON.parse(r);n&&n[t.bundlePropertyName]&&h(t.storageKeyName,n[t.bundlePropertyName],e)}},error:function(e){(0,i.logError)("criteoIdSystem: unable to sync user id",e)}},void 0,{method:"GET",withCredentials:!0}):(0,i.triggerPixel)(t.pixelUrl)}(d,e)})),r.acwsUrl)?("string"==typeof r.acwsUrl?[r.acwsUrl]:r.acwsUrl).forEach((function(e){return(0,i.triggerPixel)(e)})):r.bundle&&h(g,r.bundle,d);if(r.bidId){h(p,r.bidId,d);var n={criteoId:r.bidId};t(n)}else!function(e,t){I(e,"",m,t,!0),f.removeDataFromLocalStorage(e)}(p,d),t()},error:function(e){(0,i.logError)("criteoIdSystem: unable to sync user id",e),t()}};(0,o.ajax)(l,v,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}var E={name:l,gvlid:91,decode:function(e){return e},getId:function(){var e={bundle:y(g),dnaBundle:y("cto_dna_bundle"),bidId:y(p)};return{id:e.bidId?{criteoId:e.bidId}:void 0,callback:function(t){return S(e,t)}}},eids:{criteoId:{source:"criteo.com",atype:1}}};t.criteoIdSubmodule=E,(0,s.submodule)("userId",E),(0,n.registerModule)("criteoIdSystem")},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvelopeFromStorage=m,t.identityLinkSubmodule=t.storage=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(0)),i=r(72),o=r(24),a=r(34),s=r(47);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}const c="identityLink",u=(0,a.getStorageManager)({moduleType:s.MODULE_TYPE_UID,moduleName:c});t.storage=u;const l="_lr_env",f={name:c,gvlid:97,decode:e=>({idl_env:e}),getId(e,t){const r=e&&e.params||{};if(!r||"string"!=typeof r.pid)return void n.logError("identityLink: requires partner id to be defined");const i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,o=i?t.consentString:"",a=2===n.deepAccess(t,"vendorData.tcfPolicyVersion");if(i&&(!o||""===o))return void n.logInfo("identityLink: Consent string is required to call envelope API.");const s="https://api.rlcdn.com/api/identity/envelope?pid=".concat(r.pid).concat(r.eid?"&it=4&iv=".concat(r.eid):"").concat(i?(a?"&ct=4&cv=":"&ct=1&cv=")+o:"");let d;return d=function(e){if(window.ats)n.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(n.logInfo("identityLink: An envelope can be retrieved from ATS!"),g(!0),e(JSON.parse(t).envelope)):p(s,e,r)}));else{let t=m();t?(n.logInfo("identityLink: LiveRamp envelope successfully retrieved from storage!"),e(JSON.parse(t).envelope)):p(s,e,r)}},{callback:d}},eids:{idl_env:{source:"liveramp.com",atype:3}}};function p(e,t,r){const o={success:e=>{let r;if(e)try{r=JSON.parse(e)}catch(e){n.logInfo(e)}t(r&&r.envelope?r.envelope:"")},error:e=>{n.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};r.notUse3P||u.getCookie("_lr_retry_request")||(!function(){let e=new Date;e.setTime(e.getTime()+36e5),u.setCookie("_lr_retry_request","true",e.toUTCString())}(),n.logInfo("identityLink: A 3P retrieval is attempted!"),g(!1),(0,i.ajax)(e,o,void 0,{method:"GET",withCredentials:!0}))}function g(e){let t=new Date;t.setTime(t.getTime()+2592e6),u.setCookie("_lr_env_src_ats",e,t.toUTCString())}function m(){let e=u.getCookie(l)||u.getDataFromLocalStorage(l);return e?window.atob(e):void 0}t.identityLinkSubmodule=f,(0,o.submodule)("userId",f)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uid2IdSubmodule=t.storage=void 0;var n=r(8),i=r(0),o=r(24),a=r(34),s=r(47),d=r(484),c=r(485),u="uid2",l=d.Uid2CodeVersion,f="PrebidJS-".concat("8.20.0","-UID2Module-").concat(l),p="UID2: ";function g(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(void 0,[t+" "].concat(n))}}var m=g(i.logInfo,p),v=g(i.logWarn,p),b=(0,a.getStorageManager)({moduleType:s.MODULE_TYPE_UID,moduleName:u});t.storage=b;var y={name:u,decode:function(e){var t=function(e){if("string"==typeof e){return m("Found server-only token. Refresh is unavailable for this token."),{uid2:{id:e}}}if(Date.now()<e.latestToken.identity_expires)return{uid2:{id:e.latestToken.advertising_token}};return null}(e);return m("UID2 decode returned",t),t},getId:function(e,t){var r,n,i,o,a,s,c,u;if(!0!==(null==t?void 0:t.gdprApplies)){var l={apiBaseUrl:null!==(r=null==e||null===(n=e.params)||void 0===n?void 0:n.uid2ApiBase)&&void 0!==r?r:"https://prod.uidapi.com",paramToken:null==e||null===(i=e.params)||void 0===i?void 0:i.uid2Token,serverCookieName:null!==(o=null==e||null===(a=e.params)||void 0===a?void 0:a.uid2Cookie)&&void 0!==o?o:null==e||null===(s=e.params)||void 0===s?void 0:s.uid2ServerCookie,storage:null!==(c=null==e||null===(u=e.params)||void 0===u?void 0:u.storage)&&void 0!==c?c:"localStorage",clientId:f,internalStorage:"__uid2_advertising_token"};m("UID2 configuration loaded and mapped.",l);var p=(0,d.Uid2GetId)(l,b,m,v);return m("UID2 getId returned",p),p}v("UID2 is not intended for use where GDPR applies. The UID2 module will not run.")},eids:c.UID2_EIDS};t.uid2IdSubmodule=y,(0,o.submodule)("userId",y),(0,n.registerModule)("uid2IdSystem")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uid2GetId=function(e,t,r,n){var i,o,a,s=null,d="cookie"!==e.storage,c=new u(t,d,e.internalStorage,r);r("Module is using ".concat(d?"local storage":"cookies"," for internal storage.")),e.paramToken?(s=e.paramToken,r("Read token from params",s)):e.serverCookieName&&(s=c.readProvidedCookie(e.serverCookieName),r("Read token from server-supplied cookie",s));var f,p=c.getStoredValueWithFallback();if(r("Loaded module-stored tokens:",p),p&&"string"==typeof p){if(!s)return r("Returning legacy cookie value."),{id:p};r("Discarding superseded legacy cookie."),p=null}if(s&&p&&(null===(f=p.originalToken)||void 0===f?void 0:f.advertising_token)!==s.advertising_token){var g;r("Server supplied new token - ignoring stored value.",null===(g=p.originalToken)||void 0===g?void 0:g.advertising_token,s.advertising_token),p=null}var m=!(null!==(i=p)&&void 0!==i&&i.latestToken)||s&&s.identity_expires>p.latestToken.identity_expires,v=m?s:p.latestToken;if(r("UID2 module selected latest token",m,v),!v||Date.now()>v.refresh_expires)return r("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>v.identity_expires){var b=l(e.apiBaseUrl,v,e.clientId,c,r,n);return r("Token is expired but can be refreshed, attempting refresh."),{callback:function(e){b.then((function(t){r("Refresh reponded, passing the updated token on.",t),e(t)}))}}}Date.now()>v.refresh_from&&(r("Refreshing token in background with low priority."),l(e.apiBaseUrl,v,e.clientId,c,r,n));var y={originalToken:null!==(o=s)&&void 0!==o?o:null===(a=p)||void 0===a?void 0:a.originalToken,latestToken:v};return c.storeValue(y),{id:y}},t.Uid2StorageManager=t.Uid2ApiClient=t.Uid2CodeVersion=void 0,r(165),r(166),r(167),r(168),r(169),r(170),r(9);var n=d(r(23)),i=d(r(100)),o=d(r(101)),a=d(r(18)),s=r(8);function d(e){return e&&e.__esModule?e:{default:e}}t.Uid2CodeVersion="1.1";var c=function(){function e(t,r,n,o){(0,i.default)(this,e),this._baseUrl=t.baseUrl,this._clientVersion=r,this._logInfo=n,this._logWarn=o}return(0,o.default)(e,[{key:"createArrayBuffer",value:function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}},{key:"hasStatusResponse",value:function(e){return"object"===(0,a.default)(e)&&e&&e.status}},{key:"isValidRefreshResponse",value:function(e){return this.hasStatusResponse(e)&&("optout"===e.status||"expired_token"===e.status||"success"===e.status&&e.body&&(t=e.body,!!("object"===(0,a.default)(t)&&null!==t&&t.advertising_token&&t.identity_expires&&t.refresh_from&&t.refresh_token&&t.refresh_expires)));var t}},{key:"ResponseToRefreshResult",value:function(e){return this.isValidRefreshResponse(e)?"success"===e.status?{status:e.status,identity:e.body}:e:"Response didn't contain a valid status"}},{key:"callRefreshApi",value:function(e){var t,r,i=this,o=this._baseUrl+"/v2/token/refresh",a=new XMLHttpRequest;a.overrideMimeType("text/plain"),a.open("POST",o,!0),a.setRequestHeader("X-UID2-Client-Version",this._clientVersion);var s=new Promise((function(e,n){t=e,r=n}));return a.onreadystatechange=function(){if(a.readyState===a.DONE)try{if(e.refresh_response_key&&200===a.status){i._logInfo("Decrypting refresh API response");var o=i.createArrayBuffer(atob(a.responseText));window.crypto.subtle.importKey("raw",i.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then((function(e){i._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:o.slice(0,12),tagLength:128},e,o.slice(12)).then((function(e){var o=String.fromCharCode.apply(String,(0,n.default)(new Uint8Array(e)));i._logInfo("Decrypted to:",o);var a=JSON.parse(o),s=i.ResponseToRefreshResult(a);"string"==typeof s?r(s):t(s)}),(function(e){return i._logWarn("Call to UID2 API failed",e)}))}),(function(e){return i._logWarn("Call to UID2 API failed",e)}))}else{i._logInfo("Error status OR no response decryption key available, assuming unencrypted JSON");var s=JSON.parse(a.responseText),d=i.ResponseToRefreshResult(s);"string"==typeof d?r(d):t(d)}}catch(e){r(e)}},this._logInfo("Sending refresh request",e),a.send(e.refresh_token),s}}]),e}();t.Uid2ApiClient=c;var u=function(){function e(t,r,n,o){(0,i.default)(this,e),this._storage=t,this._preferLocalStorage=r,this._storageName=n,this._logInfo=o}return(0,o.default)(e,[{key:"readCookie",value:function(e){return this._storage.cookiesAreEnabled()?this._storage.getCookie(e):null}},{key:"readLocalStorage",value:function(e){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(e):null}},{key:"readModuleCookie",value:function(){return this.parseIfContainsBraces(this.readCookie(this._storageName))}},{key:"writeModuleCookie",value:function(e){this._storage.setCookie(this._storageName,JSON.stringify(e),Date.now()+864e5)}},{key:"readModuleStorage",value:function(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))}},{key:"writeModuleStorage",value:function(e){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(e))}},{key:"readProvidedCookie",value:function(e){return JSON.parse(this.readCookie(e))}},{key:"parseIfContainsBraces",value:function(e){return null!=e&&e.includes("{")?JSON.parse(e):e}},{key:"storeValue",value:function(e){this._preferLocalStorage?this.writeModuleStorage(e):this.writeModuleCookie(e)}},{key:"getStoredValueWithFallback",value:function(){var e=this._preferLocalStorage?"local storage":"cookie",t=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),r=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),n=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),i=t();if(i){if("string"==typeof i){var o=n();if(o&&"object"===(0,a.default)(o))return this._logInfo("".concat(e," contained a basic token, but found a refreshable token fallback. Copying the fallback value to ").concat(e,".")),r(o),o}}else{var s=n();if(s)return this._logInfo("".concat(e," was empty, but found a fallback value.")),"object"===(0,a.default)(s)&&(this._logInfo("Copying the fallback value to ".concat(e,".")),r(s)),s}return i}}]),e}();function l(e,t,r,n,i,o){return i("UID2 base url provided: ",e),new c({baseUrl:e},r,i,o).callRefreshApi(t).then((function(e){i("Refresh endpoint responded with:",e);var r={originalToken:t,latestToken:e.identity};return n.storeValue(r),r}))}t.Uid2StorageManager=u,(0,s.registerModule)("uid2IdSystem_shared")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UID2_EIDS=void 0;t.UID2_EIDS={uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(17),r(9);var n=p(r(11)),i=p(r(18)),o=p(r(6)),a=r(8),s=r(25),d=r(0),c=r(4),u=r(34),l=r(15),f=r(36);function p(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b="gumgum",y=(0,u.getStorageManager)({bidderCode:b}),h={t:0,rq:8,pbv:"8.20.0"},I=[s.BANNER,s.VIDEO],S=["dac.co.jp","audigent.com","id5-sync.com","liveramp.com","intentiq.com","liveintent.com","crwdcntrl.net","quantcast.com","adserver.org","yahoo.com"],E={},A=null;function _(t){var r,n,i,o,a,s,c,u,l,f,p=function(e){return new RegExp("[?#&](".concat(e,"=(.*?))($|&)"),"i")},g={};try{n=(r=e.top).screen,i=t||""}catch(e){return(0,d.logError)(e),g}return g={vw:r.innerWidth,vh:r.innerHeight,sw:n.width,sh:n.height,pu:(u=i,["ggad","ggdeal"].reduce((function(e,t){var r=u.match(p(t));return r?(r[1]&&(e=e.replace(r[1],"")),r[3]&&(e=e.replace(r[3],"")),e):e}),u)),ce:y.cookiesAreEnabled(),dpr:r.devicePixelRatio||1,jcsi:JSON.stringify(h),ogu:(c=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"),c?c.content:null)},l=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),(s=(f=l&&(l.downlink||l.bandwidth))?Math.round(1024*f):null)&&(g.ns=s),(o=(i.match(p("ggad"))||[0,0,0])[2])&&(g[isNaN(o)?"eAdBuyId":"adBuyId"]=o),(a=(i.match(p("ggdeal"))||[0,0,0])[2])&&(g.ggdeal=a),g}function w(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function O(e){var t=0,r=0,n=0;return e.forEach((function(e){var i=(0,o.default)(e,2),a=i[0],s=i[1],d=a>s?a:s;(d>n||d===n&&a>=t&&s>=r)&&(n=d,t=a,r=s)})),[t,r]}var T={code:b,gvlid:61,aliases:["gg"],isBidRequestValid:function(e){var t=e.params,r=e.adUnitCode,n=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(E[n])return(0,d.logWarn)("[GumGum] Please check the implementation for ".concat(n," for the placement ").concat(r)),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return(0,d.logWarn)("[GumGum] No product selected for the placement ".concat(r,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor)))||((0,d.logWarn)("[GumGum] bidfloor must be a Number"),!1)},buildRequests:function(e,t){var r=[],n=t&&t.gdprConsent,a=t&&t.uspConsent,s=t&&t.gppConsent,u=t&&t.timeout,l=!0===c.config.getConfig("coppa")?1:0,f=t&&t.refererInfo&&t.refererInfo.page;return(0,d._each)(e,(function(e){var c,p,m,b,y,h=e.bidId,I=e.mediaTypes,E=void 0===I?{}:I,w=e.params,T=void 0===w?{}:w,C=e.schain,x=e.userId,P=void 0===x?{}:x,R=e.ortb2Imp,D=e.adUnitCode,k=void 0===D?"":D,j=function(e,t,r){var n=Object.keys(e)[0]||"banner",i={floor:0,currency:"USD"};if("function"==typeof r.getFloor){var o=r.getFloor({mediaType:n,size:"*"}),a=o.currency,s=o.floor;s&&(i.floor=s),a&&(i.currency=a),t&&s&&"USD"===a&&(i.floor=Math.max(t,parseFloat(s)))}else t&&(i.floor=t);return i}(E,T.bidfloor,e),N=j.currency,M=j.floor,B=function(e){var t=["uid","eid","lipbid","envelope"];return Object.keys(e).reduce((function(r,n){var o=e[n];switch((0,i.default)(o)){case"string":r[n]=o;break;case"object":var a=t.filter((function(e){return o.hasOwnProperty(e)}));a.length&&(r[n]=o[a[0]])}return r}),{})}(P),U=(0,d.deepAccess)(R,"ext.data.pbadslot")||(0,d.deepAccess)(R,"ext.data.adserver.adslot"),L=[1,1],V={},z=new Date,q=z.getTime(),F=z.getTimezoneOffset();if(V.lt=q,V.to=F,P&&P.pubProvidedId){var G=function(e,t){var r=JSON.stringify(e);if(r.length<=t)return r;var n=e.slice(0,Math.floor(e.length*(t/r.length)));return JSON.stringify(n)}(P.pubProvidedId.filter((function(e){return S.includes(e.source)})),1800);V.pubProvidedId=G}for(var W in P&&P.id5id&&P.id5id.uid&&P.id5id.ext&&(V.id5Id=P.id5id.uid||null,V.id5IdLinkType=P.id5id.ext.linkType||null),k&&(V.aun=k),B)V[W]=B[W];if(U&&(V.gpid=U),E.banner?L=E.banner.sizes:E.video&&(L=E.video.playerSize,V=function(e){var t=e.minduration,r=e.maxduration,n=e.linearity,i=e.startdelay,a=e.placement,s=e.protocols,c=void 0===s?[]:s,u=e.playerSize,l=void 0===u?[]:u,f=(0,d.parseSizesInput)(l),p=f[0]&&f[0].split("x"),g=(0,o.default)(p,2),m=g[0],v=g[1],b="";return c.length&&(b=c.join(",")),{mind:t,maxd:r,li:n,sd:i,pt:a,pr:b,viw:m,vih:v}}(E.video)),A&&(V.pv=A),M&&(V.fp=M,V.fpc=N),T.iriscat&&"string"==typeof T.iriscat&&(V.iriscat=T.iriscat),T.irisid&&"string"==typeof T.irisid&&(V.irisid=T.irisid),T.zone||T.pubId)if(T.zone?V.t=T.zone:V.pubId=T.pubId,V.pi=2,T.slot){var H=O(L),Y=(0,o.default)(H,2),X=Y[0],J=Y[1];V.maxw=X,V.maxh=J,V.si=T.slot,V.pi=3,V.bf=L.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}else T.native?(V.ni=T.native,V.pi=5):E.video?V.pi=2===E.video.linearity?6:7:T.product&&"skins"===T.product.toLowerCase()&&(V.pi=8);else V=v(v({},V),function(e,t){var r={};e.inScreenPubID&&(r.pubId=e.inScreenPubID,r.pi=2);e.inScreen&&(r.t=e.inScreen,r.pi=2);if(e.inSlot){var n=O(t),i=(0,o.default)(n,2),a=i[0],s=i[1];r.maxw=a,r.maxh=s,r.si=e.inSlot,r.pi=3,r.bf=t.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}e.ICV&&(r.ni=e.ICV,r.pi=5);e.videoPubID&&(r.pubId=e.videoPubID,r.pi=7);e.video&&(r.t=e.video,r.pi=7);e.inVideo&&(r.t=e.inVideo,r.pi=6);return r}(T,L));n&&(V.gdprApplies=n.gdprApplies?1:0),V.gdprApplies&&(V.gdprConsent=n.consentString),a&&(V.uspConsent=a),s?(V.gppString=t.gppConsent.gppString?t.gppConsent.gppString:"",V.gppSid=Array.isArray(t.gppConsent.applicableSections)?t.gppConsent.applicableSections.join(","):""):!s&&null!=t&&null!==(c=t.ortb2)&&void 0!==c&&null!==(p=c.regs)&&void 0!==p&&p.gpp&&(V.gppString=t.ortb2.regs.gpp,V.gppSid=Array.isArray(t.ortb2.regs.gpp_sid)?t.ortb2.regs.gpp_sid.join(","):""),l&&(V.coppa=l),C&&C.nodes&&(V.schain=(y="".concat((b=C).ver,",").concat(b.complete),b.nodes.map((function(e){y+="!".concat(encodeURIComponent(e.asi||""),","),y+="".concat(encodeURIComponent(e.sid||""),","),y+="".concat(encodeURIComponent(e.hp||""),","),y+="".concat(encodeURIComponent(e.rid||""),","),y+="".concat(encodeURIComponent(e.name||""),","),y+="".concat(encodeURIComponent(e.domain||""))})),y)),r.push({id:h,tmax:u,tId:null==R||null===(m=R.ext)||void 0===m?void 0:m.tid,pi:V.pi,selector:T.selector,sizes:L,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:g(V,_(f))})})),r},interpretResponse:function(e,t){var r=[],n=e.body;if(!n||n.err){var i=t.data||{},a=i.si||i.ni||i.t||i.pubId,c=n?n.err.drt:18e5;E[a]={productId:i.pi,timestamp:(new Date).getTime()},setTimeout((function(){E[a]&&delete E[a]}),c),(0,d.logWarn)("[GumGum] Please check the implementation for ".concat(a))}var u=g({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},n),f=u.ad,p=f.price,m=f.id,b=f.markup,y=f.cur,I=f.width,S=f.height,_=f.maxw,O=f.maxh,T=u.cw,C=u.pag.pvid,x=u.jcsi,P=u.meta,R=P.adomain,D=P.mediaType,k=t.data||{},j=k.pi,N=6===j||7===j?s.VIDEO:s.BANNER,M=3===j&&9===k.si,B={advertiserDomains:R||[],mediaType:D||N},U=(0,d.parseSizesInput)(t.sizes);if(_&&O)U=["".concat(_,"x").concat(O)];else if(5===j&&(0,l.includes)(U,"1x1"))U=["1x1"];else if(2===j&&(0,l.includes)(U,"1x1")){var L=t.sizes&&t.sizes.reduce((function(e,t){var r=(0,o.default)(t,2),n=r[0],i=r[1];return I!==n&&S!==i||e.push(t.join("x")),e}),[])||[];U=L.length?L:(0,d.parseSizesInput)(t.sizes)}var V=U[0].split("x"),z=(0,o.default)(V,2),q=z[0],F=z[1];return x&&(n.jcsi=h),A=C,m&&r.push(v(v({ad:T?w(T,g({},n,{bidRequest:t})):b},N===s.VIDEO&&{ad:b,vastXml:b}),{},{mediaType:N,cpm:M?.1:p,creativeId:m,currency:y||"USD",height:F,netRevenue:!0,requestId:t.id,ttl:60,width:q,meta:B})),r},getUserSyncs:function(e,t){return t.map((function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}}))},supportedMediaTypes:I};t.spec=T,(0,f.registerBidder)(T),(0,a.registerModule)("gumgumBidAdapter")}).call(this,r(85))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(1),r(96),r(97);var n=f(r(11)),i=f(r(6)),o=r(8),a=r(36),s=r(25),d=r(0),c=r(4),u=r(52),l=r(175);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g="8.20.0",m="USD",v=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxdt.net","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","yahoo.com","zeotap.com"];function b(e,t){var r=e.bidder||e.bidderCode;return c.config.getConfig("".concat(r,".").concat(t))}function y(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function h(e){return(0,d.isArray)(e)&&2===e.length&&!(0,d.isArray)(e[0])?[y(e)]:e.map(y)}function I(e){return(0,d.isArray)((0,d.deepAccess)(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==v.indexOf(e.source)})):[]}function S(e){return(0,d.deepAccess)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function E(e){var t;return(0,d.deepAccess)(e,"params.pubId")?t=!0:(0,d.deepAccess)(e,"params.dcn")&&(0,d.deepAccess)(e,"params.pos")&&(t=!1),t}function A(e){var t=b(e,"mode");return void 0===(t=t?t.toLowerCase():void 0)||t===s.BANNER?s.BANNER:t===s.VIDEO?s.VIDEO:"all"===t?"*":void 0}function _(e){var t=A(e),r={currency:(0,d.deepAccess)(e,"params.bidOverride.cur")||m,mediaType:t,size:"*"};return!!(0,d.isFn)(e.getFloor)&&e.getFloor(r)}function w(e,t,r,i){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i);for(var a in r)switch(e){case"string":-1!==t.indexOf(a)&&(0,d.isStr)(r[a])&&(o[a]=r[a]);break;case"number":-1!==t.indexOf(a)&&(0,d.isNumber)(r[a])&&(o[a]=r[a]);break;case"array":-1!==t.indexOf(a)&&(0,d.isArray)(r[a])&&(o[a]=r[a]);break;case"object":-1!==t.indexOf(a)&&(0,d.isPlainObject)(r[a])&&(o[a]=r[a]);break;case"objectAllKeys":(0,d.isPlainObject)(r)&&(o[a]=r[a])}return o}function O(e){var t=b(e,"ttl");return T(t||(0,d.deepAccess)(e,"params.ttl"))}function T(e){return(0,d.isNumber)(e)&&e>0&&e<3600?e:300}function C(e){return(0,d.isStr)(e)&&e.length>0}function x(e,t){if(e){var r,n,i={id:(0,d.generateUUID)(),cur:[_(e).currency||(0,d.deepAccess)(t,"params.bidOverride.cur")||m],imp:[],site:{page:(0,d.deepAccess)(e,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,d.deepAccess)(t,"params.bidOverride.device.ip")||(0,d.deepAccess)(t,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0,gpp:e.gppConsent?e.gppConsent.gppString:"",gpp_sid:e.gppConsent?e.gppConsent.applicableSections:[]}},source:{ext:{hb:1,adapterver:"1.1.0",prebidver:g,integration:{name:"prebid.js",ver:g}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:I(t)}}};!0===E(t)?(i.site.publisher={id:t.params.pubId},((0,d.deepAccess)(t,"params.bidOverride.site.id")||(0,d.deepAccess)(t,"params.siteId"))&&(i.site.id=(0,d.deepAccess)(t,"params.bidOverride.site.id")||t.params.siteId)):i.site.id=t.params.dcn,null!==(r=e.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(i.regs.ext.gpp=e.ortb2.regs.gpp,i.regs.ext.gpp_sid=e.ortb2.regs.gpp_sid),e.ortb2&&(i=function(e,t){var r=t.ortb2,n=(0,d.deepAccess)(r,"site")||void 0,i=(0,d.deepAccess)(n,"content")||void 0,o=(0,d.deepAccess)(n,"publisher")||void 0,a=(0,d.deepAccess)(n,"content.data")||void 0,s=(0,d.deepAccess)(r,"app.content")||void 0,c=(0,d.deepAccess)(r,"app.content.data")||void 0,u=(0,d.deepAccess)(r,"user")||void 0;if(n&&(0,d.isPlainObject)(n)){var l=["name","domain","page","ref","keywords","search"],f=["cat","sectioncat","pagecat"],p=["ext"];e.site=w("string",l,n,e.site),e.site=w("array",f,n,e.site),e.site=w("object",p,n,e.site)}if(o&&(0,d.isPlainObject)(o)){var g=["ext"];e.site.publisher=w("object",g,o,e.site.publisher)}if(i&&(0,d.isPlainObject)(i)){var m=["id","title","series","season","genre","contentrating","language"],v=["episode","prodq","context","livestream","len"],b=["cat"],y=["ext"];e.site.content=w("string",m,i,e.site.content),e.site.content=w("number",v,i,e.site.content),e.site.content=w("array",b,i,e.site.content),e.site.content=w("object",y,i,e.site.content),a&&(0,d.isArray)(a)&&a.every((function(t){var r={},n=["segment"],i=["ext"];r=w("string",["id","name"],t,r),r=w("array",n,t,r),r=w("object",i,t,r),e.site.content.data=[],e.site.content.data.push(r)}))}s&&(0,d.isPlainObject)(s)&&c&&(0,d.isArray)(c)&&c.every((function(t){var r={},n=["segment"],i=["ext"];r=w("string",["id","name"],t,r),r=w("array",n,t,r),r=w("object",i,t,r),e.app={content:{data:[]}},e.app.content.data.push(r)}));if(u&&(0,d.isPlainObject)(u)){var h=["id","buyeruid","gender","keywords","customdata"],I=["yob"],S=["data"],E=["ext"];e.user=w("string",h,u,e.user),e.user=w("number",I,u,e.user),e.user=w("array",S,u,e.user),e.user.ext=w("object",E,u,e.user.ext)}return e}(i,t));var o=(0,d.deepAccess)(t,"schain.nodes");return(0,d.isArray)(o)&&o.length>0&&(i.source.ext.schain=t.schain,i.source.ext.schain.nodes[0].rid=i.id),i}}function P(e,t){var r=A(e);if(t&&e){var n={id:e.bidId,secure:S(e),bidfloor:_(e).floor||(0,d.deepAccess)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==r&&r!==s.BANNER&&"*"!==r||(n.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:h(e.sizes)},e.mediaTypes.banner.pos&&(n.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(r===s.VIDEO||"*"===r)){var i=h(e.mediaTypes.video.playerSize);n.video={mimes:(0,d.deepAccess)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,d.deepAccess)(e,"params.bidOverride.imp.video.w")||i[0].w,h:(0,d.deepAccess)(e,"params.bidOverride.imp.video.h")||i[0].h,maxbitrate:(0,d.deepAccess)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:(0,d.deepAccess)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:(0,d.deepAccess)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:(0,d.deepAccess)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:(0,d.deepAccess)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:(0,d.deepAccess)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:(0,d.deepAccess)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:(0,d.deepAccess)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:(0,d.deepAccess)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:(0,d.deepAccess)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:(0,d.deepAccess)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:(0,d.deepAccess)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(n.ext={dfp_ad_unit_code:e.adUnitCode},(0,d.deepAccess)(e,"params.kvp")&&(0,d.isPlainObject)(e.params.kvp))for(var o in n.ext.kvs={},e.params.kvp)if((0,d.isStr)(e.params.kvp[o])||(0,d.isNumber)(e.params.kvp[o]))n.ext.kvs[o]=e.params.kvp[o];else if((0,d.isArray)(e.params.kvp[o])){var a=e.params.kvp[o];(a.every((function(e){return(0,d.isStr)(e)}))||a.every((function(e){return(0,d.isNumber)(e)})))&&(n.ext.kvs[o]=e.params.kvp[o])}(0,d.deepAccess)(e,"ortb2Imp.ext.data")&&(0,d.isPlainObject)(e.ortb2Imp.ext.data)&&(n.ext.data=e.ortb2Imp.ext.data),(0,d.deepAccess)(e,"ortb2Imp.instl")&&(0,d.isNumber)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(n.instl=e.ortb2Imp.instl),!1===E(e)?(n.tagid=e.params.pos,n.ext.pos=e.params.pos):(0,d.deepAccess)(e,"params.placementId")&&(n.tagid=e.params.placementId),t.imp.push(n)}}function R(e){var t=e.payload,r=e.requestOptions,n=e.bidderRequest,i=E(n),o=b(n,"endpoint"),a=o||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===i&&(a=o||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===(0,d.deepAccess)(n,"params.testing.e2etest"))if((0,d.logInfo)("Adapter e2etest mode is active"),r.withCredentials=!1,!0===i)t.site.id="1234567";else{var c=A(n);t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach((function(e){if(e.ext.e2eTestMode=!0,c===s.BANNER)e.tagid="8a969978017a7aaabab4ab0bc01a0009";else if(c===s.VIDEO)e.tagid="8a96958a017a7a57ac375d50c0c700cc";else{var t=n.bidderCode;(0,d.logWarn)("e2etest mode does not support ".concat(t,'.mode="all". \n Please specify either "banner" or "video"')),(0,d.logWarn)("Adapter e2etest mode: Please make sure your adUnit matches the ".concat(t,".mode video or banner"))}}))}return{url:a,method:"POST",data:t,options:r,bidderRequest:n}}var D={code:"yahooAds",gvlid:25,aliases:["yahoossp","yahooAdvertising"],supportedMediaTypes:[s.BANNER,s.VIDEO],isBidRequestValid:function(e){var t=e.params;return!0===(0,d.deepAccess)(t,"testing.e2etest")||(!(!(0,d.isPlainObject)(t)||!(C(t.pubId)||C(t.dcn)&&C(t.pos)))||((0,d.logWarn)("Bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1))},buildRequests:function(e,t){if(!(0,d.isEmpty)(e)&&!(0,d.isEmpty)(t)){var r={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};r.withCredentials=(0,l.hasPurpose1Consent)(t.gdprConsent);var n=function(e){var t=A(e[0]),r=[];return t===s.BANNER?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===s.BANNER}))})):t===s.VIDEO?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===s.VIDEO}))})):"*"===t&&(r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===s.BANNER||e===s.VIDEO}))}))),r}(e);if(!0===b(t,"singleRequestMode")){var i=x(t,n[0]);return n.forEach((function(e){P(e,i)})),[R({payload:i,requestOptions:r,bidderRequest:t})]}return n.map((function(e){var n=x(t,e);return P(e,n),R({payload:n,requestOptions:r,bidderRequest:e})}))}(0,d.logWarn)('buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){var r=t.bidderRequest,n=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var t;try{t=e.bid[0]}catch(e){return n}var i=t.ext&&t.ext.encp?t.ext.encp:t.price,o={adId:(0,d.deepAccess)(t,"adId")?t.adId:t.impid||t.crid,requestId:t.impid,cpm:i,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||m,dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:O(r),meta:{advertiserDomains:t.adomain}},a=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?s.BANNER:-1!==t.indexOf("VAST")?s.VIDEO:void 0}(t);a===s.BANNER?(o.mediaType=s.BANNER,o.ad=t.adm,o.meta.mediaType=s.BANNER):a===s.VIDEO&&(o.mediaType=s.VIDEO,o.meta.mediaType=s.VIDEO,o.vastXml=t.adm,t.nurl&&(o.vastUrl=t.nurl)),"outstream"!==(0,d.deepAccess)(r,"mediaTypes.video.context")||r.renderer||(o.renderer=function(e,t){var r=u.Renderer.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),(0,d.deepAccess)(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){(0,d.logWarn)("Renderer error: setRender() failed",e)}return r}(r)||void 0),n.push(o)})),n):n},getUserSyncs:function(e,t,r,n,o){var a=!(0,d.isEmpty)(t)&&t[0].body;if(a&&a.ext&&a.ext.pixels){var s=function(e,t){var r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,i=[];if(t){var o=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);o&&o.forEach((function(t){var o=t.match(r)[0],a=t.match(n)[2];if(o&&a){var s="img"===o.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===s||!e.pixelEnabled&&"image"===s)return;i.push({type:s,url:a})}}))}return i}(e,a.ext.pixels);return s.forEach((function(e){e.url=function(e,t){for(var r={gdpr_consent:t.gdpr?t.gdpr.consentString:"",gdpr:t.gdpr&&t.gdpr.gdprApplies?"1":"0",us_privacy:t.uspConsent?t.uspConsent:"",gpp:t.gpp?t.gpp.gppString:"",gpp_sid:t.gpp&&Array.isArray(t.gpp.applicableSections)?t.gpp.applicableSections.join(","):""},n=new URL(e),o=n.searchParams,a=0,s=Object.entries(r);a<s.length;a++){var d=(0,i.default)(s[a],2),c=d[0],u=d[1];o.set(c,u)}return n.search=o.toString(),n.toString()}(e.url,{gpp:o,gdpr:r,uspConsent:n})})),s}return[]}};t.spec=D,(0,a.registerBidder)(D),(0,o.registerModule)("yahoosspBidAdapter")},function(e,t,r){"use strict";r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(17);var n=E(r(18)),i=E(r(23)),o=r(8),a=r(0),s=r(52),d=r(4),c=r(36),u=r(25),l=r(15),f=r(103),p=r(34),g=r(58),m=r(175),v=r(83),b=r(489),y=r(490),h=r(491),I=r(104),S=r(492);function E(e){return e&&e.__esModule?e:{default:e}}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}var _="appnexus",w="https://ib.adnxs.com/ut/v3/prebid",O="https://ib.adnxs-simple.com/ut/v3/prebid",T=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],C=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],x=["age","externalUid","external_uid","segments","gender","dnt","language"],P=["geo","device_id"],R=["enabled","dongle","member_id","debug_timeout"],D={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},k={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},j={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},N="<script",M=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,B="trk.js",U=(0,p.getStorageManager)({bidderCode:_}),L={code:_,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[u.BANNER,u.VIDEO,u.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var r,n,o=(e=(0,v.convertOrtbRequestToProprietaryNative)(e)).map(V),s=(0,l.find)(e,q),c={};!0===d.config.getConfig("coppa")&&(c={coppa:!0}),s&&Object.keys(s.params.user).filter((function(e){return(0,l.includes)(x,e)})).forEach((function(e){var t=(0,h.convertCamelToUnderscore)(e);if("segments"===e&&(0,a.isArray)(s.params.user[e])){var r=[];s.params.user[e].forEach((function(e){(0,a.isNumber)(e)?r.push({id:e}):(0,a.isPlainObject)(e)&&r.push(e)})),c[t]=r}else"segments"!==e&&(c[t]=s.params.user[e])}));var u,f=(0,l.find)(e,G);f&&f.params&&f.params.app&&(u={},Object.keys(f.params.app).filter((function(e){return(0,l.includes)(P,e)})).forEach((function(e){return u[e]=f.params.app[e]})));var p,g=(0,l.find)(e,W);g&&g.params&&f.params.app&&f.params.app.id&&(p={appid:g.params.app.id});var b={},E={},A=U.getCookie("apn_prebid_debug")||null;if(A)try{b=JSON.parse(A)}catch(e){(0,a.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(D).forEach((function(e){var t=(0,a.getParameterByName)(e);(0,a.isStr)(t)&&""!==t&&(b[D[e]]=t,b.enabled=!0)})),b=(0,I.convertTypes)({member_id:"number",debug_timeout:"number"},b);var _=(0,l.find)(e,H);_&&_.debug&&(b=_.debug)}b&&b.enabled&&Object.keys(b).filter((function(e){return(0,l.includes)(R,e)})).forEach((function(e){E[e]=b[e]}));var T=(0,l.find)(e,F),C=T?parseInt(T.params.member,10):0,k=e[0].schain,j=(0,l.find)(e,X),N={tags:(0,i.default)(o),user:c,sdk:{source:"pbjs",version:"8.20.0"},schain:k};j&&(N.iab_support={omidpn:"Appnexus",omidpv:"8.20.0"}),C>0&&(N.member_id=C),f&&(N.device=u),g&&(N.app=p);var M=(0,a.deepClone)(t&&t.ortb2),B=(0,a.deepClone)(d.config.getConfig("appnexusAuctionKeywords"))||{},L=(0,y.getANKeywordParam)(M,B);if(L.length>0&&(N.keywords=L),d.config.getConfig("adpod.brandCategoryExclusion")&&(N.brand_category_uniqueness=!0),E.enabled&&(N.debug=E,(0,a.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(E,null,4))),t&&t.gdprConsent&&(N.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var z=t.gdprConsent.addtlConsent,K=z.substring(z.indexOf("~")+1);N.gdpr_consent.addtl_consent=K.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(N.us_privacy=t.uspConsent),null!=t&&t.gppConsent?N.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(N.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){var Q={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},$=t.refererInfo.canonicalUrl;(0,a.isStr)($)&&""!==$&&(Q.rd_can=$),N.referrer_detection=Q}if((0,l.find)(e,Y)&&e.filter(Y).forEach((function(e){var t=function(e,t){var r=t.mediaTypes.video,n=r.durationRangeSec,o=r.requireExactDuration,a=function(e){var t=e.adPodDurationSec,r=e.durationRangeSec,n=e.requireExactDuration,o=Math.min.apply(Math,(0,i.default)(r)),a=Math.floor(t/o);return n?Math.max(a,r.length):a}(t.mediaTypes.video),s=Math.max.apply(Math,(0,i.default)(n)),d=e.filter((function(e){return e.uuid===t.bidId})),c=h.fill.apply(void 0,(0,i.default)(d).concat([a]));if(o){var u=Math.ceil(a/n.length),l=(0,S.chunk)(c,u);n.forEach((function(e,t){l[t].map((function(t){J(t,"minduration",e),J(t,"maxduration",e)}))}))}else c.map((function(e){return J(e,"maxduration",s)}));return c}(o,e),r=N.tags.filter((function(t){return t.uuid!==e.bidId}));N.tags=[].concat((0,i.default)(r),(0,i.default)(t))})),e[0].userId){var Z=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(t){var r={source:e.source,id:t.id};"adserver.org"==e.source?r.rti_partner="TDID":"uidapi.com"==e.source&&(r.rti_partner="UID2"),Z.push(r)}))})),Z.length&&(N.eids=Z)}o[0].publisher_id&&(N.publisher_id=o[0].publisher_id);var ee=function(e,t){var r=[],n={withCredentials:!0},i=w;(0,m.hasPurpose1Consent)(null==t?void 0:t.gdprConsent)||(i=O);"TRUE"!==(0,a.getParameterByName)("apn_test").toUpperCase()&&!0!==d.config.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1});if(e.tags.length>15){var o=(0,a.deepClone)(e);(0,S.chunk)(e.tags,15).forEach((function(e){o.tags=e;var a=JSON.stringify(o);r.push({method:"POST",url:i,data:a,bidderRequest:t,options:n})}))}else{var s=JSON.stringify(e);r={method:"POST",url:i,data:s,bidderRequest:t,options:n}}return r}(N,t);return ee},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var o="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),(0,a.logError)(o),i}if(e.tags&&e.tags.forEach((function(e){var t,o=(t=e)&&t.ads&&t.ads.length&&(0,l.find)(t.ads,(function(e){return e.rtb}));if(o&&((!0===g.bidderSettings.get(n.bidderCode,"allowZeroCpmBids")?o.cpm>=0:o.cpm>0)&&(0,l.includes)(r.supportedMediaTypes,o.ad_type))){var d=function(e,t,r){var n=(0,a.getBidRequest)(e.uuid,[r]),i=(0,a.getUniqueIdentifierStr)(),o={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(o.meta=A({},o.meta,{advertiserDomains:[t.adomain]}));t.advertiser_id&&(o.meta=A({},o.meta,{advertiserId:t.advertiser_id}));function d(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}t.buyer_member_id&&(o.meta=A({},o.meta,{dchain:d(t)}));t.brand_id&&(o.meta=A({},o.meta,{brandId:t.brand_id}));if(t.rtb.video){switch(A(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,a.deepAccess)(n,"mediaTypes.video.context")){case u.ADPOD:var c=b.APPNEXUS_CATEGORY_MAPPING[t.brand_category_id]?b.APPNEXUS_CATEGORY_MAPPING[t.brand_category_id]:null;o.meta=A({},o.meta,{primaryCatId:c});var p=t.deal_priority;o.video={context:u.ADPOD,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:p},o.vastUrl=t.rtb.video.asset_url;break;case f.OUTSTREAM:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var g=(0,l.find)(r.bids,(function(t){return t.bidId===e.uuid})),m=(0,a.deepAccess)(g,"mediaTypes.video.renderer.options");m||(m=(0,a.deepAccess)(g,"renderer.options")),o.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=s.Renderer.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(K)}catch(e){(0,a.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return(0,a.logMessage)("AppNexus outstream video impression event")},loaded:function(){return(0,a.logMessage)("AppNexus outstream video loaded event")},ended:function(){(0,a.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(o.adUnitCode,t,m)}break;case f.INSTREAM:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[u.NATIVE]){var v,y=t.rtb[u.NATIVE];if(function(e){if(!e||""===e)return!1;var t=e.match(M),r=null!=t&&t.length>=1,n=e.match(B),i=null!=n&&n.length>=1;return e.startsWith(N)&&i&&r}(t.viewability.config)){var h="pbjs_adid="+i+";pbjs_auc="+n.adUnitCode;v=t.viewability.config.replace("dom_id=%native_dom_id%",h)}var I=y.javascript_trackers;null==I?I=v:(0,a.isStr)(I)?I=[I,v]:I.push(v),o[u.NATIVE]={title:y.title,body:y.desc,body2:y.desc2,cta:y.ctatext,rating:y.rating,sponsoredBy:y.sponsored,privacyLink:y.privacy_link,address:y.address,downloads:y.downloads,likes:y.likes,phone:y.phone,price:y.price,salePrice:y.saleprice,clickUrl:y.link.url,displayUrl:y.displayurl,clickTrackers:y.link.click_trackers,impressionTrackers:y.impression_trackers,video:y.video,javascriptTrackers:I},y.main_img&&(o.native.image={url:y.main_img.url,height:y.main_img.height,width:y.main_img.width}),y.icon&&(o.native.icon={url:y.icon.url,height:y.icon.height,width:y.icon.width})}else{A(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var S=0;S<t.rtb.trackers[0].impression_urls.length;S++){var E=t.rtb.trackers[0].impression_urls[S],_=(0,a.createTrackPixelHtml)(E);o.ad+=_}}catch(e){(0,a.logError)("Error appending tracking pixel",e)}}return o}(e,o,n);d.mediaType=function(e){var t=e.ad_type;return t===u.VIDEO?u.VIDEO:t===u.NATIVE?u.NATIVE:u.BANNER}(o),i.push(d)}})),e.debug&&e.debug.debug_info){var d="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;d=d.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,a.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,a.logMessage)(d)}return i},getUserSyncs:function(e,t,r,n,i){if(e.iframeEnabled&&(0,m.hasPurpose1Consent)(r)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,r,n){var i=y.transformBidderParamKeywords;if(!0===t){var o=null,s=d.config.getConfig("s2sConfig");(0,a.isPlainObject)(s)?o=(0,a.deepAccess)(s,"endpoint.p1Consent"):(0,a.isArray)(s)&&s.forEach((function(e){(0,l.includes)(e.bidders,r.bids[0].bidder)&&(o=(0,a.deepAccess)(e,"endpoint.p1Consent"))})),o&&o.match("/openrtb2/prebid")&&(i=$)}return e=(0,I.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:i,publisherId:"number"},e),t&&(Object.keys(e).forEach((function(t){var r=(0,h.convertCamelToUnderscore)(t);r!==t&&(e[r]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function V(e){var t,r={};Object.keys(e.params).forEach((function(t){var r=(0,h.convertCamelToUnderscore)(t);r!==t&&(e.params[r]=e.params[t],delete e.params[t])})),r.sizes=z(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placement_id?r.id=parseInt(e.params.placement_id,10):r.code=e.params.inv_code,r.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,r.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,r.prebid=!0,r.disable_psa=!0;var n=function(e){if(!(0,a.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,a.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(n&&(r.reserve=n),e.params.position)r.position={above:1,below:2}[e.params.position]||0;else{var i=(0,a.deepAccess)(e,"mediaTypes.banner.pos")||(0,a.deepAccess)(e,"mediaTypes.video.pos");0!==i&&1!==i&&3!==i||(r.position=3===i?2:i)}e.params.traffic_source_code&&(r.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(r.private_sizes=z(e.params.private_sizes)),e.params.supply_type&&(r.supply_type=e.params.supply_type),e.params.pub_click&&(r.pubclick=e.params.pub_click),e.params.ext_inv_code&&(r.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(r.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(r.external_imp_id=e.params.external_imp_id);var o=(0,y.getANKewyordParamFromMaps)((0,y.convertKeywordStringToANMap)((0,a.deepAccess)(e,"ortb2Imp.ext.data.keywords")),null===(t=e.params)||void 0===t?void 0:t.keywords);o.length>0&&(r.keywords=o);var s,d,c=(0,a.deepAccess)(e,"ortb2Imp.ext.gpid")||(0,a.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(c&&(r.gpid=c),(e.mediaType===u.NATIVE||(0,a.deepAccess)(e,"mediaTypes.".concat(u.NATIVE)))&&(r.ad_types.push(u.NATIVE),0===r.sizes.length&&(r.sizes=z([1,1])),e.nativeParams)){var f=(s=e.nativeParams,d={},Object.keys(s).forEach((function(e){var t=j[e]&&j[e].serverName||j[e]||e,r=j[e]&&j[e].requiredParams;if(d[t]=A({},r,s[e]),(t===j.image.serverName||t===j.icon.serverName)&&d[t].sizes){var n=d[t].sizes;((0,a.isArrayOfNums)(n)||(0,a.isArray)(n)&&n.length>0&&n.every((function(e){return(0,a.isArrayOfNums)(e)})))&&(d[t].sizes=z(d[t].sizes))}t===j.privacyLink&&(d.privacy_supported=!0)})),d);r[u.NATIVE]={layouts:[f]}}var p=(0,a.deepAccess)(e,"mediaTypes.".concat(u.VIDEO)),g=(0,a.deepAccess)(e,"mediaTypes.video.context");return r.hb_source=p&&"adpod"===g?7:1,(e.mediaType===u.VIDEO||p)&&r.ad_types.push(u.VIDEO),(e.mediaType===u.VIDEO||p&&"outstream"!==g)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter((function(e){return(0,l.includes)(T,e)})).forEach((function(t){switch(t){case"context":case"playback_method":var n=e.params.video[t];n=(0,a.isArray)(n)?n[0]:n,r.video[t]=k[t][n];break;case"frameworks":break;default:r.video[t]=e.params.video[t]}})),e.params.video.frameworks&&(0,a.isArray)(e.params.video.frameworks)&&(r.video_frameworks=e.params.video.frameworks)),p&&(r.video=r.video||{},Object.keys(p).filter((function(e){return(0,l.includes)(C,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=p[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===p[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=p[e]);break;case"playbackmethod":if("number"!=typeof r.video.playback_method){var t=p[e];(t=(0,a.isArray)(t)?t[0]:t)>=1&&t<=4&&(r.video.playback_method=t)}break;case"api":if(!r.video_frameworks&&(0,a.isArray)(p[e])){var n=p[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));r.video_frameworks=n}break;case"startdelay":case"placement":if("number"!=typeof r.video.context){var i=p.placement,o=p.startdelay,s=function(e){if(!e)return;if(2===e)return"in-banner";if(e>2)return"outstream"}(i)||function(e){if(!e)return;if(0===e)return"pre_roll";if(-1===e)return"mid_roll";if(-2===e)return"post_roll"}(o);r.video.context=k.context[s]}}}))),e.renderer&&(r.video=A({},r.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,a.isArray)(e.params.frameworks)&&(r.banner_frameworks=e.params.frameworks),(0,a.deepAccess)(e,"mediaTypes.".concat(u.BANNER))&&r.ad_types.push(u.BANNER),0===r.ad_types.length&&delete r.ad_types,r}function z(e){var t=[],r={};if((0,a.isArray)(e)&&2===e.length&&!(0,a.isArray)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===(0,n.default)(e))for(var i=0;i<e.length;i++){var o=e[i];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function q(e){return!!e.params.user}function F(e){return!!parseInt(e.params.member,10)}function G(e){if(e.params)return!!e.params.app}function W(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function H(e){return!!e.debug}function Y(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===u.ADPOD}function X(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&(0,a.isArray)(r.frameworks)&&(t=(0,l.includes)(e.params.frameworks,6)),!t&&n&&n.frameworks&&(0,a.isArray)(n.frameworks)&&(t=(0,l.includes)(e.params.video.frameworks,6)),t}function J(e,t,r){(0,a.isEmpty)(e.video)&&(e.video={}),e.video[t]=r}function K(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){((null==t?void 0:t.defaultView)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Q.bind(null,e))}))}function Q(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function $(e){var t="";return Object.keys(e).forEach((function(r){(0,a.isStr)(e[r])?""!==e[r]?t+="".concat(r,"=").concat(e[r],","):t+="".concat(r,","):(0,a.isArray)(e[r])&&(""===e[r][0]?t+="".concat(r,","):e[r].forEach((function(e){t+="".concat(r,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}t.spec=L,(0,c.registerBidder)(L),(0,o.registerModule)("appnexusBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPNEXUS_CATEGORY_MAPPING=void 0;t.APPNEXUS_CATEGORY_MAPPING={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformBidderParamKeywords=f,t.convertKeywordStringToANMap=function(e){return(0,o.isStr)(e)&&""!==e?p(e.split(/\s*(?:,)\s*/)):{}},t.getANMapFromOrtbKeywords=g,t.getANKewyordParamFromMaps=m,t.getANKeywordParam=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return m.apply(void 0,[g(e),v(e)].concat(r))},t.getANMapFromOrtbSegments=v;var n=d(r(6)),i=d(r(23)),o=r(0),a=r(178),s=r(132);function d(e){return e&&e.__esModule?e:{default:e}}var c={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},u=["user.data"].concat(s.CLIENT_SECTIONS.map((function(e){return"".concat(e,".content.data")})));function l(e,t,r){return null==t?r:(0,o.isStr)(t)?t:(0,o.isNumber)(t)?t.toString():void(0,o.logWarn)("Unsuported type for param: "+e+" required type: String")}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",r=[];return(0,o._each)(e,(function(e,n){if((0,o.isArray)(e)){var i=[];(0,o._each)(e,(function(e){((e=l(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(e=l(t+"."+n,e),!(0,o.isStr)(e))return;e=[e]}e=e.filter((function(e){return""!==e}));var a={key:n};e.length>0&&(a.value=e),r.push(a)})),r}function p(e){var t={};return e.forEach((function(e){if(-1!==e.indexOf("=")){var r=e.split("="),n=r[0],i=r[1];t.hasOwnProperty(n)?t[n].push(i):t[n]=[i]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function g(e){return p((0,a.getAllOrtbKeywords)(e))}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f(o.mergeDeep.apply(void 0,(0,i.default)(t.map((function(e){return Object.fromEntries(Object.entries(e||{}).map((function(e){var t=(0,n.default)(e,2),r=t[0],i=t[1];return[r,(0,o.isNumber)(i)||(0,o.isStr)(i)?[i]:i]})))})))))}function v(e){var t={};return u.forEach((function(r){((0,o.deepAccess)(e,r)||[]).forEach((function(e){var r=c[(0,o.deepAccess)(e,"ext.segtax")];r&&e.segment.forEach((function(e){t[r]?t[r].push(e.id):t[r]=[e.id]}))}))})),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},t.fill=function(e,t){for(var r=[],i=0;i<t;i++){var o=(0,n.isPlainObject)(e)?(0,n.deepClone)(e):e;r.push(o)}return r},r(17);var n=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=function(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,o=i+t;r.push(e.slice(i,o))}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getDomainFromURL=V,t.toOrtbNativeRequest=K,t.checkVideoPlacement=Z,t.assignDealTier=ne,t.prepareMetaObject=oe,t.spec=void 0,r(17),r(9);var n=v(r(6)),i=v(r(23)),o=v(r(11)),a=v(r(18)),s=r(8),d=r(0),c=r(36),u=r(25),l=r(4),f=r(52),p=r(58),g=v(r(20)),m=r(104);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I="pubmatic",S="PubMatic: ",E="USD",A=void 0,_="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),w={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},O="number",T="string",C="boolean",x="array",P={mimes:x,minduration:O,maxduration:O,startdelay:O,playbackmethod:x,api:x,protocols:x,w:O,h:O,battr:x,linearity:O,placement:O,plcmt:O,minbitrate:O,maxbitrate:O,skip:O},R=1,D=3,k={1:"PMP",5:"PREF",6:"PMPG"},j={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=j.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===n){r=window.bluebillywig.renderers[o];break}r?r.bootstrap(t,i):(0,d.logWarn)("".concat(S,": Couldn't find a renderer with ").concat(n))}else(0,d.logWarn)("".concat(S,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=_.replace("$RENDERER",e),n=f.Renderer.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(j.outstreamRender)}catch(e){(0,d.logWarn)("".concat(S,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push((function(){j.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},N=[u.BANNER,u.VIDEO,u.NATIVE],M=0,B=!1,U=["pubmatic"],L=["all"];function V(e){var t=document.createElement("a");return t.href=e,t.hostname}function z(e,t){if(!(0,d.isStr)(t))return t&&(0,d.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+(0,a.default)(t)),A;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||A;case"yob":return parseInt(t)||A;default:return t}}function q(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,d.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,d.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void(0,d.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.BANNER)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function F(e,t,r){var n,i="Ignoring param key: "+e+", expects "+r+", found "+(0,a.default)(t);switch(r){case C:n=d.isBoolean;break;case O:n=d.isNumber;break;case T:n=d.isStr;break;case x:n=d.isArray}return n(t)?t:((0,d.logWarn)(S+i),A)}var G={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},W=g.default.NATIVE_IMAGE_TYPES,H=g.default.NATIVE_KEYS_THAT_ARE_NOT_ASSETS,Y=g.default.NATIVE_KEYS,X=g.default.NATIVE_ASSET_TYPES,J=Object.values(G);function K(e){if(!e&&!(0,d.isPlainObject)(e))return(0,d.logWarn)("".concat(S,": Native assets object is empty or not an object: ").concat(e)),void(B=!0);var t={ver:"1.2",assets:[]};for(var r in e)if(!H.includes(r))if(Y.hasOwnProperty(r)||J.includes(r)){var n=e[r],i=0;n.required&&(0,d.isBoolean)(n.required)&&(i=Number(n.required));var o={id:t.assets.length,required:i};if(r in G)o.data={type:X[G[r]]},(n.len||n.length)&&(o.data.len=n.len||n.length),n.ext&&(o.data.ext=n.ext);else if("icon"===r||"image"===r){if(o.img={type:"icon"===r?W.ICON:W.MAIN},n.aspect_ratios)if((0,d.isArray)(n.aspect_ratios))if(n.aspect_ratios.length){var a=n.aspect_ratios[0],s=a.min_width,c=a.min_height;(0,d.isInteger)(s)&&(0,d.isInteger)(c)?(o.img.wmin=s,o.img.hmin=c):(0,d.logWarn)("".concat(S,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(c));var u=n.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else(0,d.logWarn)("".concat(S,": image.aspect_ratios was passed, but it's empty: ").concat(n.aspect_ratios));else(0,d.logWarn)("".concat(S,": image.aspect_ratios was passed, but it's not a an array: ").concat(n.aspect_ratios));o.img.w=n.w||n.width,o.img.h=n.h||n.height,o.img.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:A),o.img.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:A),n.sizes&&(2===n.sizes.length&&(0,d.isInteger)(n.sizes[0])&&(0,d.isInteger)(n.sizes[1])?((0,d.logInfo)("".concat(S,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=n.sizes[0],o.img.h=n.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,d.logWarn)("".concat(S,": image.sizes was passed, but its value is not an array of integers: ").concat(n.sizes))),n.ext&&(o.img.ext=n.ext),n.mimes&&(o.img.mimes=n.mimes)}else"title"===r?(o.title={len:n.len||n.length||140},n.ext&&(o.title.ext=n.ext)):"ext"===r&&(o.ext=n,delete o.required);t.assets.push(o)}else(0,d.logWarn)("".concat(S,": Unrecognized native asset code: ").concat(r,". Asset will be ignored."));return t.assets.length<1?((0,d.logWarn)("".concat(S,": Could not find any valid asset")),void(B=!0)):t}function Q(e){var t;if(e.ortb){e=e.ortb,t=h(h({ver:"1.2"},e),{},{assets:[]});var r=e.assets,n=function(e){return e.title||e.img||e.data||e.video};if(r.length<1||!r.some((function(e){return n(e)})))return(0,d.logWarn)("".concat(S,": Native assets object is empty or contains some invalid object")),B=!0,t;r.forEach((function(e){var r=e;r.img&&(r.img.type==D?(r.w=r.w||r.width||(r.sizes?r.sizes[0]:A),r.h=r.h||r.height||(r.sizes?r.sizes[1]:A),r.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:A),r.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:A)):r.img.type==R&&(r.w=r.w||r.width||(r.sizes?r.sizes[0]:A),r.h=r.h||r.height||(r.sizes?r.sizes[1]:A))),r&&void 0!==r.id&&n(r)&&t.assets.push(r)}))}else t=K(e);return t}function $(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==A&&(0,d.isArray)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=A,(0,d.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=(0,d.inIframe)()?0:1}else(0,d.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=A;return t}function Z(e,t){(0,d.deepAccess)(e,"placement")||(0,d.logWarn)("Video.Placement param missing for "+t)}function ee(e){var t,r=(0,d.mergeDeep)((0,d.deepAccess)(e.mediaTypes,"video"),e.params.video);if(r!==A){for(var n in t={},Z(r,e.adUnitCode),P)r.hasOwnProperty(n)&&(t[n]=F(n,r[n],P[n]));(0,d.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,d.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=A,(0,d.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function te(e,t){var r,n,i={},o={},s=e.hasOwnProperty("sizes")?e.sizes:[],c="",f=[],p=null==t?void 0:t.fledgeEnabled;if(function(e,t){t.params.deals&&((0,d.isArray)(t.params.deals)?t.params.deals.forEach((function(t){(0,d.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,d.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,d.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(i={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:z("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:z("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?z("currency",e.params.currency):E},e),function(e,t){var r,n="";if(t.params.dctr)if(n=t.params.dctr,(0,d.isStr)(n)&&n.length>0){var i=n.split("|");n="",i.forEach((function(e){n+=e.length>0?e.trim()+"|":""})),r=n.length,"|"===n.substring(r,r-1)&&(n=n.substring(0,r-1)),e.ext.key_val=n.trim()}else(0,d.logWarn)("PubMatic: Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(i,e),function(e,t){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,n="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var i,o=r.segments.length;n+="jw-id="+r.content.id;for(var a=0;a<o;a++)n+="|jw-"+r.segments[a]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=n:i.key_val+="|"+n}}(i,e),e.hasOwnProperty("mediaTypes"))for(c in e.mediaTypes)switch(c){case u.BANNER:(r=$(e))!==A&&(i.banner=r);break;case u.NATIVE:o.request=JSON.stringify(Q(e.nativeParams)),B?((0,d.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),B=!1):i.native=o;break;case u.VIDEO:(n=ee(e))!==A&&(i.video=n)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:(0,d.inIframe)()?0:1},(0,d.isArray)(s)&&s.length>1&&((s=s.splice(1,s.length-1)).forEach((function(e){f.push({w:e[0],h:e[1]})})),r.format=f),i.banner=r;return function(e,t){var r=h({},(0,d.deepAccess)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&(0,d.deepSetValue)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((function(t){var n=(0,d.deepAccess)(r,"adserver.".concat(t));"string"==typeof n&&n&&((0,d.deepSetValue)(e,"ext.data.adserver.".concat(t.toLowerCase()),n),"adslot"===t&&(0,d.deepSetValue)(e,"ext.dfp_ad_unit_code",n))})):(0,d.deepSetValue)(e,"ext.data.".concat(t),r[t])}));var n=(0,d.deepAccess)(t,"ortb2Imp.ext.gpid");n&&(0,d.deepSetValue)(e,"ext.gpid",n)}(i,e),function(e,t){var r=-1;"function"!=typeof t.getFloor||l.config.getConfig("pubmatic.disableFloors")||[u.BANNER,u.VIDEO,u.NATIVE].forEach((function(n){if(e.hasOwnProperty(n)){var i=[];"banner"===n&&(e[n].w&&e[n].h&&i.push([e[n].w,e[n].h]),(0,d.isArray)(e[n].format)&&e[n].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var o=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:i});if((0,d.logInfo)(S,"floor from floor module returned for mediatype:",n," and size:",i," is: currency",o.currency,"floor",o.floor),"object"===(0,a.default)(o)&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var s=parseFloat(o.floor);(0,d.logInfo)(S,"floor from floor module:",s,"previous floor value",r,"Min:",Math.min(s,r)),r=-1===r?s:Math.min(s,r),(0,d.logInfo)(S,"new floor value:",r)}}))}}));e.bidfloor&&((0,d.logInfo)(S,"floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor));e.bidfloor=!isNaN(r)&&r>0?r:A,(0,d.logInfo)(S,"new impObj.bidfloor value:",e.bidfloor)}(i,e),function(e,t,r){if(r){var n,i;e.ext=e.ext||{},void 0!==(null==t||null===(n=t.ortb2Imp)||void 0===n||null===(i=n.ext)||void 0===i?void 0:i.ae)&&(e.ext.ae=t.ortb2Imp.ext.ae)}else{var o;null!==(o=e.ext)&&void 0!==o&&o.ae&&delete e.ext.ae}}(i,e,p),i.hasOwnProperty(u.BANNER)||i.hasOwnProperty(u.NATIVE)||i.hasOwnProperty(u.VIDEO)?i:A}function re(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,d.logWarn)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){return r.indexOf(e)===t}))).length>0&&((0,d.logWarn)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function ne(e,t,r){var n,i,o;if(null!=t&&null!==(n=t.ext)&&void 0!==n&&n.prebiddealpriority){var a=(0,d.getBidRequest)(e.requestId,[r.bidderRequest]),s=(0,d.deepAccess)(a,"mediaTypes.video");if((null==s?void 0:s.context)==u.ADPOD){var c=(null==t||null===(i=t.ext)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.duration)||(null==s?void 0:s.maxduration);e.video={context:u.ADPOD,durationSeconds:c,dealTier:t.ext.prebiddealpriority}}}}function ie(e){return!0===(0,d.isArray)(e)&&e.length>0}function oe(e,t,r){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var n=r||t.ext&&t.ext.advid;n&&(e.meta.advertiserId=n,e.meta.agencyId=n,e.meta.buyerId=n),t.adomain&&ie(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&ie(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}var ae={code:I,gvlid:76,supportedMediaTypes:[u.BANNER,u.VIDEO,u.NATIVE],isBidRequestValid:function(e){if(e&&e.params){if(!(0,d.isStr)(e.params.publisherId))return(0,d.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.VIDEO)){var t=(0,d.deepAccess)(e.mediaTypes,"video.mimes"),r=(0,d.deepAccess)(e,"params.video.mimes");if(!1===ie(t)&&!1===ie(r))return(0,d.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[u.VIDEO].hasOwnProperty("context"))return(0,d.logError)("".concat(S,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[u.VIDEO].context&&!(0,d.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[u.VIDEO].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(u.BANNER)||e.mediaTypes.hasOwnProperty(u.NATIVE)?(delete e.mediaTypes[u.VIDEO],(0,d.logWarn)("".concat(S,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,d.logError)("".concat(S,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var r,n,o,s,c,f,g,m,v,y;t&&t.refererInfo&&(y=t.refererInfo);var I,S=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(y),_=function(e){return{id:""+(new Date).getTime(),at:1,cur:[E],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(S),O="",T=[],C=[],x=[];if(e.forEach((function(e){var r,n;if((I=(0,d.deepClone)(e)).params.adSlot=I.params.adSlot||"",q(I),I.mediaTypes&&I.mediaTypes.hasOwnProperty("video")||I.params.hasOwnProperty("video"));else if(!(I.hasOwnProperty("mediaTypes")&&I.mediaTypes.hasOwnProperty(u.NATIVE)||0!==I.params.width||0!==I.params.height))return void(0,d.logWarn)("PubMatic: Skipping the non-standard adslot: ",I.params.adSlot,JSON.stringify(I));S.pubId=S.pubId||I.params.publisherId,(S=function(e,t){var r,n,i;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),w)w.hasOwnProperty(r)&&(n=e[r])&&(i=w[r],"object"===(0,a.default)(i)&&(n=i.f(n,t)),(0,d.isStr)(n)?t[r]=n:(0,d.logWarn)("PubMatic: Ignoring param : "+r+" with value : "+w[r]+", expects string-value, found "+(0,a.default)(n)));return t}(I.params,S)).transactionId=null===(r=I.ortb2Imp)||void 0===r||null===(n=r.ext)||void 0===n?void 0:n.tid,""===O?O=I.params.currency||A:I.params.hasOwnProperty("currency")&&O!==I.params.currency&&(0,d.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),I.params.currency=O,I.params.hasOwnProperty("dctr")&&(0,d.isStr)(I.params.dctr)&&T.push(I.params.dctr),I.params.hasOwnProperty("bcat")&&(0,d.isArray)(I.params.bcat)&&(C=C.concat(I.params.bcat)),I.params.hasOwnProperty("acat")&&(0,d.isArray)(I.params.acat)&&(x=x.concat(I.params.acat));var i=te(I,t);i&&_.imp.push(i)})),0!=_.imp.length){_.site.publisher.id=S.pubId.trim(),M=S.pubId.trim(),_.ext.wrapper={},_.ext.wrapper.profile=parseInt(S.profId)||A,_.ext.wrapper.version=parseInt(S.verId)||A,_.ext.wrapper.wiid=S.wiid||t.auctionId,_.ext.wrapper.wv="prebid_prebid_8.20.0",_.ext.wrapper.transactionId=S.transactionId,_.ext.wrapper.wp="pbjs";var P=t?p.bidderSettings.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==P){if(_.ext.marketplace={},t&&1==P){var R=p.bidderSettings.get(t.bidderCode,"allowedAlternateBidderCodes");(0,d.isArray)(R)?(R=R.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(d.uniques),U=R.includes("*")?L:[].concat((0,i.default)(U),(0,i.default)(R))):U=L}_.ext.marketplace.allowedbidders=U.filter(d.uniques)}_.user.gender=S.gender?S.gender.trim():A,_.user.geo={},_.user.yob=z("yob",S.yob),_.site.page=S.kadpageurl.trim()||_.site.page.trim(),_.site.domain=V(_.site.page),"object"===(0,a.default)(l.config.getConfig("content"))&&(_.site.content=l.config.getConfig("content")),"object"===(0,a.default)(l.config.getConfig("device"))&&(_.device=b(_.device,l.config.getConfig("device"))),_.device.language=_.device.language&&_.device.language.split("-")[0],(0,d.deepSetValue)(_,"source.tid",null==t||null===(r=t.ortb2)||void 0===r||null===(n=r.source)||void 0===n?void 0:n.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(_.test=1),e[0].schain&&(0,d.deepSetValue)(_,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,d.deepSetValue)(_,"user.ext.consent",t.gdprConsent.consentString),(0,d.deepSetValue)(_,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,d.deepSetValue)(_,"regs.ext.us_privacy",t.uspConsent),null!=t&&null!==(o=t.gppConsent)&&void 0!==o&&o.gppString?((0,d.deepSetValue)(_,"regs.gpp",t.gppConsent.gppString),(0,d.deepSetValue)(_,"regs.gpp_sid",t.gppConsent.applicableSections)):null!=t&&null!==(s=t.ortb2)&&void 0!==s&&null!==(c=s.regs)&&void 0!==c&&c.gpp&&((0,d.deepSetValue)(_,"regs.gpp",t.ortb2.regs.gpp),(0,d.deepSetValue)(_,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===l.config.getConfig("coppa")&&(0,d.deepSetValue)(_,"regs.coppa",1),function(e,t){var r=(0,d.deepAccess)(t,"0.userIdAsEids");(0,d.isArray)(r)&&r.length>0&&(0,d.deepSetValue)(e,"user.eids",r)}(_,e);var D,k,j,N=t&&t.ortb2||{},B=N.user,F=N.device,G=N.site,W=N.bcat;if(G){var H=_.site,Y=H.page,X=H.domain,J=H.ref;(0,d.mergeDeep)(_,{site:G}),_.site.page=Y,_.site.domain=X,_.site.ref=J}if(B&&(0,d.mergeDeep)(_,{user:B}),W&&(C=C.concat(W)),null!=F&&F.sua&&(_.device.sua=null==F?void 0:F.sua),null!=B&&B.geo&&null!=F&&F.geo?(_.device.geo=h(h({},_.device.geo),F.geo),_.user.geo=h(h({},_.user.geo),B.geo)):(null!=B&&B.geo||null!=F&&F.geo)&&(_.user.geo=_.device.geo=null!=B&&B.geo?h(h({},_.user.geo),B.geo):h(h({},_.user.geo),F.geo)),null!==(f=N.ext)&&void 0!==f&&null!==(g=f.prebid)&&void 0!==g&&null!==(m=g.bidderparams)&&void 0!==m&&null!==(v=m[t.bidderCode])&&void 0!==v&&v.acat){var K=N.ext.prebid.bidderparams[t.bidderCode].acat;re(_,K)}else x.length&&re(_,x);if(function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,d.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;(0,d.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,d.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(_,C),null!=t&&t.timeout)_.tmax=t.timeout;else _.tmax=null===(D=window)||void 0===D||null===(k=D.PWT)||void 0===k||null===(j=k.versionDetails)||void 0===j?void 0:j.timeout;return _.ext.epoch=(new Date).getTime(),"object"===(0,a.default)(l.config.getConfig("app"))&&(_.app=l.config.getConfig("app"),_.app.publisher=_.site.publisher,_.app.ext=_.site.ext||A,"object"!==(0,a.default)(_.app.content)&&(_.app.content=_.site.content||A),delete _.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(_),bidderRequest:t}}},interpretResponse:function(e,t){var r=[],i=E,o=JSON.parse(t.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&(0,d.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&(0,d.isArray)(e.bid)&&e.bid.forEach((function(n){var s={requestId:n.impid,cpm:parseFloat((n.price||0).toFixed(2)),width:n.w,height:n.h,creativeId:n.crid||n.id,dealId:n.dealid,currency:i,netRevenue:true,ttl:300,referrer:a,ad:n.adm,pm_seat:e.seat||null,pm_dspid:n.ext&&n.ext.dspid?n.ext.dspid:null,partnerImpId:n.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((function(e){if(n.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=N[e.ext.bidtype];else{(0,d.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,n="",i=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=u.BANNER;else if(i.test(r))t.mediaType=u.VIDEO;else try{(n=JSON.parse(r.replace(/\\/g,"")))&&n.native&&(t.mediaType=u.NATIVE)}catch(e){(0,d.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(n,s),s.mediaType){case u.BANNER:break;case u.VIDEO:s.width=n.hasOwnProperty("w")?n.w:e.video.w,s.height=n.hasOwnProperty("h")?n.h:e.video.h,s.vastXml=n.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(r=t.bidderRequest.bids[o].params,n=t.bidderRequest.bids[o].mediaTypes[u.VIDEO].context,i=t.bidderRequest.bids[o].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=j.newRenderer(e.rendererCode,i))}}(s,t),ne(s,n,t);break;case u.NATIVE:!function(e,t){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,d.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:h({},r.native)},t.mediaType=u.NATIVE,t.width||(t.width=0),t.height||(t.height=0)}}(n,s)}})),n.ext&&n.ext.deal_channel&&(s.dealChannel=k[n.ext.deal_channel]||null),oe(s,n,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),n.ext&&n.ext.marketplace&&(s.bidderCode=n.ext.marketplace),r.push(s)}))})));var s=(0,d.deepAccess)(e.body,"ext.fledge_auction_configs");if(s)return s=Object.entries(s).map((function(e){var t=(0,n.default)(e,2);return{bidId:t[0],config:b({auctionSignals:{}},t[1])}})),{bids:r,fledgeAuctionConfigs:s}}catch(e){(0,d.logError)(e)}return r},getUserSyncs:function(e,t,r,n,i){var o,a,s=""+M;(r&&(s+="&gdpr="+(r.gdprApplies?1:0),s+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(s+="&us_privacy="+encodeURIComponent(n)),null!=i&&i.gppString&&null!=i&&null!==(o=i.applicableSections)&&void 0!==o&&o.length)&&(s+="&gpp="+encodeURIComponent(i.gppString),s+="&gpp_sid="+encodeURIComponent(null==i||null===(a=i.applicableSections)||void 0===a?void 0:a.join(",")));return!0===l.config.getConfig("coppa")&&(s+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+s}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+s}]},transformBidParams:function(e,t,r,n){return(0,m.convertTypes)({publisherId:"string",adSlot:"string"},e)}};t.spec=ae,(0,c.registerBidder)(ae),(0,s.registerModule)("pubmaticBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifiedAsVideo=P,t.masSizeOrdering=D,t.determineRubiconVideoSizeId=function(e){var t=parseInt((0,m.deepAccess)(e,"params.video.size_id"));if(!isNaN(t))return t;return"outstream"===(0,m.deepAccess)(e,"mediaTypes.".concat(f.VIDEO,".context"))?203:201},t.getPriceGranularity=k,t.hasValidVideoParams=j,t.hasValidSupplyChainParams=N,t.encodeParam=M,t.resetUserSync=function(){B=!1},t.resetRubiConf=t.spec=t.converter=void 0,r(9),r(1),r(17);var n=y(r(23)),i=y(r(11)),o=y(r(6)),a=y(r(18)),s=r(8),d=r(131),c=r(254),u=r(36),l=r(4),f=r(25),p=r(15),g=r(52),m=r(0),v=r(178),b=r(104);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S="https://video-outstream.rubiconproject.com/apex-2.2.1.js",E=l.config.getConfig("rubicon")||{};l.config.getConfig("rubicon",(function(e){(0,m.mergeDeep)(E,e.rubicon)}));var A={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,m._each)(A,(function(e,t){return A[e]=t}));var _=(0,d.ortbConverter)({request:function(e,t,r,i){var o,d,c=i.bidRequests,u=e(t,r,i);u.cur=["USD"],u.test=l.config.getConfig("debug")?1:0,(0,m.deepSetValue)(u,"ext.prebid.cache",{vastxml:{returnCreative:!0===E.returnVast}}),(0,m.deepSetValue)(u,"ext.prebid.bidders",{rubicon:{integration:E.int_type||"pbjs"}}),(0,m.deepSetValue)(u,"ext.prebid.targeting.pricegranularity",k(l.config));var f=(0,s.getGlobal)().installedModules;return!f||f.length&&-1===f.indexOf("rubiconAnalyticsAdapter")||(0,m.deepSetValue)(u,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,r){var i,o,a={},s=v.getAllOrtbKeywords.apply(void 0,[r].concat((0,n.default)(t.map((function(e){return e.params.keywords})))));t.forEach((function(t){var r,n,i,o,s,d={user:{ext:{data:I({},t.params.visitor)}},site:{ext:{data:I({},t.params.inventory)}}},c=e.imp.find((function(e){var t,r,n,i,o;return null===(t=e.ext)||void 0===t||null===(r=t.prebid)||void 0===r||null===(n=r.bidder)||void 0===n||null===(i=n.rubicon)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.language}));c&&(d.site.content={language:null===(r=c.ext)||void 0===r||null===(n=r.prebid)||void 0===n||null===(i=n.bidder)||void 0===i||null===(o=i.rubicon)||void 0===o||null===(s=o.video)||void 0===s?void 0:s.language});a=(0,m.mergeDeep)(a,t.ortb2||{},d);var u=l.config.getConfig("user.id");a.user.id=a.user.id||u})),(0,m.mergeDeep)(e,a),s&&s.length&&(0,m.deepSetValue)(e,"site.keywords",s.join(","));null==e||(null===(i=e.ext)||void 0===i||(null===(o=i.prebid)||void 0===o||delete o.storedrequest))}(u,c,r.ortb2),null==u||(null===(o=u.ext)||void 0===o||(null===(d=o.prebid)||void 0===d||delete d.storedrequest)),!0===E.disableFloors&&delete u.ext.prebid.floors,c.filter((function(e){return"object"===(0,a.default)(e.floorData)})).length>0&&(u.ext.prebid.floors={enabled:!1}),u},imp:function(e,t,r){var n,i,o=R(t);if(!o.includes(f.BANNER)||1!=o.length){var a=e(t,r);return a.id=t.adUnitCode,delete a.banner,l.config.getConfig("s2sConfig.defaultTtl")&&(a.exp=l.config.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&a.video&&(a.video.pos=1),"btf"===t.params.position&&a.video&&(a.video.pos=3),null===(n=a.ext)||void 0===n||(null===(i=n.prebid)||void 0===i||delete i.storedrequest),!0===t.params.bidonmultiformat&&o.length>1&&(0,m.deepSetValue)(a,"ext.prebid.bidder.rubicon.formats",o),function(e,t){"USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur);if(!t.bidfloor){var r=parseFloat((0,m.deepAccess)(e,"params.floor"));isNaN(r)||(t.bidfloor=r,t.bidfloorcur="USD")}}(t,a),a}},bidResponse:function(e,t,r){var n,i=e(t,r);i.meta.mediaType=(0,m.deepAccess)(t,"ext.prebid.type");var a=r.bidRequest,s="outstream"===(null===(n=a.mediaTypes.video)||void 0===n?void 0:n.context)?C(a,f.VIDEO):[void 0,void 0],d=(0,o.default)(s,2),c=d[0],u=d[1];return i.width=t.w||c||i.playerWidth,i.height=t.h||u||i.playerHeight,i.mediaType===f.VIDEO&&"outstream"===a.mediaTypes.video.context&&(i.renderer=function(e){var t=g.Renderer.install({id:e.adId,url:E.rendererUrl||S,config:E.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(T)}catch(e){(0,m.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(i)),(0,m.deepAccess)(t,"ext.bidder.rp.advid")&&(0,m.deepSetValue)(i,"meta.advertiserId",t.ext.bidder.rp.advid),i},context:{netRevenue:!1!==E.netRevenue,ttl:300},processors:c.pbsExtensions});t.converter=_;var w={code:"rubicon",gvlid:52,supportedMediaTypes:[f.BANNER,f.VIDEO,f.NATIVE],isBidRequestValid:function(e){var t=!0;if("object"!==(0,a.default)(e.params))return!1;for(var r=0,n=["accountId","siteId","zoneId"];r<n.length;r++)if(e.params[n[r]]=parseInt(e.params[n[r]]),isNaN(e.params[n[r]]))return(0,m.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=R(e,!0);if(!i.length)return!1;i.includes(f.VIDEO)&&(t=j(e));var o=[f.BANNER,f.NATIVE].filter((function(e){return i.includes(e)})).length>0;return o?t&&o:t},buildRequests:function(e,t){var r,n=[],i=[];if((r=e.filter((function(e){var t=R(e)||[],r=t.length,n=e.params||{},i=n.bidonmultiformat,o=n.video;return 1===r&&(t.includes(f.VIDEO)||t.includes(f.NATIVE))||2===r&&!t.includes(f.BANNER)||o&&t.includes(f.VIDEO)||i&&(t.includes(f.VIDEO)||t.includes(f.NATIVE))})))&&r.length){var o=_.toORTB({bidRequests:r,bidderRequest:t});i.push({method:"POST",url:"https://".concat(E.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:r})}var a=e.filter((function(e){var t=R(e)||[],r=e.params||{},n=r.bidonmultiformat,i=r.video;return t.includes(f.BANNER)&&(1===t.length||n||!n&&!i||!n&&i&&!t.includes(f.VIDEO))}));if(!0!==E.singleRequest)n=i.concat(a.map((function(e){var r=w.createSlotParams(e,t);return{method:"GET",url:"https://".concat(E.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(r).reduce((function(e,t){var n=r[t];return(0,m.isStr)(n)&&""!==n||(0,m.isNumber)(n)?"".concat(e).concat(M(t,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});n=i.concat(Object.keys(s).reduce((function(e,r){var n,i;return(n=s[r],i=10,n.map((function(e,t){return t%i==0?n.slice(t,t+i):null})).filter((function(e){return e}))).forEach((function(r){var n=w.combineSlotUrlParams(r.map((function(e){return w.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(E.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(n).reduce((function(e,t){var r=n[t];return(0,m.isStr)(r)&&""!==r||(0,m.isNumber)(r)?"".concat(e).concat(M(t,r),"&"):e}),"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})})),e}),[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){var r,n,i,s,d;e.startTime=(new Date).getTime();var c=e.params,u=C(e,"banner"),g=c.latLong||[],v=(0,o.default)(g,2),b=v[0],y=v[1],h={account_id:c.accountId,site_id:c.siteId,zone_id:c.zoneId,size_id:u[0],alt_size_ids:u.slice(1).join(",")||void 0,rp_floor:(c.floor=parseFloat(c.floor))>=.01?c.floor:void 0,rp_secure:"1",tk_flint:"".concat(E.int_type||"pbjs_lite","_v8.20.0"),"x_source.tid":null===(r=t.ortb2)||void 0===r||null===(n=r.source)||void 0===n?void 0:n.tid,"x_imp.ext.tid":null===(i=e.ortb2Imp)||void 0===i||null===(s=i.ext)||void 0===s?void 0:s.tid,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:c.userId,"p_geo.latitude":isNaN(parseFloat(b))?void 0:parseFloat(b).toFixed(4),"p_geo.longitude":isNaN(parseFloat(y))?void 0:parseFloat(y).toFixed(4),"tg_fl.eid":e.code,rf:O(e,t)};if("function"==typeof e.getFloor&&!E.disableFloors){var S;try{S=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,m.logError)("Rubicon: getFloor threw an error: ",e)}h.rp_hard_floor="object"!==(0,a.default)(S)||"USD"!==S.currency||isNaN(parseInt(S.floor))?void 0:S.floor}!0===c.bidonmultiformat&&(0,m.deepAccess)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(h.p_formats=Object.keys(e.mediaTypes).join(","));var A={1:"atf",3:"btf"}[(0,m.deepAccess)(e,"mediaTypes.banner.pos")]||"";h.p_pos="atf"===c.position||"btf"===c.position?c.position:A;var _,T,x=l.config.getConfig("user.id");(x&&(h.ppuid=x),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source)h.tpid_tdid=e.uids[0].id,h["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)h["tpid_liveintent.com"]=e.uids[0].id,h["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(h["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)h.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)h["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{var t="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");h["eid_".concat(e.source)]=t}if(!h.ppuid){var r=(0,p.find)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));r&&r.id&&(h.ppuid=r.id)}}catch(t){(0,m.logWarn)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(h.gdpr=Number(t.gdprConsent.gdprApplies)),h.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(h.us_privacy=encodeURIComponent(t.uspConsent)),null!==(d=t.gppConsent)&&void 0!==d&&d.gppString)&&(h.gpp=t.gppConsent.gppString,h.gpp_sid=null===(_=t.gppConsent)||void 0===_||null===(T=_.applicableSections)||void 0===T?void 0:T.toString());return h.rp_maxbids=t.bidLimit||1,function(e,t,r){var n={user:{ext:{data:I({},e.params.visitor)}},site:{ext:{data:I({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=(0,m.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=(0,m.mergeDeep)({},e.ortb2||{},n),o=(0,m.deepAccess)(e.ortb2Imp,"ext")||{},s=(0,m.deepAccess)(e.ortb2Imp,"ext.data")||{},d=(0,m.deepAccess)(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},l=function(e,t,r){return"data"===t&&Array.isArray(e)?e.filter((function(e){return e.segment&&(0,m.deepAccess)(e,"ext.segtax")&&c[r]&&-1!==c[r].indexOf((0,m.deepAccess)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString():("object"!==(0,a.default)(e)||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((function(e){if("object"!==(0,a.default)(e)&&void 0!==e)return e.toString();(0,m.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0},p=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=l(e,n,t),a=u[n]&&i?"".concat(u[n]):"data"===n?"".concat(u[t],"iab"):"".concat(u[t]).concat(n);r[a]=r[a]?r[a].concat(",",o):o};t===f.BANNER?(["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(t){"site"===e&&"content"===t&&i[e][t].data?p(i[e][t].data,e,"data"):"ext"!==t?p(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach((function(t){p(i[e].ext.data[t],e,t,!1)}))}))})),Object.keys(s).forEach((function(e){"adserver"!==e?p(s[e],"site",e):"gam"===s[e].name&&p(s[e].adslot,name,e)})),d&&(r.p_gpid=d),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(o).length&&(0,m.mergeDeep)(r.imp[0].ext,o),d&&(r.imp[0].ext.gpid=d),(0,m.mergeDeep)(r,i))}(e,f.BANNER,h),!0===l.config.getConfig("coppa")&&(h.coppa=1),e.schain&&N(e.schain)&&(h.rp_schain=w.serializeSupplyChain(e.schain)),h},serializeSupplyChain:function(e){if(!N(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return"".concat(t,",").concat(r,"!").concat(w.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){e=e.body;var r=t.data;if(!e||"object"!==(0,a.default)(e))return[];if(e.seatbid){var n=(0,m.deepAccess)(e,"ext.errors.rubicon");return Array.isArray(n)&&n.length>0&&(0,m.logWarn)("Rubicon: Error in video response"),_.fromORTB({request:r,response:e}).bids}var i,s=e.ads,d=0,c=t.bidRequest;return"object"===(0,a.default)(c)&&!Array.isArray(c)&&R(c).includes(f.VIDEO)&&"object"===(0,a.default)(s)&&(s=s[c.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(t,r,n){if(r.impression_id&&i===r.impression_id?d++:i=r.impression_id,"ok"!==r.status)return t;var s,u,l=Array.isArray(c)?c[n-d]:c;if(l&&"object"===(0,a.default)(l)){var p={requestId:l.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==E.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:f.BANNER}};if(r.creative_type&&(p.mediaType=r.creative_type),r.adomain&&(p.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===f.VIDEO)p.width=l.params.video.playerWidth,p.height=l.params.video.playerHeight,p.vastUrl=r.creative_depot_url,p.impression_id=r.impression_id,p.videoCacheKey=r.impression_id;else{p.ad=(s=r.script,u=r.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(u,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var g=A[r.size_id].split("x").map((function(e){return Number(e)})),v=(0,o.default)(g,2);p.width=v[0],p.height=v[1]}p.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:l.adUnitCode}),t.push(p)}else(0,m.logError)("Rubicon: bidRequest undefined at index position:".concat(n),c,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,r,n,i){if(!B&&e.iframeEnabled){var o,a={};if(r&&("boolean"==typeof r.gdprApplies&&(a.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(a.gdpr_consent=r.consentString)),n&&(a.us_privacy=encodeURIComponent(n)),null!=i&&i.gppString)a.gpp=i.gppString,a.gpp_sid=null===(o=i.applicableSections)||void 0===o?void 0:o.toString();return a=Object.keys(a).length?"?".concat((0,m.formatQS)(a)):"",B=!0,{type:"iframe",url:"https://".concat(E.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,t){return(0,b.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function O(e,t){var r;return r=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?r.replace(/^http:/i,"https:"):r}function T(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:r,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function C(e,t){var r=e.params;if(t===f.VIDEO){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray((0,m.deepAccess)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var i=[];return Array.isArray(r.sizes)?i=r.sizes:void 0!==(0,m.deepAccess)(e,"mediaTypes.banner.sizes")?i=x(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=x(e.sizes):(0,m.logWarn)("Rubicon: no sizes are setup or found"),D(i)}function x(e){return(0,m.parseSizesInput)(e).reduce((function(e,t){var r=parseInt(A[t],10);return r&&e.push(r),e}),[])}function P(e){var t=void 0!==(0,m.deepAccess)(e,"mediaTypes.".concat(f.VIDEO)),r=void 0!==(0,m.deepAccess)(e,"mediaTypes.".concat(f.BANNER)),n=void 0!==(0,m.deepAccess)(e,"params.bidonmultiformat"),i="object"!==(0,a.default)((0,m.deepAccess)(e,"params.video"));return!(!t||!n)||(r&&i&&(t=!1),t&&i&&(0,m.deepSetValue)(e,"params.video",{}),t)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];if(P(e)){if(-1===["outstream","instream"].indexOf((0,m.deepAccess)(e,"mediaTypes.".concat(f.VIDEO,".context"))))return t&&(0,m.logError)("Rubicon: mediaTypes.video.context must be outstream or instream"),r;if(C(e,f.VIDEO).length<2)return t&&(0,m.logError)("Rubicon: could not determine the playerSize of the video"),r;t&&(0,m.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),r.push(f.VIDEO)}if(void 0!==(0,m.deepAccess)(e,"mediaTypes.".concat(f.NATIVE))&&r.push(f.NATIVE),void 0!==(0,m.deepAccess)(e,"mediaTypes.".concat(f.BANNER))){if(0===C(e,f.BANNER).length)return t&&(0,m.logError)("Rubicon: could not determine the sizes for banner request"),r;t&&(0,m.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),r.push(f.BANNER)}return r}t.spec=w;function D(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r}))}function k(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function j(e){var t=!0,r=Object.prototype.toString.call([]),n={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0),api:r};return Object.keys(n).forEach((function(r){Object.prototype.toString.call((0,m.deepAccess)(e,"mediaTypes.video."+r))!==n[r]&&(t=!1,(0,m.logError)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+n[r]))})),t}function N(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||(0,m.logError)("Rubicon: required schain params missing"),t):t}function M(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}t.resetRubiConf=function(){return E={}};var B=!1;(0,u.registerBidder)(w),(0,s.registerModule)("rubiconBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getPlatform=C,t._isInbounds=t.spec=void 0,r(1),r(17);var n=v(r(6)),i=v(r(23)),o=v(r(11)),a=r(8),s=r(36),d=r(0),c=r(25),u=r(4),l=r(52),f=r(127),p=r(58),g=r(178),m=r(176);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}var y="sonobi",h=(0,d.generateUUID)(),I="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",S={code:y,gvlid:104,supportedMediaTypes:[c.BANNER,c.VIDEO],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!(0,d.deepAccess)(e,"mediaTypes.banner")&&!(0,d.deepAccess)(e,"mediaTypes.video"))return!1;if((0,d.deepAccess)(e,"mediaTypes.banner")){if(!(0,d.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,d.deepAccess)(e,"mediaTypes.video")){if("outstream"===(0,d.deepAccess)(e,"mediaTypes.video.context")&&!(0,d.deepAccess)(e,"mediaTypes.video.playerSize"))return!1;if("instream"===(0,d.deepAccess)(e,"mediaTypes.video.context")&&!(0,d.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var r=e.map((function(e){var t=function(e){if(e.params.ad_unit)return e.params.ad_unit;return e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,(0,o.default)({},"".concat(t,"|").concat(e.bidId),"".concat(E(e),"|").concat(A(e)).concat(_(e)).concat(w(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?(0,o.default)({},e.bidId,"".concat(t,"|").concat(E(e),"|").concat(A(e)).concat(_(e)).concat(w(e))):void(0,d.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))})),n={};r.forEach((function(e){b(n,e)}));var a={key_maker:JSON.stringify(n),ref:t.refererInfo.page,s:(0,d.generateUUID)(),pv:h,vp:C(),lib_name:"prebid",lib_v:"8.20.0",us:0,iqid:p.bidderSettings.get(y,"storageAllowed")?JSON.stringify(x()):null},s=t.ortb2;s&&(a.fpd=JSON.stringify(s)),u.config.getConfig("userSync")&&u.config.getConfig("userSync").syncsPerBidder&&(a.us=u.config.getConfig("userSync").syncsPerBidder),f.userSync.canBidderRegisterSync("iframe",y)?a.ius=1:a.ius=0,(0,d.deepAccess)(e[0],"params.hfa")&&(a.hfa=(0,d.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(a.ref=e[0].params.referrer),t&&t.gdprConsent&&(a.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(a.consent_string=t.gdprConsent.consentString)),e[0].schain&&(a.schain=JSON.stringify(e[0].schain));var c=(0,d.deepAccess)(e[0],"userIdAsEids");Array.isArray(c)&&c.length>0&&(a.eids=JSON.stringify(c));var l=g.getAllOrtbKeywords.apply(void 0,[t.ortb2].concat((0,i.default)(e.map((function(e){return e.params.keywords}))))).join(",");if(l&&(a.kw=l),t&&t.uspConsent&&(a.us_privacy=t.uspConsent),!0===u.config.getConfig("coppa")?a.coppa=1:a.coppa=0,(0,d.isEmpty)(n))return null;var m="https://apex.go.sonobi.com/trinity.json";return(0,d.deepAccess)(e[0],"params.bid_request_url")&&(m=(0,d.deepAccess)(e[0],"params.bid_request_url")),{method:"GET",url:m,withCredentials:!0,data:a,bidderRequests:e}},interpretResponse:function(e,t){var r=e.body,i=[],o=t.data.ref;return 0===Object.keys(r.slots).length||Object.keys(r.slots).forEach((function(e){var a=r.slots[e],s=function(e){return e.split("|").slice(-1)[0]}(e),c=function(e,t){for(var r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(t.bidderRequests,s),u=null;"video"===a.sbi_ct&&(u="video","outstream"===(0,d.deepAccess)(c,"mediaTypes.video.context")&&(u="outstream"));var f=O(u,o);if(a.sbi_aid&&a.sbi_mouse&&a.sbi_size){var p=a.sbi_size.split("x"),g=(0,n.default)(p,2),m=g[0],v=void 0===m?1:m,b=g[1],y=void 0===b?1:b,h=[];a.sbi_adomain&&(h=[a.sbi_adomain]);var S={requestId:s,cpm:Number(a.sbi_mouse),width:Number(v),height:Number(y),ad:f(r.sbi_dc,a.sbi_aid),ttl:500,creativeId:a.sbi_crid||a.sbi_aid,aid:a.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:h}};if(a.sbi_dozer&&(S.dealId=a.sbi_dozer),"video"===u)S.mediaType="video",S.vastUrl=f(r.sbi_dc,a.sbi_aid),delete S.ad,delete S.width,delete S.height;else if("outstream"===u&&c){delete S.ad,S.mediaType="video",S.vastUrl=f(r.sbi_dc,a.sbi_aid),S.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=l.Renderer.install({id:t.aid,url:I,config:r,loaded:!1,adUnitCode:e});try{n.setRender(P)}catch(e){(0,d.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return(0,d.logMessage)("Sonobi outstream video impression event")},loaded:function(){return(0,d.logMessage)("Sonobi outstream video loaded event")},ended:function(){(0,d.logMessage)("Sonobi outstream renderer video event")}}),n}(c.adUnitCode,S,(0,d.deepAccess)(c,"renderer.options"));var E=(0,d.deepAccess)(c,"mediaTypes.video.playerSize");E&&(S.width=E[0],S.height=E[1])}i.push(S)}})),i},getUserSyncs:function(e,t,r,n){var i=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach((function(e){i.push({type:e.type,url:e.url})}))}catch(e){}return i}};function E(e){var t=[];return(0,d.deepAccess)(e,"mediaTypes.video.playerSize")&&t.push((0,d.deepAccess)(e,"mediaTypes.video.playerSize")),(0,d.deepAccess)(e,"mediaTypes.video.sizes")&&t.push((0,d.deepAccess)(e,"mediaTypes.video.sizes")),(0,d.deepAccess)(e,"params.sizes")&&t.push((0,d.deepAccess)(e,"params.sizes")),(0,d.deepAccess)(e,"mediaTypes.banner.sizes")&&t.push((0,d.deepAccess)(e,"mediaTypes.banner.sizes")),(0,d.deepAccess)(e,"sizes")&&t.push((0,d.deepAccess)(e,"sizes")),(0,i.default)(new Set(d.parseSizesInput.apply(void 0,t))).join(",")}function A(e){var t=function(e){if(!(0,d.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,d.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return""}(e);return t?"f=".concat(t,","):""}function _(e){var t=(0,d.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||(0,d.deepAccess)((0,m.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return t?"gpid=".concat(t,","):""}function w(e){var t;(0,d.deepAccess)(e,"mediaTypes.video")?t="video":(0,d.deepAccess)(e,"mediaTypes.banner")&&(t="display");var r="";if("video"===t){if(r="c=v,",(0,d.deepAccess)(e,"mediaTypes.video.playbackmethod")&&(r="".concat(r,"pm=").concat((0,d.deepAccess)(e,"mediaTypes.video.playbackmethod").join(":"),",")),(0,d.deepAccess)(e,"mediaTypes.video.placement")){var n=(0,d.deepAccess)(e,"mediaTypes.video.placement");r="".concat(r,"p=").concat(n,",")}if((0,d.deepAccess)(e,"mediaTypes.video.plcmt")){var i=(0,d.deepAccess)(e,"mediaTypes.video.plcmt");r="".concat(r,"pl=").concat(i,",")}}else"display"===t&&(r="c=d,");return r}t.spec=S;var O=function(e,t){return function(r,n){return"video"===e||"outstream"===e?function(e,t,r){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(r))}(r,n,t):'<script type="text/javascript" src="'+"https://".concat(r,"apex.go.sonobi.com/sbi.js?aid=").concat(n,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>'}};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=t&&e.innerWidth<r}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=T(e),r={lt:768},n={lt:992,ge:768};return t(0,r.lt)?"mobile":t(n.ge,n.lt)?"tablet":"desktop"}function x(){var e,t,r="_iiq_fdata",n=function(){if(void 0!==e)return e;try{return e=!!window.localStorage}catch(t){e=!1}return!1},i=function(e){try{return JSON.parse(e)}catch(e){return null}}(function(e){return n()?window.localStorage.getItem(e):null}(r));i&&i.pcid?i&&!i.pcidDate&&(i.pcidDate=Date.now()):i={pcid:(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))),pcidDate:Date.now()};return function(e,t){try{n()&&window.localStorage.setItem(e,t)}catch(e){return null}}(r,JSON.stringify(i)),i}function P(e){e.renderer.push((function(){var t=e.getSize().split("x"),r=(0,n.default)(t,2),i=r[0],o=r[1],a=new window.SbiOutstreamRenderer;a.init({vastUrl:e.vastUrl,height:o,width:i}),a.setRootElement(e.adUnitCode)}))}t._isInbounds=T,(0,s.registerBidder)(S),(0,a.registerModule)("sonobiBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidToVideoImp=K,t.bidToNativeImp=Q,t.combineImps=_e,t.deduplicateImpExtFields=we,t.removeSiteIDs=Oe,t.addDeviceInfo=Ce,t.spec=t.FEATURE_TOGGLES=t.storage=t.LOCAL_STORAGE_FEATURE_TOGGLES_KEY=t.ERROR_CODES=void 0,r(1),r(96),r(97),r(9);var n=S(r(6)),i=S(r(23)),o=S(r(11)),a=S(r(18)),s=r(8),d=r(0),c=r(25),u=r(4),l=S(r(20)),f=r(34),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(53)),g=r(15),m=r(36),v=r(103),b=r(52),y=r(176),h=r(104);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T="ix",C="roundel",x=[c.BANNER,c.VIDEO,c.NATIVE],P=[144,144],R={JPY:1},D="p",k="x",j={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9};t.ERROR_CODES=j;var N={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},M={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},B=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],U=["mimes","minduration","maxduration"],L=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],V="ixdiag",z="".concat(T,"_features");t.LOCAL_STORAGE_FEATURE_TOGGLES_KEY=z;var q=!1,F=(0,f.getStorageManager)({bidderCode:T});t.storage=F;var G={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,d.deepAccess)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(F.localStorageIsEnabled()){var e=(0,d.safeJSONParse)(F.getDataFromLocalStorage(z));(0,d.deepAccess)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,n=(0,d.deepAccess)(t,"ext.features");n&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:n},F.localStorageIsEnabled()&&F.setDataInLocalStorage(z,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},F.localStorageIsEnabled()&&F.removeDataFromLocalStorage(z)}};t.FEATURE_TOGGLES=G;var W=0,H="",Y="",X=!1,J=2;function K(e){var t=$(e,c.VIDEO),r=(0,d.deepAccess)(e,"mediaTypes.video"),n=(0,d.deepAccess)(e,"params.video");if(ne(r,n).length)return{};for(var i in t.video=n?(0,d.deepClone)(e.params.video):{},t.ext.tid=(0,d.deepAccess)(e,"ortb2Imp.ext.tid"),function(e,t){if((0,d.deepAccess)(t,"mediaTypes.video.context")===v.OUTSTREAM){var r=(0,d.deepAccess)(t,"mediaTypes.video.renderer");if(r||(r=(0,d.deepAccess)(t,"renderer")),(0,d.deepAccess)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"===(0,a.default)(r)){if(void 0!==r.url){var n="";try{n=new URL(r.url).hostname}catch(e){return}n.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(t,e),ue(t,e),r)-1===L.indexOf(i)||t.video.hasOwnProperty(i)||(t.video[i]=r[i]);if(t.video.minduration>t.video.maxduration)return(0,d.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:T,code:j.VIDEO_DURATION_INVALID}),{};var o=n&&n.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,d.isInteger)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,d.logWarn)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),o&&!t.video.hasOwnProperty("placement")&&(o===v.INSTREAM?t.video.placement=1:o===v.OUTSTREAM?(0,d.deepAccess)(n,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,X=!0):(0,d.logWarn)("IX Bid Adapter: Video context '".concat(o,"' is not supported"))),!t.video.w||!t.video.h){var s=ie((0,d.deepAccess)(t,"video.playerSize"))||ie((0,d.deepAccess)(e,"params.size"));if(!s)return(0,d.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=s[0],t.video.h=s[1]}return Z(e,t,c.VIDEO),t}function Q(e){var t=$(e,c.NATIVE),r=e.nativeOrtbRequest;return r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"},t.ext.tid=(0,d.deepAccess)(e,"ortb2Imp.ext.tid"),ue(t,e),Z(e,t,c.NATIVE),t}function $(e,t){var r={};if(r.id=e.bidId,r.ext={},(0,d.deepAccess)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case c.BANNER:r.ext.siteID=e.params.banner.siteId.toString();break;case c.VIDEO:r.ext.siteID=e.params.video.siteId.toString();break;case c.NATIVE:r.ext.siteID=e.params.native.siteId.toString()}else r.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id)),r}function Z(e,t,r){var n=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,d.isFn)(e.getFloor)){var o="*",a="*";if(r&&(0,d.contains)(x,r)){var s=t[r];o=r,a=[s.w,s.h]}try{i=e.getFloor({mediaType:o,size:a})}catch(e){(0,d.logWarn)("priceFloors module call getFloor failed, error : ",e)}}var u=!1;i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=D,u=!0):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=k,u=!0),u&&(r==c.BANNER?((0,d.deepSetValue)(t,"banner.ext.bidfloor",t.bidfloor),(0,d.deepSetValue)(t,"banner.ext.fl",t.ext.fl)):r==c.VIDEO?((0,d.deepSetValue)(t,"video.ext.bidfloor",t.bidfloor),(0,d.deepSetValue)(t,"video.ext.fl",t.ext.fl)):((0,d.deepSetValue)(t,"native.ext.bidfloor",t.bidfloor),(0,d.deepSetValue)(t,"native.ext.fl",t.ext.fl)))}function ee(e,t,r){var n={},i=!(!(0,d.deepAccess)(e,"exp")||!(0,d.isInteger)(e.exp)),o=(0,d.deepAccess)(e,"dealid")||(0,d.deepAccess)(e,"ext.dealid");R.hasOwnProperty(t)?n.cpm=e.price/R[t]:n.cpm=e.price/100,n.requestId=e.impid,o&&(n.dealId=o),n.netRevenue=true,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=J||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(n.vastUrl=e.ext.vasturl):n.vastXml=e.adm;var a=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{a=JSON.parse(e.adm)}catch(e){(0,d.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==J?(n.width=r.video.w,n.height=r.video.h,n.mediaType=c.VIDEO,n.mediaTypes=r.mediaTypes,n.ttl=i?e.exp:3600):a&&a.native?(n.native={ortb:a.native},n.width=e.w?e.w:1,n.height=e.h?e.h:1,n.mediaType=c.NATIVE,n.ttl=i?e.exp:3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=c.BANNER,n.ttl=i?e.exp:300),n.meta={},n.meta.networkId=(0,d.deepAccess)(e,"ext.dspid"),n.meta.brandId=(0,d.deepAccess)(e,"ext.advbrandid"),n.meta.brandName=(0,d.deepAccess)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function te(e){return Array.isArray(e)&&2===e.length&&(0,d.isInteger)(e[0])&&(0,d.isInteger)(e[1])}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(te(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function ne(e,t){var r=[];e||(0,d.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var n,i=w(U);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e&&e.hasOwnProperty(o),s=t&&t.hasOwnProperty(o);a||s||r.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){i.e(e)}finally{i.f()}var c=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),f=t&&t.hasOwnProperty("protocols");return c||u||l||f||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return te(e)?e:!!te(e[0])&&e[0]}function oe(e,t,r){if(e)return _(_({},(0,g.find)(r,(function(t){return t.bidId===e}))),(0,g.find)(t,(function(t){return t.id===e})))}function ae(e,t,r,n){var i="https://htlb.casalemedia.com/openrtb/pbjs",o=function(e){var t=[],r={};if((0,d.isArray)(e)){var n,i=w(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;M.hasOwnProperty(o.source)&&(0,d.deepAccess)(o,"uids.0")&&(r[o.source]=!0,""!=M[o.source]&&(o.uids[0].ext={rtiPartner:M[o.source]}),delete o.uids[0].atype,t.push(o))}}catch(e){i.e(e)}finally{i.f()}}return{toSend:t,seenSources:r}}((0,d.deepAccess)(e,"0.userIdAsEids")),s=o.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"===(0,a.default)(r))for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];!i.responsePending&&i.data&&"object"===(0,a.default)(i.data)&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}(s,o),t&&t.bidderCode===C&&!o.seenSources["liveramp.com"])return[];var c=[],l=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=F.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);l=function(e,t){t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:G.isFeatureEnabled(t)}})));return e}(l,G.REQUESTED_FEATURE_TOGGLES);var f=function(e,t){var r,n=e.map((function(e){return e.adUnitCode})).filter((function(e,t,r){return r.indexOf(e)===t})),i={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.20.0",userIds:fe(e[0]),url:window.location.href.split("?")[0],vpd:X,ae:t},o=w(n);try{var a=function(){var t=r.value,n=e.filter((function(e){return e.adUnitCode===t}))[0];(0,d.deepAccess)(n,"mediaTypes")&&(Object.keys(n.mediaTypes).length>1&&i.mfu++,(0,d.deepAccess)(n,"mediaTypes.native")&&i.nu++,(0,d.deepAccess)(n,"mediaTypes.banner")&&i.bu++,"outstream"===(0,d.deepAccess)(n,"mediaTypes.video.context")&&(i.ou++,Se(n)&&(i.ren=!0)),"instream"===(0,d.deepAccess)(n,"mediaTypes.video.context")&&i.iu++,i.allu++)};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return i}(e,(0,d.deepAccess)(t,"fledgeEnabled"));for(var p in f)l.ext.ixdiag[p]=f[p];l=function(e,t,r,n,i){var o,a,s=(0,d.deepAccess)(t,"timeout");s&&(e.ext.ixdiag.tmax=s);u.config.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=u.config.getConfig("userSync").syncsPerBidder);var c=function(){if(!F.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(F.getDataFromLocalStorage(V)||"{}")}catch(e){return(0,d.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(n){"number"==typeof e[r][n]&&(t[n]=t[n]?t[n]+e[r][n]:e[r][n])}))})),t}();(0,d.isEmpty)(c)||(e.ext.ixdiag.err=c);e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:null==t||null===(o=t.ortb2)||void 0===o||null===(a=o.source)||void 0===a?void 0:a.tid},n[0].schain&&(e.source.ext={},e.source.ext.schain=n[0].schain);i.length>0&&(e.user={},e.user.eids=i);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(l,t,r,e,s),l=function(e,t){if(t){t.gdprConsent&&((H=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:H.gdprApplies?1:0}}),H.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:H.consentString||""},H.hasOwnProperty("addtlConsent")&&H.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:H.addtlConsent}))),t.uspConsent&&((0,d.deepSetValue)(e,"regs.ext.us_privacy",t.uspConsent),Y=t.uspConsent);var r=(0,d.deepAccess)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,d.deepSetValue)(e,"regs.gpp",t.gppConsent.gppString),(0,d.deepSetValue)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}u.config.getConfig("coppa")&&(0,d.deepSetValue)(e,"regs.coppa",1);return e}(l,t);var g={};W=e[0].params.siteId,g.s=W;for(var m=Object.keys(r),v=!1,b=0;b<m.length&&!(c.length>=4);b++){l=se(r,m,l,b);var y=(0,d.deepAccess)(t,"ortb2")||{},h=_({},y.site||y.context);h.page=de(t);var I=_({},y.user);(0,d.isEmpty)(y)||v||((l=ce(t,l,y,h,I)).site=(0,d.mergeDeep)({},l.site,h),l.user=(0,d.mergeDeep)({},l.user,I),v=!0),l=le(r,l,m,b,g,i);var S=b===m.length-1;l=Oe(l=we(l=Ce(l))),S&&(c.push({method:"POST",url:i+"?s="+W,data:(0,d.deepClone)(l),option:{contentType:"text/plain"},validBidRequests:e}),l.imp=[],v=!1)}return c}function se(e,t,r,n){var o=e[t[n]],a=o.missingImps,s=void 0===a?[]:a,u=o.ixImps,l={ixImps:void 0===u?[]:u,missingBannerImpressions:s},f=Object.keys(l).map((function(e){return l[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,(0,i.default)(t))}),[]),p=e[t[n]].gpid,g=e[t[n]].dfp_ad_unit_code,m=e[t[n]].tid,v=e[t[n]].sid,b=e[t[n]].ae,y=f.filter((function(e){return c.BANNER in e})),h=f.filter((function(e){return!(c.BANNER in e)}));if(y.length>0){var I=y.reduce((function(e,t){return e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e}),{});for(var S in I){for(var A=I[S],_=A[0],w={id:_.id,banner:{topframe:_.banner.topframe,format:A.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},O=0;O<w.banner.format.length;O++)null!=w.banner.format[O].ext&&null!=w.banner.format[O].ext.sid&&delete w.banner.format[O].ext.sid,"bidfloor"in A[O]&&(w.banner.format[O].ext.bidfloor=A[O].bidfloor);var T=e[t[n]].pos;(0,d.isInteger)(T)&&(w.banner.pos=T),(g||p||m||v||b)&&(w.ext={},w.ext.dfp_ad_unit_code=g,w.ext.gpid=p,w.ext.tid=m,w.ext.sid=v,1==b&&(w.ext.ae=1)),"bidfloor"in A[0]&&(w.bidfloor=A[0].bidfloor),"bidfloorcur"in A[0]&&(w.bidfloorcur=A[0].bidfloorcur);var C=e[t[n]].adUnitFPD;C&&(0,d.deepSetValue)(w,"ext.data",C),r.imp.push(w)}}return h.length>0&&h.forEach((function(e){if((0,d.deepSetValue)(e,"ext.gpid",p),r.imp.length>0){var t=!1;r.imp.forEach((function(n,i){e.id===n.id&&c.VIDEO in e?(n.video=e.video,n.video.ext=E({},e.video.ext,e.ext),(0,d.deepAccess)(n,"video.ext.bidfloor",!1)&&(0,d.deepAccess)(n,"bidfloor",!1)&&n.video.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.video.ext.bidfloor),!(0,d.deepAccess)(n,"ext.siteID",!1)&&(0,d.deepAccess)(e,"video.ext.siteID")&&((0,d.deepSetValue)(n,"ext.siteID",e.video.ext.siteID),(0,d.deepSetValue)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===n.id&&c.NATIVE in e&&(n.native=e.native,n.native.ext=E({},e.native.ext,e.ext),(0,d.deepAccess)(n,"native.ext.bidfloor",!1)&&(0,d.deepAccess)(n,"bidfloor",!1)&&n.native.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.native.ext.bidfloor),!(0,d.deepAccess)(n,"ext.siteID",!1)&&(0,d.deepAccess)(e,"native.ext.siteID",!1)&&((0,d.deepSetValue)(n,"ext.siteID",e.native.ext.siteID),(0,d.deepSetValue)(r,"ext.ixdiag.usid",!0)),t=!0)})),t||r.imp.push(e)}else r.imp.push(e)})),r}function de(e){var t=e&&e.bidderCode||"ix",r=u.config.getConfig(t),i="";if((i=(0,d.deepAccess)(e,"ortb2.site.page")?e.ortb2.site.page:(0,d.deepAccess)(e,"refererInfo.page"),r)&&"object"===(0,a.default)(r.firstPartyData))return function(e,t,r){var i;try{i=new URL(t)}catch(r){(0,d.logWarn)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),i=new URL((0,d.deepAccess)(e,"refererInfo.page"))}for(var o=new URLSearchParams(i.search),a=0,s=Object.entries(r);a<s.length;a++){var c=(0,n.default)(s[a],2),u=c[0],l=c[1];o.has(u)||o.append(u,l)}return i.search=o.toString(),i.toString()}(e,i,r.firstPartyData);return i}function ce(e,t,r,n,i){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach((function(e){-1===N.SITE.indexOf(e)&&delete n[e]})),Object.keys(i).forEach((function(e){-1===N.USER.indexOf(e)&&delete i[e]})),r.device){var o=_({},r.device.sua);(0,d.isEmpty)(o)||(0,d.deepSetValue)(t,"device.sua",o)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,d.deepSetValue)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,d.deepSetValue)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function ue(e,t){var r=(0,d.deepAccess)(t,"ortb2Imp.ext.data");r&&(0,d.deepSetValue)(e,"ext.data",r)}function le(e,t,r,n,i,o){var a=e[r[n]].pbadslot,s=e[r[n]].tagId,d=e[r[n]].adUnitCode,c=e[r[n]].divId;return(a||s||d||c)&&(t.ext.ixdiag.pbadslot=a,t.ext.ixdiag.tagid=s,t.ext.ixdiag.adunitcode=d,t.ext.ixdiag.divId=c),t}function fe(e){var t=e.userId||{};return B.filter((function(e){return t[e]}))}function pe(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function ge(e,t){var r=Q(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,d.deepAccess)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,d.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,d.deepAccess)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,d.deepAccess)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:(0,y.getGptSlotInfoForAdUnitCode)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}function me(e,t){var r=K(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,d.deepAccess)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,d.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,d.deepAccess)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,d.deepAccess)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:(0,y.getGptSlotInfoForAdUnitCode)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}function ve(e,t,r,n){var i=function(e){var t=$(e,c.BANNER);t.banner={},t.adunitCode=e.adUnitCode;var r=(0,d.deepAccess)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,d.inIframe)()?0:1,Z(e,t,c.BANNER),t}(e),o=re((0,d.deepAccess)(e,"mediaTypes.banner.sizes"),(0,d.deepAccess)(e,"params.size"));if(r.hasOwnProperty(e.adUnitCode)||(r[e.adUnitCode]={}),r[e.adUnitCode].gpid=(0,d.deepAccess)(e,"ortb2Imp.ext.gpid"),r[e.adUnitCode].dfp_ad_unit_code=(0,d.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.adUnitCode].tid=(0,d.deepAccess)(e,"ortb2Imp.ext.tid"),r[e.adUnitCode].pbadslot=(0,d.deepAccess)(e,"ortb2Imp.ext.data.pbadslot"),r[e.adUnitCode].tagId=(0,d.deepAccess)(e,"params.tagId"),r[e.adUnitCode].pos=(0,d.deepAccess)(e,"mediaTypes.banner.pos"),(0,d.deepAccess)(n,"fledgeEnabled")){var a=(0,d.deepAccess)(e,"ortb2Imp.ext.ae");a?(0,d.isInteger)(a)?r[e.adUnitCode].ae=a:(0,d.logWarn)("error setting auction environment flag - must be an integer"):1==(0,d.deepAccess)(n,"defaultForSlots")&&(r[e.adUnitCode].ae=1)}var s=(0,d.deepAccess)(e,"ortb2Imp.ext.data");s&&(r[e.adUnitCode].adUnitFPD=s);var u=(0,d.deepAccess)(e,"params.id");!u||"string"!=typeof u&&"number"!=typeof u||(r[e.adUnitCode].sid=String(u));var l=e.adUnitCode,f=document.getElementById(l)?l:(0,y.getGptSlotInfoForAdUnitCode)(l).divId;r[e.adUnitCode].adUnitCode=l,r[e.adUnitCode].divId=f,o&&(r[e.adUnitCode].hasOwnProperty("ixImps")||(r[e.adUnitCode].ixImps=[]),r[e.adUnitCode].ixImps.push(i)),function(e,t,r){if(t.hasOwnProperty(e.adUnitCode)){var n=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(n=t[e.adUnitCode].missingSizes),pe(n,e.params.size),t[e.adUnitCode].missingSizes=n}else if((0,d.deepAccess)(e,"mediaTypes.banner.sizes")){var i=(0,d.deepClone)(e.mediaTypes.banner.sizes);pe(i,e.params.size);var o={missingSizes:i,impression:r};t[e.adUnitCode]=o}}(e,t,i)}function be(e,t,r){var n=(0,d.deepClone)(t);return n.banner.w=r[0],n.banner.h=r[1],Z(e,n,c.BANNER),n}function ye(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===T&&function(e){if(F.localStorageIsEnabled()){var t;try{t=JSON.parse(F.getDataFromLocalStorage(V)||"{}")}catch(e){(0,d.logWarn)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((function(e){var n=new Date(e);n.setDate(n.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===T){var n=r.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[n]=t[n]||{},Number(t[n][i])||(t[n][i]=0),t[n][i]++)}F.setDataInLocalStorage(V,JSON.stringify(t))}}(e)}function he(e){e.renderer.push((function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,y.getGptSlotInfoForAdUnitCode)(t).divId;r?window.createIXPlayer(r,e):(0,d.logWarn)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."))}))}function Ie(e,t){var r=b.Renderer.install({id:e,url:t,loaded:!1});try{r.setRender(he)}catch(e){return(0,d.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,d.logWarn)("Outstream renderer URL not found"),null)}function Se(e){if("outstream"!==(0,d.deepAccess)(e,"mediaTypes.video.context"))return!1;var t=(0,d.deepAccess)(e,"mediaTypes.video.renderer");return t||(t=(0,d.deepAccess)(e,"renderer")),!!("object"!==(0,a.default)(t)||!t.url||!t.render)||t.backupOnly}var Ee={code:T,gvlid:10,aliases:[{code:C,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:x,isBidRequestValid:function(e){q||(p.on(l.default.EVENTS.AUCTION_DEBUG,ye),p.on(l.default.EVENTS.AD_RENDER_FAILED,ye),q=!0);var t,r,n=(0,d.deepAccess)(e,"params.video"),i=(0,d.deepAccess)(e,"params.size"),o=(0,d.deepAccess)(e,"mediaTypes.banner.sizes"),a=(0,d.deepAccess)(e,"mediaTypes.video"),s=(0,d.deepAccess)(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),u=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,d.contains)(x,e.mediaType))return(0,d.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,d.deepAccess)(e,"mediaTypes.banner")&&!o)return!1;if(i){var f=ie(i);if(!f)return(0,d.logError)("IX Bid Adapter: size has invalid format.",{bidder:T,code:j.BID_SIZE_INVALID_FORMAT}),!1;if(!re(e.sizes,f)&&!re(s,f)&&!re(o,f))return(0,d.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:T,code:j.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,d.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:T,code:j.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,d.logError)("IX Bid Adapter: siteId must valid value",{bidder:T,code:j.SITE_ID_INVALID_VALUE}),!1;if((c||u)&&!(c&&u&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return(0,d.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:T,code:j.BID_FLOOR_INVALID_FORMAT}),!1;if(a&&n){var g=K(e).video,m=ne(a,n);if((0,d.deepAccess)(e,"mediaTypes.video.context")===v.OUTSTREAM&&Se(e)&&g){var b=[(0,d.deepAccess)(g,"w"),(0,d.deepAccess)(g,"h")];if(!(b[0]>=P[0]&&b[1]>=P[1]))return(0,d.logError)("IX Bid Adapter: ".concat(b," is an invalid size for IX outstream renderer")),!1}if(m.length)return m.forEach((function(e){(0,d.logError)(e,{bidder:T,code:j.PROPERTY_NOT_INCLUDED})})),!1}return function(e){return void 0===(0,d.deepAccess)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var r=[],n={},o={},a={},s={};for(var u in G.getFeatureToggles(),e.forEach((function(e){var r=Object.keys((0,d.deepAccess)(e,"mediaTypes",{}));for(var i in r)switch(r[i]){case c.BANNER:ve(e,s,n,t);break;case c.VIDEO:me(e,o);break;case c.NATIVE:ge(e,a);break;default:(0,d.logWarn)("IX Bid Adapter: ad unit mediaTypes ".concat(i," is not supported"))}})),s)if(s.hasOwnProperty(u)){var l=s[u].missingSizes;n.hasOwnProperty(u)||(n[u]={}),n[u].hasOwnProperty("missingImps")||(n[u].missingImps=[],n[u].missingCount=0);for(var f=s[u].impression,p=0;p<l.length;p++){var g=be(e[0],f,l[p]);n[u].missingImps.push(g),n[u].missingCount++}}var m=[];return Object.keys(n).length>0&&m.push(n),Object.keys(o).length>0&&m.push(o),Object.keys(a).length>0&&m.push(a),G.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,(0,i.default)(ae(e,t,_e(m)))):(Object.keys(n).length>0&&r.push.apply(r,(0,i.default)(ae(e,t,n))),Object.keys(o).length>0&&r.push.apply(r,(0,i.default)(ae(e,t,o))),Object.keys(a).length>0&&r.push.apply(r,(0,i.default)(ae(e,t,a)))),r},interpretResponse:function(e,t){var r=[],n=null,i=(0,d.deepAccess)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(G.setFeatureToggles(e),!e.hasOwnProperty("body"))return r;for(var o=e.body,s=o.seatbid||[],u=0;u<s.length;u++)if(s[u].hasOwnProperty("bid")){for(var l=s[u].bid,f=t.data,p=0;p<l.length;p++){var g=oe(l[p].impid,f.imp,t.validBidRequests);if((n=ee(l[p],o.cur,g)).mediaType===c.VIDEO&&Se(g)){var m=(0,d.deepAccess)(o,"ext.videoplayerurl");if(n.renderer=Ie(l[p].bidId,m),!n.renderer)continue}r.push(n)}if((0,d.deepAccess)(f,"ext.ixdiag.err")&&F.localStorageIsEnabled())try{F.removeDataFromLocalStorage(V)}catch(e){(0,d.logError)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(i)&&i.length>0))return r;i=i.filter((function(e){return!!function(e){return"object"===(0,a.default)(e)&&null!==e}(e)||((0,d.logWarn)("Malformed auction config detected:",e),!1)}));try{return{bids:r,fledgeAuctionConfigs:i}}catch(e){return(0,d.logWarn)("Error attaching AuctionConfigs",e),r}},transformBidParams:function(e,t){return(0,h.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){var r=[],n=null;if(t.length>0&&(n=(0,d.deepAccess)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==n&&0==n)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var i=null;u.config.getConfig("userSync")&&(i=u.config.getConfig("userSync").syncsPerBidder),0===i&&(i=n),i=n&&(0===i||i)?n>i?i:n:1;for(var o=0;o<i;o++)r.push({type:"image",url:Ae(i,o)})}return r}};function Ae(e,t){var r="",n="0";return H&&H.hasOwnProperty("gdprApplies")&&(n=H.gdprApplies?"1":"0"),H&&H.hasOwnProperty("consentString")&&(r=H.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+W.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+n+"&gdpr_consent="+r+"&us_privacy="+(Y||"")}function _e(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Object.keys(t).includes(r)?t[r].hasOwnProperty("ixImps")&&e[r].hasOwnProperty("ixImps")?t[r].ixImps=[].concat((0,i.default)(t[r].ixImps),(0,i.default)(e[r].ixImps)):t[r].hasOwnProperty("missingImps")&&e[r].hasOwnProperty("missingImps")?t[r].missingImps=[].concat((0,i.default)(t[r].missingImps),(0,i.default)(e[r].missingImps)):e[r].hasOwnProperty("ixImps")?t[r].ixImps=e[r].ixImps:e[r].hasOwnProperty("missingImps")&&(t[r].missingImps=e[r].missingImps):t[r]=e[r]}))})),t}function we(e){return e.imp.forEach((function(t,r){var n=t.ext;if(null==n)return e;Te(t)<2||Object.keys(n).forEach((function(i){if(c.BANNER in t){var o=t.banner.ext;if(void 0!==o&&void 0!==o[i]&&o[i]==n[i]&&delete e.imp[r].banner.ext[i],void 0!==t.banner.format)for(var a=0;a<t.banner.format.length;a++)null!=t.banner.format[a].ext&&null!=t.banner.format[a].ext[i]&&t.banner.format[a].ext[i]==n[i]&&delete e.imp[r].banner.format[a].ext[i]}if(c.VIDEO in t){var s=t.video.ext;void 0!==s&&void 0!==s[i]&&s[i]==n[i]&&delete e.imp[r].video.ext[i]}if(c.NATIVE in t){var d=t.native.ext;void 0!==d&&void 0!==d[i]&&d[i]==n[i]&&delete e.imp[r].native.ext[i]}}))})),e}function Oe(e){return e.imp.forEach((function(t,r){if(null==t.ext)return e;if(!(Te(t)<2)){if(c.BANNER in t){var n=t.banner.ext;if(void 0!==n&&void 0!==n.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var i=0;i<t.banner.format.length;i++)void 0!==t.banner.format[i].ext&&void 0!==t.banner.format[i].ext.siteID&&((0,d.deepSetValue)(e.imp[r],"ext.siteID",t.banner.format[i].ext.siteID),(0,d.deepSetValue)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[i].ext.siteID)}if(c.VIDEO in t){var o=t.video.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].video.ext.siteID}if(c.NATIVE in t){var a=t.native.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].native.ext.siteID}}})),e}function Te(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Ce(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}t.spec=Ee,(0,m.registerBidder)(Ee),(0,s.registerModule)("ixBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(9),r(17),r(165),r(166),r(167),r(168),r(169),r(170);var n=l(r(6)),i=l(r(18)),o=r(8),a=r(0),s=r(4),d=r(36),c=r(34),u=r(25);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}var p,g,m,v=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[u.BANNER,u.VIDEO]}),b=(0,c.getStorageManager)({bidderCode:v.CODE}),y=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),h=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),I=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),S=[I.BROWSERS,I.MOBILE,I.MODEL,I.SOURCE,I.PLATFORM],E=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});function A(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}function _(){return p||(p=A()),p}function w(e){try{return b.getDataFromLocalStorage(e)}catch(e){return null}}function O(e,t,r,n,i){var o=T._getCrb(),s={crbIDs:o.syncIds||{}};e&&(s.tdID=e),!e&&o.tdID&&(s.tdID=o.tdID),t&&(s.usp=t);try{r&&(s.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}if(null!=o.lexId&&(s.kargoID=o.lexId),null!=o.clientId&&(s.clientID=o.clientId),null!=o.optOut&&(s.optOut=o.optOut),null!=n&&(s.sharedIDEids=n),i){var d={};i&&i.consentString&&(d.gppString=i.consentString),i&&i.applicableSections&&(d.applicableSections=i.applicableSections),(0,a.isEmpty)(d)||(s.gpp=d)}return s}var T={gvlid:v.GVLID,code:v.CODE,isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,t){var r=s.config.getConfig(y.KEY),n=r&&r.adServerCurrency?r.adServerCurrency:null,i=[];(0,a._each)(e,(function(e){i.push(function(e){var t,r,n={id:e.bidId,tid:null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(n.floor=e.floorData.floorMin);e.bidRequestsCount>0&&(n.bidRequestCount=e.bidRequestsCount);e.bidderRequestsCount>0&&(n.bidderRequestCount=e.bidderRequestsCount);e.bidderWinsCount>0&&(n.bidderWinCount=e.bidderWinsCount);var i=(0,a.deepAccess)(e,"ortb2Imp.ext.gpid")||(0,a.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");i&&(n.fpd={gpid:i});null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(n.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(n.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(n.native=e.mediaTypes.native));return n}(e))}));var o=e[0],d=(0,a.deepAccess)(o,h.TDID_ADAPTER),c=function(e){var t;return{pageURL:null==e||null===(t=e.refererInfo)||void 0===t?void 0:t.page,rawCRB:b.getCookie(E.KEY),rawCRBLocalStorage:w(E.KEY)}}(t),u=f({},{pbv:"8.20.0",aid:o.auctionId,sid:_(),url:c.pageURL,timeout:t.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:i,user:O(d,t.uspConsent,t.gdprConsent,o.userIdAsEids,t.gppConsent)});null!=o.ortb2&&(u.site={cat:o.ortb2.site.cat}),o.schain&&o.schain.nodes&&(u.schain=o.schain);var l=function(){if(g===window.location.pathname)return++m;return g=window.location.pathname,m=0}();null!=l&&(u.requestCount=l),null!=n&&n!=y.US_DOLLAR&&(u.cur=n),null!=c.rawCRB&&(u.rawCRB=c.rawCRB),null!=c.rawCRBLocalStorage&&(u.rawCRBLocalStorage=c.rawCRBLocalStorage);var p=(0,a.deepAccess)(o,h.SOCIAL_CANVAS);null!=p&&(u.socan=p);var A=(0,a.deepAccess)(o,h.SUA);if(A){var T=[];S.forEach((function(e){var t=A[e];if(t&&("string"!=typeof t||""!==t.trim()))switch(e){case I.MOBILE&&t<1:case I.SOURCE&&t<1:break;default:T.push(e)}})),u.device.sua=(0,a.pick)(A,T)}var C=null!=w(E.PAGE_VIEW_ID),x=null!=w(E.PAGE_VIEW_TIMESTAMP),P=null!=w(E.PAGE_VIEW_URL),R={};return C&&(R.id=w(E.PAGE_VIEW_ID)),x&&(R.timestamp=Number(w(E.PAGE_VIEW_TIMESTAMP))),P&&(R.url=w(E.PAGE_VIEW_URL)),(0,a.isEmpty)(R)||(u.page=R),f({},t,{method:v.REQUEST_METHOD,url:"https://".concat(v.HOST).concat(v.REQUEST_ENDPOINT),data:u,currency:n})},interpretResponse:function(e,t){var r=e.body,o=[];return(0,a.isEmpty)(r)||"object"!==(0,i.default)(r)||Object.entries(r).forEach((function(e){var r=(0,n.default)(e,2),i=r[0],a=r[1],s={mediaType:a.mediaType&&v.SUPPORTED_MEDIA_TYPES.includes(a.mediaType)?a.mediaType:u.BANNER};a.metadata&&a.metadata.landingPageDomain&&(s.clickUrl=a.metadata.landingPageDomain[0],s.advertiserDomains=a.metadata.landingPageDomain);var d={requestId:i,cpm:Number(a.cpm),width:a.width,height:a.height,ttl:300,creativeId:a.id,dealId:a.targetingCustom,netRevenue:!0,currency:a.currency||t.currency,mediaType:s.mediaType,meta:s};s.mediaType==u.VIDEO?a.admUrl?d.vastUrl=a.admUrl:d.vastXml=a.adm:d.ad=a.adm,o.push(d)})),o},getUserSyncs:function(e,t,r,n,i){var o=[],a=A(),s=T._getCrb().clientId,d=r&&r.gdprApplies?1:0,c=r&&r.consentString?r.consentString:"",u=i&&i.consentString?i.consentString:"",l=i&&i.applicableSections&&Array.isArray(i.applicableSections)?i.applicableSections.join(","):"";if("string"==typeof n&&4==n.length&&1==n[0]&&"Y"==n[2])return o;if(e.iframeEnabled&&a&&s)for(var f=0;f<E.SYNC_COUNT;f++)o.push({type:"iframe",url:E.SYNC_URL.replace("{UUID}",s).replace("{SEED}",a).replace("{INDEX}",f).replace("{GDPR}",d).replace("{GDPR_CONSENT}",c).replace("{US_PRIVACY}",n||"").replace("{GPP_STRING}",u).replace("{GPP_SID}",l)});return o},supportedMediaTypes:v.SUPPORTED_MEDIA_TYPES,onTimeout:function(e){null!=e&&e.forEach((function(e){!function(e,t){var r={aid:e,ato:t};try{var n=(0,a.buildUrl)({protocol:"https",hostname:v.HOST,pathname:v.TIMEOUT_ENDPOINT,search:r});(0,a.triggerPixel)(n)}catch(e){}}(e.auctionId,e.timeout)}))},_getCrb:function(){var e=function(){try{return JSON.parse(atob(w(E.KEY)))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(b.getCookie(E.KEY));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}}()},_getSessionId:_};t.spec=T,(0,d.registerBidder)(T),(0,o.registerModule)("kargoBidAdapter")},function(e,t,r){"use strict";r(1),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.DEFAULT_PH=t.SYNC_URL=t.REQUEST_URL=void 0;var n=p(r(11)),i=p(r(6)),o=r(8),a=r(4),s=r(36),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(0)),c=r(25),u=r(131),l=r(104);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b="https://rtb.openx.net/openrtbb/prebidjs";t.REQUEST_URL=b;var y="https://u.openx.net/w/1.0/pd";t.SYNC_URL=y;var h="2d1251ae-7f3a-47cf-bd2a-2f288854a0ba";t.DEFAULT_PH=h;var I={code:"openx",gvlid:69,supportedMediaTypes:[c.BANNER,c.VIDEO],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;if(d.deepAccess(e,"mediaTypes.banner")&&t)return!!e.params.unit||d.deepAccess(e,"mediaTypes.banner.sizes.length")>0;return!(!e.params.unit||!t)},buildRequests:function(e,t){var r=e.filter((function(e){return A(e)})),n=e.filter((function(e){return function(e){return d.deepAccess(e,"mediaTypes.banner")||!A(e)}(e)})),i=n.length?[E(n,t,c.BANNER)]:[];return r.forEach((function(e){i.push(E([e],t,c.VIDEO))})),i},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return S.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled){var i=e.iframeEnabled?"iframe":"image",o=[],a=y;if(r&&(o.push("gdpr="+(r.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),n&&o.push("us_privacy="+encodeURIComponent(n)),t.length>0&&t[0].body&&t[0].body.ext){var s=t[0].body.ext;s.delDomain?a="https://".concat(s.delDomain,"/w/1.0/pd"):s.platform&&o.push("ph="+s.platform)}else o.push("ph="+h);return[{type:i,url:"".concat(a).concat(o.length>0?"?"+o.join("&"):"")}]}},transformBidParams:function(e,t){return(0,l.convertTypes)({unit:"string",customFloor:"number"},e)}};t.spec=I,(0,s.registerBidder)(I);var S=(0,u.ortbConverter)({context:{netRevenue:!0,ttl:300},imp:function(e,t,r){var n=e(t,r);return(0,d.mergeDeep)(n,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&d.deepSetValue(n,"ext.customParams",t.params.customParams),t.params.customFloor&&!n.bidfloor&&(n.bidfloor=t.params.customFloor),n},request:function(e,t,r,n){var i=e(t,r,n);(0,d.mergeDeep)(i,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0")}});var o=n.bidRequests[0];return o.params.coppa&&d.deepSetValue(i,"regs.coppa",1),o.params.doNotTrack&&d.deepSetValue(i,"device.dnt",1),o.params.platform&&d.deepSetValue(i,"ext.platform",o.params.platform),o.params.delDomain&&d.deepSetValue(i,"ext.delDomain",o.params.delDomain),o.params.response_template_name&&d.deepSetValue(i,"ext.response_template_name",o.params.response_template_name),o.params.test&&(i.test=1),i},bidResponse:function(e,t,r){var n=e(t,r);t.ext&&(n.meta.networkId=t.ext.dsp_id,n.meta.advertiserId=t.ext.buyer_id,n.meta.brandId=t.ext.brand_id);var i=r.ortbResponse;return i.ext&&i.ext.paf&&(n.meta.paf=g({},i.ext.paf),n.meta.paf.content_id=d.deepAccess(t,"ext.paf.content_id")),n},response:function(e,t,r,n){var o=n.ortbRequest;o.ext&&(o.ext.delDomain&&d.deepSetValue(r,"ext.delDomain",o.ext.delDomain),o.ext.platform&&d.deepSetValue(r,"ext.platform",o.ext.platform));var a=e(t,r,n),s=d.deepAccess(r,"ext.fledge_auction_configs");return s?(s=Object.entries(s).map((function(e){var t=(0,i.default)(e,2);return{bidId:t[0],config:g({auctionSignals:{}},t[1])}})),{bids:a.bids,fledgeAuctionConfigs:s}):a.bids},overrides:{imp:{bidfloor:function(e,t,r,n){var i={};e(i,r,v(v({},n),{},{currency:"USD"})),"USD"===i.bidfloorcur&&g(t,i)},video:function(e,t,r,i){var o,a=r.mediaTypes[c.VIDEO];a&&(a=g({},a,r.params.video),r=v(v({},r),{},{mediaTypes:(0,n.default)({},c.VIDEO,a)})),e(t,r,i),t.video&&"outstream"===(null===(o=a)||void 0===o?void 0:o.context)&&(t.video.placement=t.video.placement||4)}}}});function E(e,t,r){return{method:"POST",url:a.config.getConfig("openxOrtbUrl")||b,data:S.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:r}})}}function A(e){return d.deepAccess(e,"mediaTypes.video")}(0,o.registerModule)("openxBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.storage=void 0;var n,i=(n=r(11))&&n.__esModule?n:{default:n},o=r(8),a=r(0),s=r(36),d=r(34);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l="teads",f=12,p=11,g=0,m=22,v="_tfpvi",b=(0,d.getStorageManager)({bidderCode:l});t.storage=b;var y={code:l,gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;if(void 0!==e.params){var r=_((0,a.getValue)(e.params,"placementId")),n=_((0,a.getValue)(e.params,"pageId"));t=r&&n}return t||(0,a.logError)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){var r,n=e.map(A),i=u(u({referrer:h(t),pageReferrer:document.referrer,pageTitle:I().slice(0,300),pageDescription:S().slice(0,300),networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:E(window),data:n,deviceWidth:screen.width,hb_version:"8.20.0"},function(e){var t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"},r={};for(var n in t){var i=t[n],o=(0,a.deepAccess)(e,"0.userId.".concat(i));o&&(r[n]=o)}return r}(e)),function(e){var t=(0,a.deepAccess)(e,"0.userId.teadsId");if(t)return{firstPartyCookieTeadsId:t};if(b.cookiesAreEnabled(null)){var r=b.getCookie(v,null);if(r)return{firstPartyCookieTeadsId:r}}return{}}(e)),o=e[0];o.schain&&(i.schain=o.schain);var s=t.gdprConsent;if(t&&s){var d="boolean"==typeof s.gdprApplies,c="string"==typeof s.consentString,l=d?function(e,t){var r=f;e?t&&!t.isServiceSpecific&&(r=p):r=g;return r}(s.gdprApplies,s.vendorData):m;i.gdpr_iab={consent:c?s.consentString:"",status:l,apiVersion:s.apiVersion}}t&&t.uspConsent&&(i.us_privacy=t.uspConsent);var y=(0,a.deepAccess)(o,"ortb2.device.sua");return y&&(i.userAgentClientHints=y),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){var r=[];return(e=e.body).responses&&e.responses.forEach((function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)})),r}};function h(e){var t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function I(){try{var e=window.top.document.querySelector('meta[property="og:title"]');return window.top.document.title||e&&e.content||""}catch(e){var t=document.querySelector('meta[property="og:title"]');return document.title||t&&t.content||""}}function S(){var e;try{e=window.top.document.querySelector('meta[name="description"]')||window.top.document.querySelector('meta[property="og:description"]')}catch(t){e=document.querySelector('meta[name="description"]')||document.querySelector('meta[property="og:description"]')}return e&&e.content||""}function E(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,r=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(r)return r.toString();var n=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return n?n.toString():""}function A(e){var t,r,n={},i=(0,a.getValue)(e.params,"placementId"),o=(0,a.getValue)(e.params,"pageId"),s=(0,a.deepAccess)(e,"ortb2Imp.ext.gpid"),d=(0,a.deepAccess)(e,"mediaTypes.video.plcmt");return n.sizes=function(e){return(0,a.parseSizesInput)(function(e){var t=(0,a.deepAccess)(e,"mediaTypes.video.playerSize"),r=(0,a.deepAccess)(e,"mediaTypes.video.sizes"),n=(0,a.deepAccess)(e,"mediaTypes.banner.sizes");return(0,a.isArray)(n)||(0,a.isArray)(t)||(0,a.isArray)(r)?[n,r,t].reduce((function(e,t){return(0,a.isArray)(t)&&((0,a.isArray)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),n.bidId=(0,a.getBidIdParameter)("bidId",e),n.bidderRequestId=(0,a.getBidIdParameter)("bidderRequestId",e),n.placementId=parseInt(i,10),n.pageId=parseInt(o,10),n.adUnitCode=(0,a.getBidIdParameter)("adUnitCode",e),n.transactionId=(null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid)||"",s&&(n.gpid=s),d&&(n.videoPlcmt=d),n}function _(e){return parseInt(e)>0}t.spec=y,(0,s.registerBidder)(y),(0,o.registerModule)("teadsBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetUserSync=function(){j=!1},t.getSyncUrl=function(){return A},t.spec=t.storage=void 0,r(17),r(9);var n=v(r(260)),i=v(r(18)),o=v(r(6)),a=v(r(23)),s=v(r(11)),d=r(8),c=r(0),u=r(72),l=r(36),f=r(52),p=r(25),g=r(4),m=r(34);function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}var y=["mind","maxd","size","playerSize","protocols","durationRangeSec"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S="grid",E="https://grid.bidswitch.net/hbjson",A="https://x.bidswitch.net/sync?ssp=themediagrid",_="tmguid",w=(0,m.getStorageManager)({bidderCode:S});t.storage=w;var O="Bid from response has no adid parameter - ",T="Bid from response has no adm parameter - ",C="Array of bid objects is empty",x="Seatbid array from response has empty item",P="Response is empty",R="Response has empty seatbid array",D="Seatbid from response has no array of bid objects - ",k={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},j=!1,N={code:S,gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[p.BANNER,p.VIDEO],isBidRequestValid:function(e){return e&&Boolean(e.params.uid||e.params.secid)},buildRequests:function(e,t){var r,s,d,u;if(!e.length)return null;var l=null,f=null,m=null,v=null,h=null,S=null,A=null,O=!1,T=t||{},C=T.bidderRequestId,x=T.gdprConsent,P=T.uspConsent,R=T.timeout,D=T.refererInfo,j=T.gppConsent,N=D?encodeURIComponent(D.page):"",M=parseInt(R)||null,B=[],U={},L=[],V=[],z=[];e.forEach((function(e){var r={bid:e,savedPrebidBid:null};if(e.params.uid||e.params.secid){C||(C=e.bidderRequestId),m||(m=e.schain),v||(v=e.userIdAsEids),A||(A=k[e.bidder]&&k[e.bidder].endpoint);var a=e.params,s=e.mediaTypes,d=e.bidId,u=e.adUnitCode,g=e.rtd,h=e.ortb2Imp,S=I(I({},(k[e.bidder]||{}).defaultParams),a),E=S.secid,_=S.pubid,w=S.source,T=S.uid,x=S.keywords,P=S.forceBidder,R=S.multiRequest,D=S.content,j=S.video,q=function(e,t){var r=e.video?"video":"banner",n=parseFloat(t.params.bidFloor||t.params.floorcpm||0)||null;if("function"==typeof t.getFloor){var a=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){var t=(0,o.default)(e,2);return{w:t[0],h:t[1]}}))});"object"!==(0,i.default)(a)||"USD"!==a.currency||isNaN(parseFloat(a.floor))||(n=Math.max(n,parseFloat(a.floor)))}return n}(s||{},e),F=g&&g.jwplayer&&g.jwplayer.targeting;F&&!f&&F.content&&(f=F.content);var G,W,H,Y,X,J,K={id:d.toString(),tagid:(E||T).toString(),ext:{divid:u.toString()}};if(h)if(h.instl&&(K.instl=parseInt(h.instl)||null),h.ext)K.ext.gpid=(null===(G=h.ext.gpid)||void 0===G?void 0:G.toString())||(null===(W=h.ext.data)||void 0===W||null===(H=W.pbadslot)||void 0===H?void 0:H.toString())||(null===(Y=h.ext.data)||void 0===Y||null===(X=Y.adserver)||void 0===X||null===(J=X.adslot)||void 0===J?void 0:J.toString()),h.ext.data&&(K.ext.data=h.ext.data);if((0,c.isEmpty)(x)||(l||(l=x),K.ext.bidder={keywords:x}),q&&(K.bidfloor=q),!s||s[p.BANNER]){var Q=function(e,t){var r=t.sizes||e.sizes;if(!r||!r.length)return;var n=r.map((function(e){return(0,c.parseGPTSingleSizeArrayToRtbSize)(e)})),i=(0,c.parseGPTSingleSizeArrayToRtbSize)(r[0]);n.length&&(i.format=n);return i}(e,s?s[p.BANNER]:{});Q&&(K.banner=Q)}if(s&&s[p.VIDEO]){var $=function(e,t,r){var i=I(I({},t),e),o=i.mind,a=i.maxd,s=i.size,d=i.playerSize,u=i.protocols,l=i.durationRangeSec,f=void 0===l?[]:l,p=(0,n.default)(i,y);if(s&&(0,c.isStr)(s)){var g=s.split("x");2===g.length&&parseInt(g[0])&&parseInt(g[1])&&(p.w=parseInt(g[0]),p.h=parseInt(g[1]))}if(!p.w||!p.h){var m=((d||r||[]).toString().match(/^\d+,\d+/)||[])[0],v=m&&m.split(",").map((function(e){return parseInt(e)}));v&&2===v.length&&b(p,(0,c.parseGPTSingleSizeArrayToRtbSize)(v))}if(!p.w||!p.h)return;var h=o||f[0]||parseInt(p.minduration)||null,S=a||f[1]||parseInt(p.maxduration)||null;h&&(p.minduration=h);S&&(p.maxduration=S);u&&u.length&&(p.protocols=u);return p}(j,s[p.VIDEO],e.sizes);$&&(K.video=$)}if(K.banner||K.video)if(R){var Z,ee,te,re,ne={tid:null==t||null===(Z=t.ortb2)||void 0===Z||null===(ee=Z.source)||void 0===ee||null===(te=ee.tid)||void 0===te||null===(re=te.toString)||void 0===re?void 0:re.call(te),ext:{wrapper:"Prebid_js",wrapper_version:"8.20.0"}};e.schain&&(ne.ext.schain=e.schain);var ie={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:N},tmax:M,source:ne,imp:[K]};_&&(ie.site.publisher={id:_});var oe=D||F&&F.content;oe&&(ie.site.content=oe),L.push(ie),V.push(w),z.push(r)}else U[d]=r,B.push(K);!O&&P&&k[P]&&(O=P)}})),(O=g.config.getConfig("forceBidderName")||O)&&k[O]&&(A=k[O].endpoint,this.forceBidderName=O);var q={tid:null==t||null===(r=t.ortb2)||void 0===r||null===(s=r.source)||void 0===s||null===(d=s.tid)||void 0===d||null===(u=d.toString)||void 0===u?void 0:u.call(d),ext:{wrapper:"Prebid_js",wrapper_version:"8.20.0"}};m&&(q.ext.schain=m);var F=B.length||!L.length?{id:C&&C.toString(),site:{page:N},tmax:M,source:q,imp:B}:null;return f&&(F.site.content=f),[].concat(L,[F]).forEach((function(e){if(e){h=null;var r=(0,c.deepAccess)(t,"ortb2.user.data");r&&r.length&&(h={data:(0,a.default)(r)}),x&&x.consentString&&(S={consent:x.consentString});var n=(0,c.deepAccess)(t,"ortb2.user.ext.device");n&&((S=S||{}).device=I({},n)),v&&v.length&&((S=S||{}).eids=(0,a.default)(v)),S&&Object.keys(S).length&&((h=h||{}).ext=S);var o=w.getDataFromLocalStorage(_)||function(){if(g.config.getConfig("localStorageWriteAllowed")){var e=(0,c.generateUUID)().replace(/-/g,"");return w.setDataInLocalStorage(_,e),e}return null}();o&&((h=h||{}).id=o.toString()),h&&(e.user=h);var s=(0,c.deepAccess)(t,"ortb2.user.keywords")||null,d=(0,c.deepAccess)(t,"ortb2.site.keywords")||null;s&&((l=l||{}).user=l.user||{},l.user.ortb2=[{name:"keywords",keywords:s.split(",")}]),d&&((l=l||{}).site=l.site||{},l.site.ortb2=[{name:"keywords",keywords:d.split(",")}]),l&&(l=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n)if("site"===r||"user"===r){var o={};Object.keys(n).forEach((function(e){if(Array.isArray(n[e])){var t=[];n[e].forEach((function(e){if("object"===(0,i.default)(e)&&e.name){var r={name:e.name,segments:[]};Object.keys(e).forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){e&&("string"==typeof e?r.segments.push({name:t,value:e}):"segments"===t&&"string"==typeof e.name&&"string"==typeof e.value&&r.segments.push(e))}))})),r.segments.length&&t.push(r)}})),t.length&&(o[e]=t)}})),t[r]=o}else t[r]=n})),Object.keys(t).length&&t}(l))&&(e.ext={keywords:l}),x&&x.gdprApplies&&(e.regs={ext:{gdpr:x.gdprApplies?1:0}});var u=(0,c.deepAccess)(t,"ortb2.regs")||{};if(j||null!=u&&u.gpp){var f,p,m,b={gpp:null!==(f=null==j?void 0:j.gppString)&&void 0!==f?f:null==u?void 0:u.gpp,gpp_sid:null!==(p=null==j?void 0:j.applicableSections)&&void 0!==p?p:null==u?void 0:u.gpp_sid};e.regs=(0,c.mergeDeep)(null!==(m=null==e?void 0:e.regs)&&void 0!==m?m:{},b)}P&&(e.regs||(e.regs={ext:{}}),e.regs.ext||(e.regs.ext={}),e.regs.ext.us_privacy=P),!0===g.config.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);var y=(0,c.deepAccess)(t,"ortb2.site");if(y){var E=[].concat((0,a.default)(y.cat||[]),(0,a.default)(y.pagecat||[])).filter((function(e){return e&&"string"==typeof e}));E.length&&(e.site.cat=E);var A=(0,c.deepAccess)(y,"content.genre");A&&"string"==typeof A&&(e.site.content=I(I({},e.site.content),{},{genre:A}));var O=(0,c.deepAccess)(y,"content.data");if(O&&O.length){var T=e.site.content||{};e.site.content=(0,c.mergeDeep)(T,{data:O})}var C=(0,c.deepAccess)(y,"content.id");C&&(e.site.content=I(I({},e.site.content),{},{id:C}))}}})),[].concat((0,a.default)(L.map((function(e,t){var r,n=(A||E).replace(/[?&]sp=([^?&=]+)/,(function(e,t){return t&&(r=t),""})),i=V[t]||r;return{method:"POST",url:n+(n.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(i?"&sp=".concat(i):""),data:JSON.stringify(e),bidObject:z[t]}}))),(0,a.default)(F?[{method:"POST",url:A||E,data:JSON.stringify(F),bidsMap:U}]:[]))},interpretResponse:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.Renderer;e=e&&e.body;var n,i=[];e?e.seatbid&&!e.seatbid.length&&(n=R):n=P;var o=this.forceBidderName||this.code;return!n&&e.seatbid&&e.seatbid.forEach((function(e){B(M(e),t,i,r,o)})),n&&(0,c.logError)(n),i},getUserSyncs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[2],o=t[3];if(!j&&n.pixelEnabled){var a="";i&&("boolean"==typeof i.gdprApplies&&(a+="&gdpr=".concat(Number(i.gdprApplies))),"string"==typeof i.consentString&&(a+="&gdpr_consent=".concat(i.consentString))),o&&(a+="&us_privacy=".concat(o));var s=this.forceBidderName||this.code,d=k[s]&&k[s].syncurl||A;return j=!0,{type:"image",url:d+a}}},ajaxCall:function(e,t,r,n){return(0,u.ajax)(e,t,r,n)},onDataDeletionRequest:function(e){var t=[],r=[N.code].concat((0,a.default)(N.aliases.map((function(e){return e.code||e}))));e.forEach((function(e){var n=e.bids;return n&&n.forEach((function(e){var n=e.bidder,i=e.params;r.includes(n)&&i&&i.uid&&t.push(i.uid)}))})),t.length&&N.ajaxCall("https://media.grid.bidswitch.net/uspapi_delete",(function(){}),JSON.stringify({uids:t}),{contentType:"application/json",method:"POST"})}};function M(e){return e?e.bid?e.bid[0]||(0,c.logError)(C):(0,c.logError)(D+JSON.stringify(e)):(0,c.logError)(x),e&&e.bid&&e.bid[0]}function B(e,t,r,n,i){if(e){var o;if(e.adid||(o=O+JSON.stringify(e)),o||e.adm||e.nurl){var a=t.bidsMap?t.bidsMap[e.impid]:t.bidObject,s=a||{},d=s.bid,u=s.savedPrebidBid;if(d&&function(e,t){if((0,c.isNumber)(t))return e>t||e===t&&Math.random()>.5;return!0}(e.price,u&&u.cpm)){var l={requestId:d.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};a.savedPrebidBid=l,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(l.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},l.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(l.vastXml=e.adm,l.adResponse={content:l.vastXml}):e.nurl&&(l.vastUrl=e.nurl),l.mediaType=p.VIDEO,d.renderer||d.mediaTypes&&d.mediaTypes.video&&"outstream"!==d.mediaTypes.video.context||(l.renderer=function(e,t,r){var n=r.install({id:t.id,url:t.url,loaded:!1});try{n.setRender(U)}catch(e){(0,c.logWarn)("Prebid Error calling setRender on renderer",e)}return n}(0,{id:d.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},n))):(l.ad=e.adm,l.mediaType=p.BANNER);var f=k[i]&&k[i].bidResponseExternal||{};r.push((0,c.mergeDeep)(l,f))}}else o=T+JSON.stringify(e);o&&(0,c.logError)(o)}}function U(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}t.spec=N,(0,l.registerBidder)(N),(0,d.registerModule)("gridBidAdapter")},function(e,t,r){"use strict";var n=r(46);const i=r(502),o=r(503);(0,n.instantiateBidBarrel)(i,o)},function(e,t,r){"use strict";e.exports={dfpPath:{property:"cbsnews"},collapseEmptyDivs:!0,targeting:{auto:!0,cookie:{consolidate:!0},seats:{session:4}},dynamicBidders:{rubicon:(e,t,r)=>e.included?"emea"===r.regionCode()?{siteId:r.isMobile()?"331596":"331594",accountId:9818,zoneId:r.isMobile()?"1735630":"1735628"}:{siteId:r.isMobile()?"330164":"320764",accountId:10970,zoneId:r.isMobile()?"1723280":"1660824"}:null},prebid:{ids:{identityLink:{enabled:!0,template:!0,userSyncConfig:{params:{pid:"13294"}}},uid2:{enabled:!0}},pbjsConfig:{s2sConfig:{enabled:!0}}}}},function(e){e.exports=JSON.parse('[{"code":"intromercial","sizes":[[1,1]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"outOfPage":true,"collapseEmptyDiv":[true],"bids":[]},{"code":"omni-intromercial","sizes":[[6,6]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"amazon","params":{"included":true}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}}]},{"code":"omni-skybox-plus-sticky","sizes":[[6,6],[728,90],[970,66],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"omni-scroll-prestitial-plus"}},{"bidder":"appnexus","params":{"placementId":"19221081"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723437}},{"bidder":"ix","params":{"siteId":"506185","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_k69dmYa95B"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068523"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15528"}},{"bidder":"yieldmo","params":{"placementId":"3092371294415430262"}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_k69dmYa95B"}}]},{"code":"omni-skybox-sticky","sizes":[[6,6],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"amazon","params":{"included":true}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_k69dmYa95B"}}]},{"code":"mpu-top","sizes":[[300,250]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-top"}},{"bidder":"appnexus","params":{"placementId":"19221083"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723441}},{"bidder":"gumgum","params":{"inSlot":"92387"}},{"bidder":"ix","params":{"siteId":"506187","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"662569531"}},{"bidder":"openx","params":{"unit":"541068525"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15534"}},{"bidder":"yieldmo","params":{"placementId":"3092371312912311153"}}]},{"code":"mpu-flex-inc","sizes":[[300,250],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"QtuXKgEi762dWHfanZwHmxDy","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-flex-middle-door"}},{"bidder":"appnexus","params":{"placementId":"19221086"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723446}},{"bidder":"gumgum","params":{"inSlot":"92390"}},{"bidder":"ix","params":{"siteId":"506190","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_cknNGdtvrI"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"662569531"}},{"bidder":"openx","params":{"unit":"541068532"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUFlexMiddle_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15537"}},{"bidder":"yieldmo","params":{"placementId":"3092371301856125656"}}]},{"code":"mpu-plus-native-top","sizes":[[300,250],[300,600],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-native-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221087"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723448}},{"bidder":"gumgum","params":{"inSlot":"92391"}},{"bidder":"ix","params":{"siteId":"506191","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"726648465"}},{"bidder":"openx","params":{"unit":"541068534"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15538"}},{"bidder":"yieldmo","params":{"placementId":"3092371301109539535"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-native-top"}},{"bidder":"appnexus","params":{"placementId":"19221088"}},{"bidder":"pulsepoint","params":{"cf":"300X600","cp":562342,"ct":723451}},{"bidder":"gumgum","params":{"inSlot":"92392"}},{"bidder":"ix","params":{"siteId":"506192","size":[300,600]}},{"bidder":"kargo","params":{"placementId":"_vZeChKiH7o"}},{"bidder":"openx","params":{"unit":"541068644"}},{"bidder":"trustx","params":{"uid":"15539"}}]},{"code":"leader-plus-top","sizes":[[728,90],[970,250],[970,66]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-plus-top_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221089"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723453}},{"bidder":"gumgum","params":{"inSlot":"92393"}},{"bidder":"ix","params":{"siteId":"506193","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068537"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_LeaderPlus_Top_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15540"}},{"bidder":"yieldmo","params":{"placementId":"3092371315017851790"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-plus-top"}},{"bidder":"appnexus","params":{"placementId":"19221090"}},{"bidder":"pulsepoint","params":{"cf":"970X250","cp":562342,"ct":723457}},{"bidder":"ix","params":{"siteId":"506194","size":[970,250]}},{"bidder":"openx","params":{"unit":"541068613"}},{"bidder":"trustx","params":{"uid":"15541"}}]},{"code":"leader-top","sizes":[[728,90],[970,66]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader_top_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221091"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723459}},{"bidder":"gumgum","params":{"inSlot":"92394"}},{"bidder":"ix","params":{"siteId":"506195","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068526"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_Top_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15542"}},{"bidder":"yieldmo","params":{"placementId":"3092371303458349806"}}]},{"code":"leader-bottom-all","sizes":[[728,90],[970,250],[970,66]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"bottom"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-bottom-all_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221095"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723467}},{"bidder":"gumgum","params":{"inSlot":"92397"}},{"bidder":"ix","params":{"siteId":"506199","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068533"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_LeaderPlus_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15546"}},{"bidder":"yieldmo","params":{"placementId":"3092371300505559751"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-bottom-all"}},{"bidder":"appnexus","params":{"placementId":"19221096"}},{"bidder":"pulsepoint","params":{"cf":"970X250","cp":562342,"ct":723469}},{"bidder":"ix","params":{"siteId":"506200","size":[970,250]}},{"bidder":"openx","params":{"unit":"541068616"}},{"bidder":"trustx","params":{"uid":"15547"}}]},{"code":"mpu-flex-plus-top","sizes":[[300,250],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-flex-plus-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221101"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723480}},{"bidder":"gumgum","params":{"inSlot":"92401"}},{"bidder":"ix","params":{"siteId":"506205","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"662569531"}},{"bidder":"openx","params":{"unit":"541068530"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15552"}},{"bidder":"yieldmo","params":{"placementId":"3092371311175869273"}}]},{"code":"mpu-flex-top","sizes":[[300,250],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-flex-plus-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221101"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723480}},{"bidder":"gumgum","params":{"inSlot":"92401"}},{"bidder":"ix","params":{"siteId":"506205","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"662569531"}},{"bidder":"openx","params":{"unit":"541068530"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15552"}},{"bidder":"yieldmo","params":{"placementId":"3092371311175869273"}}]},{"code":"mpu-plus-top-right-rail","sizes":[[300,250],[300,600],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top","strnativekey":"7vR4msDoiF6LbjzNmQUcYwLE","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-top-right-rail_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221103"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723483}},{"bidder":"gumgum","params":{"inSlot":"92403"}},{"bidder":"ix","params":{"siteId":"506207","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"726648465"}},{"bidder":"openx","params":{"unit":"541068535"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15554"}},{"bidder":"yieldmo","params":{"placementId":"3092371295807939208"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-top-right-rail"}},{"bidder":"appnexus","params":{"placementId":"19221104"}},{"bidder":"pulsepoint","params":{"cf":"300X600","cp":562342,"ct":723484}},{"bidder":"gumgum","params":{"inSlot":"92404"}},{"bidder":"ix","params":{"siteId":"506208","size":[300,600]}},{"bidder":"kargo","params":{"placementId":"_vZeChKiH7o"}},{"bidder":"openx","params":{"unit":"541068627"}},{"bidder":"trustx","params":{"uid":"15555"}}]},{"code":"leader-plus-outstream-middle","sizes":[[728,90],[970,250],[970,66],[641,321],[1,1]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"middle"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle-plus-content_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221105"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723486}},{"bidder":"gumgum","params":{"inSlot":"276586"}},{"bidder":"ix","params":{"siteId":"506209","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068540"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_PlusContent_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15556"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle-plus-content"}},{"bidder":"appnexus","params":{"placementId":"19221106"}},{"bidder":"pulsepoint","params":{"cf":"970X250","cp":562342,"ct":723488}},{"bidder":"ix","params":{"siteId":"506210","size":[970,250]}},{"bidder":"openx","params":{"unit":"541068630"}},{"bidder":"trustx","params":{"uid":"15557"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"126429"}},{"bidder":"yieldmo","params":{"placementId":"3326383645375013092"}}]},{"code":"leader-flex-top","sizes":[[728,90],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"media-post-flex-top"}},{"bidder":"appnexus","params":{"placementId":"19221108"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723501}},{"bidder":"gumgum","params":{"inSlot":"92407"}},{"bidder":"ix","params":{"siteId":"506212","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068547"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_Top_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15559"}},{"bidder":"yieldmo","params":{"placementId":"3092371299977077440"}}]},{"code":"leader-flex-inc","sizes":[[728,90],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"media-post-flex-inc"}},{"bidder":"appnexus","params":{"placementId":"19221110"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723506}},{"bidder":"gumgum","params":{"inSlot":"92409"}},{"bidder":"ix","params":{"siteId":"506214","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068552"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15561"}},{"bidder":"yieldmo","params":{"placementId":"3092371312039895909"}}]},{"code":"leader-middle-plus-door","sizes":[[728,90],[970,250],[970,66]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"middle"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle-plus-door_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221116"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723518}},{"bidder":"gumgum","params":{"inSlot":"92414"}},{"bidder":"ix","params":{"siteId":"506220","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068556"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_LeaderPlus_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15567"}},{"bidder":"yieldmo","params":{"placementId":"3092371304540480253"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle-plus-door"}},{"bidder":"appnexus","params":{"placementId":"19221117"}},{"bidder":"pulsepoint","params":{"cf":"970X250","cp":562342,"ct":723520}},{"bidder":"ix","params":{"siteId":"506221","size":[970,250]}},{"bidder":"openx","params":{"unit":"541068638"}},{"bidder":"trustx","params":{"uid":"15568"}}]},{"code":"leader-plus-inc","sizes":[[728,90],[970,250],[970,66]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle2-plus-door_728x90"}},{"bidder":"appnexus","params":{"placementId":"19221118"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723521}},{"bidder":"gumgum","params":{"inSlot":"92415"}},{"bidder":"ix","params":{"siteId":"506222","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541068563"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_LeaderPlus_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15569"}},{"bidder":"yieldmo","params":{"placementId":"3092371316578132899"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"leader-middle2-plus-door"}},{"bidder":"appnexus","params":{"placementId":"19221119"}},{"bidder":"pulsepoint","params":{"cf":"970X250","cp":562342,"ct":723523}},{"bidder":"ix","params":{"siteId":"506223","size":[970,250]}},{"bidder":"openx","params":{"unit":"541068641"}},{"bidder":"trustx","params":{"uid":"15570"}}]},{"code":"mpu-plus-native-inc","sizes":[[300,250],[300,600],[11,11],"fluid"],"cache":false,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-native-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"18364184"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723525}},{"bidder":"gumgum","params":{"inSlot":"92416"}},{"bidder":"ix","params":{"siteId":"454692","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"726648465"}},{"bidder":"openx","params":{"unit":"541068615"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"12591"}},{"bidder":"yieldmo","params":{"placementId":"3092371296697131668"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"mpu-plus-native-inc"}},{"bidder":"appnexus","params":{"placementId":"18364185"}},{"bidder":"pulsepoint","params":{"cf":"300X600","cp":562342,"ct":723527}},{"bidder":"gumgum","params":{"inSlot":"92417"}},{"bidder":"ix","params":{"siteId":"454693","size":[300,600]}},{"bidder":"kargo","params":{"placementId":"_vZeChKiH7o"}},{"bidder":"openx","params":{"unit":"541068541"}},{"bidder":"trustx","params":{"uid":"12592"}}]},{"code":"cf-omni-sticky","sizes":[[6,6]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}}]},{"code":"cf-leader-top","sizes":[[728,90],[970,66]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-leader-top"}},{"bidder":"appnexus","params":{"placementId":"19866175"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723528}},{"bidder":"gumgum","params":{"inSlot":"92419"}},{"bidder":"ix","params":{"siteId":"557885","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541189281"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_Top_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20571"}},{"bidder":"yieldmo","params":{"placementId":"3092371295438840451"}}]},{"code":"cf-mpu-plus-flex-right-rail-top","sizes":[[300,250],[300,600],[11,11],"fluid",[336,280]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top","strnativekey":"7vR4msDoiF6LbjzNmQUcYwLE","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-mpu-plus-flex-right-rail-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866176"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723529}},{"bidder":"gumgum","params":{"inSlot":"92420"}},{"bidder":"ix","params":{"siteId":"557886","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"726648465"}},{"bidder":"openx","params":{"unit":"541189284"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20572"}},{"bidder":"yieldmo","params":{"placementId":"3092371294490927735"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-mpu-plus-flex-right-rail-top"}},{"bidder":"appnexus","params":{"placementId":"19866177"}},{"bidder":"pulsepoint","params":{"cf":"300X600","cp":562342,"ct":723530}},{"bidder":"gumgum","params":{"inSlot":"92421"}},{"bidder":"ix","params":{"siteId":"557887","size":[300,600]}},{"bidder":"kargo","params":{"placementId":"_vZeChKiH7o"}},{"bidder":"openx","params":{"unit":"541189287"}},{"bidder":"trustx","params":{"uid":"20573"}}]},{"code":"cf-leader-flex-middle","sizes":[[728,90],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"middle","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-leader-flex-middle"}},{"bidder":"appnexus","params":{"placementId":"19866178"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723531}},{"bidder":"gumgum","params":{"inSlot":"92422"}},{"bidder":"ix","params":{"siteId":"557888","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541189290"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20574"}},{"bidder":"yieldmo","params":{"placementId":"3092371304179770104"}}]},{"code":"cf-leader-flex-inc","sizes":[[728,90],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-leader-flex-inc"}},{"bidder":"appnexus","params":{"placementId":"19866179"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723532}},{"bidder":"gumgum","params":{"inSlot":"92423"}},{"bidder":"ix","params":{"siteId":"557889","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541189292"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20575"}},{"bidder":"yieldmo","params":{"placementId":"3092371294130217586"}}]},{"code":"cf-mpu-plus-flex-right-rail-inc","sizes":[[300,250],[300,600],[11,11],"fluid",[336,280]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"7vR4msDoiF6LbjzNmQUcYwLE","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-mpu-plus-flex-right-rail-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866180"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723533}},{"bidder":"gumgum","params":{"inSlot":"92424"}},{"bidder":"ix","params":{"siteId":"557890","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"726648465"}},{"bidder":"openx","params":{"unit":"541189294"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_MPUPlusTop_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20576"}},{"bidder":"yieldmo","params":{"placementId":"3092371315244344209"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-mpu-plus-flex-right-rail-inc"}},{"bidder":"appnexus","params":{"placementId":"19866182"}},{"bidder":"pulsepoint","params":{"cf":"300X600","cp":562342,"ct":723534}},{"bidder":"gumgum","params":{"inSlot":"92425"}},{"bidder":"ix","params":{"siteId":"557891","size":[300,600]}},{"bidder":"kargo","params":{"placementId":"_vZeChKiH7o"}},{"bidder":"openx","params":{"unit":"541189278"}},{"bidder":"trustx","params":{"uid":"20577"}}]},{"code":"cf-leader-flex-inc2","sizes":[[728,90],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc2","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf1015301be","pos":"cf-leader-flex-inc2_728x90"}},{"bidder":"appnexus","params":{"placementId":"19866183"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723535}},{"bidder":"gumgum","params":{"inSlot":"92426"}},{"bidder":"ix","params":{"siteId":"557893","size":[728,90]}},{"bidder":"kargo","params":{"placementId":"_r5zHjIIfue"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"445510186"}},{"bidder":"openx","params":{"unit":"541189280"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DT_Leader_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20578"}},{"bidder":"yieldmo","params":{"placementId":"3092371306251756309"}}]},{"code":"in-feed-native-inc","sizes":[[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"z6EK2vvVx4Umk2PC9afSRoeS","native":"trad direct"},"bids":[{"bidder":"appnexus","params":{"placementId":"23366783"}}]},{"code":"native-video-shelf","sizes":[[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"appnexus","params":{"placementId":"23366785"}}]},{"code":"sponsor-playlist-logo","sizes":[[220,32]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[]},{"code":"player-sponsor-bar","sizes":[[320,36]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[]},{"code":"image_top","sizes":[[4,4]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[]},{"code":"mobile-omni-skybox-plus-sticky","sizes":[[6,6],[320,50],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-omni-scroll-prestitial-plus"}},{"bidder":"appnexus","params":{"placementId":"19221120"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723536}},{"bidder":"ix","params":{"siteId":"506226","size":[320,50]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"386387465"}},{"bidder":"openx","params":{"unit":"541068545"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15571"}},{"bidder":"yieldmo","params":{"placementId":"3092371314220934019"}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_ygNh4a9fMg"}}]},{"code":"mobile-omni-skybox-sticky","sizes":[[6,6],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"amazon","params":{"included":true}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_ygNh4a9fMg"}}]},{"code":"mobile-omni-plus-sticky","sizes":[[6,6],[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_ygNh4a9fMg"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"386387465"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"yieldmo","params":{"placementId":"3092371304607589118"}}]},{"code":"mobile-skybox-banner-sticky","sizes":[[5,5],[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"386387465"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"130882"}},{"bidder":"yieldmo","params":{"placementId":"3092371302762095332"}}]},{"code":"mobile-banner-top","sizes":[[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-banner-top"}},{"bidder":"appnexus","params":{"placementId":"19221121"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723538}},{"bidder":"gumgum","params":{"inSlot":"92427"}},{"bidder":"ix","params":{"siteId":"506227","size":[320,50]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"386387465"}},{"bidder":"openx","params":{"unit":"541068551"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15572"}},{"bidder":"yieldmo","params":{"placementId":"3092371306176258836"}}]},{"code":"mobile-flex-top","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221129"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723546}},{"bidder":"gumgum","params":{"inSlot":"92435"}},{"bidder":"ix","params":{"siteId":"506235","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_jK5-oqWWnao"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541068549"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15580"}},{"bidder":"yieldmo","params":{"placementId":"3092371295875048073"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-top"}},{"bidder":"appnexus","params":{"placementId":"19221130"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723547}},{"bidder":"gumgum","params":{"inSlot":"92436"}},{"bidder":"ix","params":{"siteId":"506236","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068619"}},{"bidder":"trustx","params":{"uid":"15581"}}]},{"code":"mobile-mpu-plus-outstream-inc","sizes":[[300,250],[320,50],[320,480],[320,180],[11,11],"fluid",[1,1]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-pos2_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221131"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723548}},{"bidder":"gumgum","params":{"inSlot":"276586"}},{"bidder":"ix","params":{"siteId":"506237","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_qXB7Xh5KKL"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"349141788"}},{"bidder":"openx","params":{"unit":"541068553"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15582"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-pos2"}},{"bidder":"appnexus","params":{"placementId":"19221132"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723549}},{"bidder":"ix","params":{"siteId":"506238","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068621"}},{"bidder":"trustx","params":{"uid":"15583"}},{"bidder":"teads","params":{"pageId":"116487","placementId":"126429"}},{"bidder":"yieldmo","params":{"placementId":"3326383645509230821"}}]},{"code":"mobile-flex-inc","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221135"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723552}},{"bidder":"gumgum","params":{"inSlot":"92441"}},{"bidder":"ix","params":{"siteId":"506241","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_jK5-oqWWnao"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541068561"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15586"}},{"bidder":"yieldmo","params":{"placementId":"3092371303038919400"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile_flex_inc_320x50"}},{"bidder":"appnexus","params":{"placementId":"19221136"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723553}},{"bidder":"gumgum","params":{"inSlot":"92442"}},{"bidder":"ix","params":{"siteId":"506242","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068629"}},{"bidder":"trustx","params":{"uid":"15587"}}]},{"code":"mobile-banner-plus-inc","sizes":[[300,250],[320,50]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"3","strnativekey":"MJJRBxVe2zRLVeZKTUcrkS64","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-door3_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221149"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723566}},{"bidder":"gumgum","params":{"inSlot":"92455"}},{"bidder":"ix","params":{"siteId":"506255","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_jK5-oqWWnao"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541068559"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15618"}},{"bidder":"yieldmo","params":{"placementId":"3092371300346176197"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-flex-door3"}},{"bidder":"appnexus","params":{"placementId":"19221150"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723567}},{"bidder":"gumgum","params":{"inSlot":"92456"}},{"bidder":"ix","params":{"siteId":"506256","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068624"}},{"bidder":"trustx","params":{"uid":"15619"}}]},{"code":"mobile-cf-omni-sticky","sizes":[[6,6]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"gumgum","params":{"inScreen":"1tmfhkyc"}},{"bidder":"kargo","params":{"placementId":"_ygNh4a9fMg"}}]},{"code":"mobile-cf-mobile-banner-top","sizes":[[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mobile-banner-top"}},{"bidder":"appnexus","params":{"placementId":"19866184"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723568}},{"bidder":"gumgum","params":{"inSlot":"92457"}},{"bidder":"ix","params":{"siteId":"557895","size":[320,50]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"386387465"}},{"bidder":"openx","params":{"unit":"541189282"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20579"}},{"bidder":"yieldmo","params":{"placementId":"3092371302392996575"}}]},{"code":"mobile-cf-mpu-flex-pos2","sizes":[[300,250],[320,50],[11,11],"fluid",[336,280],[320,100]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"2","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-pos2_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866185"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723569}},{"bidder":"gumgum","params":{"inSlot":"92458"}},{"bidder":"ix","params":{"siteId":"557897","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_jK5-oqWWnao"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541189285"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20580"}},{"bidder":"yieldmo","params":{"placementId":"3092371312492880747"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-pos2"}},{"bidder":"appnexus","params":{"placementId":"19866186"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723570}},{"bidder":"gumgum","params":{"inSlot":"92459"}},{"bidder":"ix","params":{"siteId":"557899","size":[320,50]}},{"bidder":"openx","params":{"unit":"541189288"}},{"bidder":"trustx","params":{"uid":"20581"}}]},{"code":"mobile-cf-mpu-flex-pos3","sizes":[[300,250],[320,50],[11,11],"fluid",[336,280],[320,100]],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"3","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-pos3_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866187"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723571}},{"bidder":"gumgum","params":{"inSlot":"92460"}},{"bidder":"ix","params":{"siteId":"557900","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_jK5-oqWWnao"}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541189291"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20582"}},{"bidder":"yieldmo","params":{"placementId":"3092371317106615210"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-pos3"}},{"bidder":"appnexus","params":{"placementId":"19866188"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723572}},{"bidder":"gumgum","params":{"inSlot":"92461"}},{"bidder":"ix","params":{"siteId":"557901","size":[320,50]}},{"bidder":"openx","params":{"unit":"541189293"}},{"bidder":"trustx","params":{"uid":"20583"}}]},{"code":"mobile-cf-mpu-flex-inc","sizes":[[300,250],[320,50],[11,11],"fluid",[336,280],[320,100]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866189"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723573}},{"bidder":"gumgum","params":{"inSlot":"92462"}},{"bidder":"ix","params":{"siteId":"557902","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541189295"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20584"}},{"bidder":"yieldmo","params":{"placementId":"3092371315605054358"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-inc"}},{"bidder":"appnexus","params":{"placementId":"19866190"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723574}},{"bidder":"gumgum","params":{"inSlot":"92463"}},{"bidder":"ix","params":{"siteId":"557903","size":[320,50]}},{"bidder":"kargo","params":{"placementId":"_nasBfnhQXL"}},{"bidder":"openx","params":{"unit":"541189296"}},{"bidder":"trustx","params":{"uid":"20585"}}]},{"code":"mobile-cf-mpu-flex-inc2","sizes":[[300,250],[320,50],[11,11],"fluid",[336,280],[320,100]],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc2","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-inc2_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866191"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723575}},{"bidder":"gumgum","params":{"inSlot":"92464"}},{"bidder":"ix","params":{"siteId":"557904","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541189297"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20586"}},{"bidder":"yieldmo","params":{"placementId":"3092371308860613432"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-inc2"}},{"bidder":"appnexus","params":{"placementId":"19866192"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723576}},{"bidder":"gumgum","params":{"inSlot":"92465"}},{"bidder":"ix","params":{"siteId":"557905","size":[320,50]}},{"bidder":"kargo","params":{"placementId":"_nasBfnhQXL"}},{"bidder":"openx","params":{"unit":"541189283"}},{"bidder":"trustx","params":{"uid":"20587"}}]},{"code":"mobile-cf-mpu-flex-bottom","sizes":[[300,250],[320,50],[11,11],"fluid",[336,280],[320,100]],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"bottom","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-bottom_300x250"}},{"bidder":"appnexus","params":{"placementId":"19866193"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723577}},{"bidder":"gumgum","params":{"inSlot":"92466"}},{"bidder":"ix","params":{"siteId":"557906","size":[300,250]}},{"bidder":"medianet","params":{"cid":"8CUXI3IW6","crid":"578415615"}},{"bidder":"openx","params":{"unit":"541189286"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"20588"}},{"bidder":"yieldmo","params":{"placementId":"3092371317467325359"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"mobile-cf-mpu-flex-bottom"}},{"bidder":"appnexus","params":{"placementId":"19866194"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723578}},{"bidder":"gumgum","params":{"inSlot":"92467"}},{"bidder":"ix","params":{"siteId":"557907","size":[320,50]}},{"bidder":"kargo","params":{"placementId":"_nasBfnhQXL"}},{"bidder":"openx","params":{"unit":"541189289"}},{"bidder":"trustx","params":{"uid":"20589"}}]},{"code":"app-flex-inc","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221151"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723579}},{"bidder":"gumgum","params":{"inSlot":"92468"}},{"bidder":"ix","params":{"siteId":"506257","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068564"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15599"}},{"bidder":"yieldmo","params":{"placementId":"3092371300430062278"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-inc"}},{"bidder":"appnexus","params":{"placementId":"19221152"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723580}},{"bidder":"gumgum","params":{"inSlot":"92469"}},{"bidder":"ix","params":{"siteId":"506258","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068628"}},{"bidder":"trustx","params":{"uid":"15600"}}]},{"code":"app-gallery-flex-inc","sizes":[[300,250],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"kzdmhASrqeRuSvdXxPrWCbQT","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-gallery-flex-inc"}},{"bidder":"appnexus","params":{"placementId":"19221153"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723581}},{"bidder":"gumgum","params":{"inSlot":"92470"}},{"bidder":"ix","params":{"siteId":"506259","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068570"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15601"}},{"bidder":"yieldmo","params":{"placementId":"3092371313566622586"}}]},{"code":"app-flex-top","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-top_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221154"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723582}},{"bidder":"gumgum","params":{"inSlot":"92472"}},{"bidder":"ix","params":{"siteId":"506260","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068573"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_Top_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15602"}},{"bidder":"yieldmo","params":{"placementId":"3092371304255267577"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-top"}},{"bidder":"appnexus","params":{"placementId":"19221155"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723583}},{"bidder":"gumgum","params":{"inSlot":"92473"}},{"bidder":"ix","params":{"siteId":"506261","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068631"}},{"bidder":"trustx","params":{"uid":"15603"}}]},{"code":"app-flex-pos2","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"2","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-pos2_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221156"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723584}},{"bidder":"gumgum","params":{"inSlot":"92474"}},{"bidder":"ix","params":{"siteId":"506262","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068578"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15604"}},{"bidder":"yieldmo","params":{"placementId":"3092371309363929919"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-pos2"}},{"bidder":"appnexus","params":{"placementId":"19221157"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723585}},{"bidder":"gumgum","params":{"inSlot":"92475"}},{"bidder":"ix","params":{"siteId":"506263","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068633"}},{"bidder":"trustx","params":{"uid":"15605"}}]},{"code":"app-flex-pos3","sizes":[[300,250],[320,50],[11,11],"fluid"],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"3","strnativekey":"c0fb202c","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-pos3_300x250"}},{"bidder":"appnexus","params":{"placementId":"19221158"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723586}},{"bidder":"gumgum","params":{"inSlot":"92476"}},{"bidder":"ix","params":{"siteId":"506264","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068636"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15606"}},{"bidder":"yieldmo","params":{"placementId":"3092371305463227146"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-flex-pos3"}},{"bidder":"appnexus","params":{"placementId":"19221159"}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723662}},{"bidder":"gumgum","params":{"inSlot":"92477"}},{"bidder":"ix","params":{"siteId":"506265","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068565"}},{"bidder":"trustx","params":{"uid":"15607"}}]},{"code":"app-gallery-flex-pos1","sizes":[[300,250],[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"1","strnativekey":"kzdmhASrqeRuSvdXxPrWCbQT","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-gallery-flex-pos1"}},{"bidder":"appnexus","params":{"placementId":"19221160"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723664}},{"bidder":"gumgum","params":{"inSlot":"92478"}},{"bidder":"ix","params":{"siteId":"506266","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068569"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15608"}},{"bidder":"yieldmo","params":{"placementId":"3092371309078717243"}}]},{"code":"app-gallery-flex-pos2","sizes":[[300,250],[11,11],"fluid"],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"2","strnativekey":"kzdmhASrqeRuSvdXxPrWCbQT","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-gallery-flex-pos2"}},{"bidder":"appnexus","params":{"placementId":"19221161"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723665}},{"bidder":"gumgum","params":{"inSlot":"92479"}},{"bidder":"ix","params":{"siteId":"506267","size":[300,250]}},{"bidder":"openx","params":{"unit":"541068572"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppFlex_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15609"}},{"bidder":"yieldmo","params":{"placementId":"3092371310672552786"}}]},{"code":"app-sticky-phone","sizes":[[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-sticky-phone"}},{"bidder":"appnexus","params":{"placementId":"19221162"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723667}},{"bidder":"gumgum","params":{"inSlot":"92480"}},{"bidder":"ix","params":{"siteId":"506268","size":[320,50]}},{"bidder":"openx","params":{"unit":"541068577"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15610"}},{"bidder":"yieldmo","params":{"placementId":"3092371296764240533"}}]},{"code":"app-sticky-tablet","sizes":[[728,90]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"sticky"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-sticky-tablet"}},{"bidder":"appnexus","params":{"placementId":"19221163"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723669}},{"bidder":"gumgum","params":{"inSlot":"92481"}},{"bidder":"ix","params":{"siteId":"506269","size":[728,90]}},{"bidder":"openx","params":{"unit":"541068581"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15611"}},{"bidder":"yieldmo","params":{"placementId":"3092371303961666293"}}]},{"code":"app-web-phone-banner-top","sizes":[[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-phone-banner-top_320x50"}},{"bidder":"appnexus","params":{"placementId":"19077259"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"320X50","cp":562342,"ct":723670}},{"bidder":"gumgum","params":{"inSlot":"92482"}},{"bidder":"ix","params":{"siteId":"495447","size":[320,50]}},{"bidder":"openx","params":{"unit":"541046801"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_DirectDisplay_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15454"}},{"bidder":"yieldmo","params":{"placementId":"3092371297158505114"}}]},{"code":"app-web-tablet-leader-top","sizes":[[728,90]],"cache":false,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-leader-top_728x90"}},{"bidder":"appnexus","params":{"placementId":"19077260"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723672}},{"bidder":"gumgum","params":{"inSlot":"92483"}},{"bidder":"ix","params":{"siteId":"495448","size":[728,90]}},{"bidder":"openx","params":{"unit":"541046803"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_Top_728x90_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15455"}},{"bidder":"yieldmo","params":{"placementId":"3092371295740830343"}}]},{"code":"app-web-tablet-flex-pos2","sizes":[[728,90],[300,250],[11,11],"fluid"],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"2","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-pos2_728x90"}},{"bidder":"appnexus","params":{"placementId":"19077263"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723674}},{"bidder":"gumgum","params":{"inSlot":"92484"}},{"bidder":"ix","params":{"siteId":"495449","size":[728,90]}},{"bidder":"openx","params":{"unit":"541046806"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_728x90_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15456"}},{"bidder":"yieldmo","params":{"placementId":"3092371310815159124"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-pos2_300x250"}},{"bidder":"appnexus","params":{"placementId":"19077265"}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723676}},{"bidder":"gumgum","params":{"inSlot":"92485"}},{"bidder":"ix","params":{"siteId":"495450","size":[300,250]}},{"bidder":"openx","params":{"unit":"541046807"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15457"}}]},{"code":"app-web-tablet-flex-pos3","sizes":[[728,90],[300,250],[11,11],"fluid"],"cache":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"3","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-pos3_728x90"}},{"bidder":"appnexus","params":{"placementId":"19077268"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723677}},{"bidder":"gumgum","params":{"inSlot":"92486"}},{"bidder":"ix","params":{"siteId":"495451","size":[728,90]}},{"bidder":"openx","params":{"unit":"541046809"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_728x90_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15458"}},{"bidder":"yieldmo","params":{"placementId":"3092371313927332735"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-pos3_300x250"}},{"bidder":"appnexus","params":{"placementId":"19077270"}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723679}},{"bidder":"gumgum","params":{"inSlot":"92487"}},{"bidder":"ix","params":{"siteId":"495452","size":[300,250]}},{"bidder":"openx","params":{"unit":"541046810"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15459"}}]},{"code":"app-web-tablet-flex-inc","sizes":[[728,90],[300,250],[11,11],"fluid"],"cache":true,"incremental":true,"allowedTypes":{"banner":true,"native":true,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"inc","strnativekey":"SsB2hzAMffZidmSbiJJxMT5V","native":"trad direct"},"bids":[{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-inc_728x90"}},{"bidder":"appnexus","params":{"placementId":"19077273"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"pulsepoint","params":{"cf":"728X90","cp":562342,"ct":723680}},{"bidder":"gumgum","params":{"inSlot":"92488"}},{"bidder":"ix","params":{"siteId":"495453","size":[728,90]}},{"bidder":"openx","params":{"unit":"541046812"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_728x90_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15460"}},{"bidder":"yieldmo","params":{"placementId":"3092371310420894542"}},{"bidder":"yahoossp","params":{"dcn":"8a9694c7017474db0327dbf0d11e0166","pos":"app-web-tablet-flex-inc_300x250"}},{"bidder":"appnexus","params":{"placementId":"19077274"}},{"bidder":"pulsepoint","params":{"cf":"300X250","cp":562342,"ct":723682}},{"bidder":"gumgum","params":{"inSlot":"92489"}},{"bidder":"ix","params":{"siteId":"495454","size":[300,250]}},{"bidder":"openx","params":{"unit":"541046814"}},{"bidder":"triplelift","params":{"inventoryCode":"CBSNews_MW_AppWebTablet_300x250_PrebidS2S"}},{"bidder":"trustx","params":{"uid":"15461"}}]}]')}]);
//# sourceMappingURL=bidbarrel-cbsnews_us.min.js.map